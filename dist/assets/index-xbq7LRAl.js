const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/statsWorker-Bgulmksh.js","assets/utils-C1AOsrYY.js","assets/quantizationUtils-Dj-w3gih.js","assets/heatmapUtils-DZTqcKJl.js","assets/vec42-Dmy7JOK8.js","assets/vec4f64-CCf6w8sj.js","assets/utils-B0FQ3esS.js","assets/utils-CkRWF6y5.js","assets/ClassBreaksDefinition-Dj325P66.js","assets/geometryEngineWorker-CNhBf5Vw.js","assets/geometryEngineJSON-DPeIgkyA.js","assets/geometryEngineBase-CttSbhzJ.js","assets/json-Wa8cmqdu.js","assets/CSVSourceWorker-CP8YuWxn.js","assets/date-M6n_RqpC.js","assets/OptimizedFeature-DUj7o6ET.js","assets/FeatureStore-Di7pnI_Y.js","assets/featureConversionUtils-RHoZdd80.js","assets/OptimizedFeatureSet-Blu9Ckm7.js","assets/BoundsStore-Btlj6GYr.js","assets/PooledRBush-DNRaHMWm.js","assets/timeSupport-Yu3mOoiw.js","assets/QueryEngine-Byc1P_mH.js","assets/LRUCache-QDI8wliO.js","assets/WhereClause-DGBp5Cgb.js","assets/TimeOnly-zm5PW-Xy.js","assets/UnknownTimeZone-yUshbYci.js","assets/QueryEngineCapabilities-CTDe3LlQ.js","assets/FieldsIndex-CGICfJ2k.js","assets/number-Jca1HS0O.js","assets/clientSideDefaults-BnRK7gJx.js","assets/defaultsJSON-GKolV7NZ.js","assets/EdgeProcessingWorker-0ADKndoO.js","assets/InterleavedLayout-DIdMUumm.js","assets/BufferView-D_ggF0Y2.js","assets/types-D0PSWh4d.js","assets/Util-s1_hMKHE.js","assets/edgeProcessing-DkXc3EoO.js","assets/deduplicate-CaazAV_L.js","assets/Indices-wFQSJNZy.js","assets/VertexAttribute-BlT9lbVY.js","assets/enums-BlUEVwJR.js","assets/VertexElementDescriptor-BOD-G50G.js","assets/ElevationSamplerWorker-LGO8ebTa.js","assets/MeshLocalVertexSpace-DeVlduu8.js","assets/vertexSpaceConversion-BQZHqAYK.js","assets/mat3f64-q3fE-ZOt.js","assets/mat4f64-CSKppSlJ.js","assets/spatialReferenceEllipsoidUtils-CaeX7-gN.js","assets/computeTranslationToOriginAndRotation-BWwWh-hw.js","assets/meshVertexSpaceUtils-Bra8koGT.js","assets/vec3-sB3fQDRZ.js","assets/projection-CtZEOrJO.js","assets/DoubleArray-CXJrgvyQ.js","assets/vec4-DAIEsp7_.js","assets/FeatureServiceSnappingSourceWorker-D_CsdZXW.js","assets/ElevationInfo-Cwa0hSJ4.js","assets/lengthUtils-hjdKSm_k.js","assets/pbfQueryUtils-Bl19FUAz.js","assets/pbf-4Ghyjea7.js","assets/query-oKXKVoyl.js","assets/queryZScale-tTxKuowc.js","assets/ByteSizeUnit-BsxeN7wM.js","assets/GeoJSONSourceWorker-KGsH9BTw.js","assets/geojson-C9_ZRlyO.js","assets/sourceUtils-Be5BPEW5.js","assets/MemorySourceWorker-B45cqX1E.js","assets/objectIdUtils-4dd1rf9p.js","assets/PBFDecoderWorker-aJeQ9eG6.js","assets/FeaturePipelineWorker-CsrNp65p.js","assets/definitions-Y_v3njP4.js","assets/diffUtils-CMku0PTa.js","assets/AttributeStore-Cnk_rnWA.js","assets/LabelMetric-v-96RQkf.js","assets/enums-BRXbslMp.js","assets/Texture-Bd0PAkMI.js","assets/Program-BZPH6wBq.js","assets/UpdateTracking2D-DBfkqqG3.js","assets/BidiEngine-BwB1Df7c.js","assets/GeometryUtils-DUA2NHae.js","assets/utils-BNpX3Phj.js","assets/Rect-CUzevAry.js","assets/defaults-zmeSXTBk.js","assets/BindType-BmZEZMMh.js","assets/highlightReasons-Do5kNyU0.js","assets/labelUtils-B38b05cC.js","assets/tileUtils-B7X19rIS.js","assets/MeshWriterRegistry-B4y7zeW2.js","assets/PieChartMeshWriter-CS_q8Miw.js","assets/TurboLine-DNHbZuTq.js","assets/earcut-zSh2G-7V.js","assets/constants-D5zmR9t2.js","assets/grouping-D3F6ltbh.js","assets/ogcFeatureUtils-CgKaTNlW.js","assets/CircularArray-CujHzHWW.js","assets/createConnection-DASmvm8B.js","assets/PointCloudWorker-2ZQpWm4s.js","assets/quat-BBy6MHTX.js","assets/quatf64-Bdb9ZJJK.js","assets/vec3f32-nZdmKIgz.js","assets/PointCloudUniqueValueRenderer-BFWI-YZf.js","assets/ColorStop-DTtvB9mb.js","assets/I3SBinaryReader-DYcKzvXz.js","assets/orientedBoundingBox-C7HmSVR1.js","assets/plane-C1hBecje.js","assets/RasterWorker-BqxC09dQ.js","assets/dataUtils-CVpgMbZC.js","assets/RasterSymbolizer-DtSYMaOn.js","assets/colorUtils-CAOQ4nvo.js","assets/PolynomialTransform-dXGymHd4.js","assets/colorRamps-yeFZLCSh.js","assets/rasterProjectionHelper-BJlnQjQE.js","assets/SceneLayerSnappingSourceWorker-JU6H8Cdk.js","assets/lineSegment-D6XY3pE9.js","assets/sphere-DrDrOv6s.js","assets/SceneLayerWorker-CnoFNTXk.js","assets/I3SUtil-BUWDzra0.js","assets/floatRGBA-DqPt1VBm.js","assets/NormalAttribute.glsl-DEi69voL.js","assets/interfaces-B8ge7Jg9.js","assets/WFSSourceWorker-Bl0N_qxw.js","assets/wfsUtils-BrEh8IMV.js","assets/xmlUtils-CtUoQO7q.js","assets/WorkerTileHandler-CKVaeZtd.js","assets/enums-BRzLM11V.js","assets/config-MDUrh2eL.js","assets/StyleDefinition-BK3ROBTO.js","assets/SourceLayerData-DA3PhZxm.js","assets/StyleRepository-CakXhNtz.js","assets/Popup-Cx6tVwIw.js","assets/AttachmentInfo-B6rhCVYj.js","assets/RelationshipQuery-BUAHFHn6.js","assets/utils-DAKMMDKd.js","assets/parser-ainqPSIf.js","assets/jsonUtils-Dfb6dbOO.js","assets/UniqueValueRenderer-B1dYbKHt.js","assets/sizeVariableUtils-Cmcuvw-4.js","assets/visualVariableUtils-C5B-ujWE.js","assets/jsonUtils-DBhfkAEZ.js","assets/styleUtils-BYYUClws.js","assets/OverrideHelper-CGylMZJ6.js","assets/executeQueryJSON-CIDhsKPo.js","assets/FeatureSet-BG8inNND.js","assets/TopFeaturesQuery-BG2U_1Hj.js","assets/FeatureLayer-CP41-XIy.js","assets/MultiOriginJSONSupport-DMWx2RMo.js","assets/commonProperties-DaxkwXA6.js","assets/FeatureLayerBase-Ca_pTMMJ.js","assets/featureLayerUtils-Y_4TaWup.js","assets/LayerFloorInfo-1hbXg1Wq.js","assets/Relationship-Dl01M8wf.js","assets/serviceCapabilitiesUtils-DzQGlfpX.js","assets/editsZScale-IQQF-leT.js","assets/APIKeyMixin-D-Lmgt3B.js","assets/ArcGISService-C0KYbM-y.js","assets/BlendLayer-DTkPSfTD.js","assets/jsonUtils-BVYcwSgO.js","assets/CustomParametersMixin-ZokGHDkE.js","assets/EditBusLayer-BW8fRDJA.js","assets/FeatureEffectLayer-CDjqJLwZ.js","assets/FeatureEffect-90lcX9b_.js","assets/FeatureReductionLayer-D3O7EbBt.js","assets/FeatureReductionSelection-Br9xYUcw.js","assets/labelingInfo-CrM7eJNZ.js","assets/MD5-C9MwAd2G.js","assets/OperationalLayer-D2QmD8nc.js","assets/OrderedLayer-DBLP3Zj5.js","assets/OrderByInfo-CftpN9RC.js","assets/PortalLayer-DnK0C8vG.js","assets/portalItemUtils-DWL7cg2a.js","assets/RefreshableLayer-Dqh0dXqi.js","assets/ScaleRangeLayer-DDWRZCy0.js","assets/TemporalLayer-DFNUULT-.js","assets/TimeInfo-BjKyYzsJ.js","assets/FeatureTemplate-B8CIsiQu.js","assets/FeatureType-CYMvPZFh.js","assets/fieldProperties-4kCC_anc.js","assets/versionUtils-BN2R_0If.js","assets/styleUtils-BBNoXZiE.js","assets/popupUtils-B7aJOFoe.js","assets/interfaces-CL2NbQte.js","assets/ElevationLayer-BGTArMbW.js","assets/ArcGISCachedService-CVFjOXRD.js","assets/TileInfoTilemapCache-Dnks9VY0.js","assets/TilemapCache-BdZjCod3.js","assets/layersCreator-Cn_pSo1S.js","assets/portalLayers-DbrqU9TQ.js","assets/associatedFeatureServiceUtils-BmVd81EC.js","assets/fetchService-CWGzI1iW.js","assets/arcgisLayers-vnbS18c_.js","assets/arcadeUtils-Cpet9i3n.js","assets/ImmutableArray-BPVd6ESQ.js","assets/webStyleSymbolUtils-QFEFA8Ox.js","assets/devEnvironmentUtils-D6qIi8Ky.js","assets/webglDeps-B_C5xfWq.js","assets/NestedMap-DgiGbX8E.js","assets/ProgramTemplate-2DVv_B0N.js","assets/mapViewDeps-7qaFlL9c.js","assets/SDFHelper-DLiS0Z6D.js","assets/Container-D0FNaGQw.js","assets/WGLContainer-GcXmU5zA.js","assets/MagnifierPrograms-BiWihKFq.js","assets/testSVGPremultipliedAlpha-C8UIYWB0.js","assets/RenderingContext-P1UuoT6G.js","assets/renderState-C37QfRey.js","assets/basicInterfaces-DngWxyLO.js","assets/doublePrecisionUtils-B0owpBza.js","assets/imageUtils-CTXLmcwO.js","assets/rasterizingUtils-DblQaIlA.js","assets/utils-bHjwoPN2.js","assets/FeatureCommandQueue-l4BkE3X8.js","assets/GraphicsView2D-DTjG6njp.js","assets/normalizeUtilsSync-0ovdakRO.js","assets/GraphicContainer-C_dwJ4Pu.js","assets/AGraphicContainer-C7CHR9YE.js","assets/TechniqueInstance-DVE4PPnM.js","assets/TileContainer-Hr-ejOVw.js","assets/requestImageUtils-C2Vcfh5k.js","assets/TileLayerView2D-Dyl5FwzS.js","assets/imageUtils-CQZaXiDp.js","assets/Bitmap-e6jLTm38.js","assets/LayerView-bRd78Omm.js","assets/HighlightGraphicContainer--mz7d665.js","assets/RefreshableLayerView-CQDe0flp.js","assets/drapedUtils-CM1Rwrg1.js","assets/floorFilterUtils-DZ5C6FQv.js","assets/sublayerUtils-BIuOcoAj.js","assets/popupUtils-C2PJVGVx.js","assets/FeatureLayerView2D-B0bkLWUT.js","assets/timeSupport-Cp4g-6MS.js","assets/HighlightCounter-BlO6g0hj.js","assets/BaseDynamicLayerView2D-xAZAzyxW.js","assets/BitmapContainer-BtAqXyFa.js","assets/ExportStrategy-BoLRQNfC.js","assets/CatalogLayerView2D-Cajnm5g_.js","assets/CatalogDynamicGroupLayerView2D-B93w8Fsw.js","assets/CatalogFootprintLayerView2D-C_v0zjPe.js","assets/GeoRSSLayerView2D-B4l-8yw7.js","assets/GraphicsLayerView2D-DWanLVwb.js","assets/GroupLayerView2D-CPlYD8wF.js","assets/ImageryLayerView2D-D0d7vTcE.js","assets/RasterVFDisplayObject-Cw1gS3cc.js","assets/ImageryTileLayerView2D-Cs7uGGpz.js","assets/multidimensionalUtils-Ma5Hdl3h.js","assets/rasterUtils-CH2eR334.js","assets/RawBlockCache-BhfnazU-.js","assets/KMLLayerView2D-DcUHJhIT.js","assets/kmlUtils-TduZn6FL.js","assets/KnowledgeGraphLayerView2D-C67aifXF.js","assets/MapImageLayerView2D-7CENMJcn.js","assets/ExportImageParameters-nCFgorF3.js","assets/MapNotesLayerView2D-DCqWm1Ob.js","assets/MediaLayerView2D-Bh5ABBQN.js","assets/perspectiveUtils-6tGDHHy-.js","assets/OverlayContainer-CUIxISGw.js","assets/OGCFeatureLayerView2D-DZmIidsf.js","assets/RouteLayerView2D-BxV-VndC.js","assets/Stop-Btf1SAQ1.js","assets/StreamLayerView2D-D77TqR-m.js","assets/SubtypeGroupLayerView2D-B822XdFY.js","assets/VectorTileLayerView2D-DUmY4CHb.js","assets/VideoLayerView2D-CiBLB-ft.js","assets/GraphicsLayer-CTwFXi72.js","assets/TelemetryDisplay-DLTH-0U5.js","assets/WMSLayerView2D-DbG5K0sS.js","assets/ExportWMSImageParameters-DkiI9X8w.js","assets/WMTSLayerView2D-CE82EU1g.js","assets/calcite-button-DUJNxL4h.js","assets/form-DD6437_g.js","assets/dom-IXW38me3.js","assets/guid-DP-7rFCR.js","assets/interactive-2Rqpbf1S.js","assets/label-CAvOv2VX.js","assets/component-thCpPSLC.js","assets/loadable-nTOxC7vm.js","assets/t9n-CZRt0mWM.js","assets/observers-B_LwkJeE.js","assets/icon-ZrW-el81.js","assets/loader-DGP-CujK.js","assets/calcite-icon-Cy6VElA2.js"])))=>i.map(i=>d[i]);
function rF(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function nF(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var PC={exports:{}},T0={},CC={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp=Symbol.for("react.element"),iF=Symbol.for("react.portal"),sF=Symbol.for("react.fragment"),oF=Symbol.for("react.strict_mode"),aF=Symbol.for("react.profiler"),lF=Symbol.for("react.provider"),uF=Symbol.for("react.context"),cF=Symbol.for("react.forward_ref"),dF=Symbol.for("react.suspense"),hF=Symbol.for("react.memo"),pF=Symbol.for("react.lazy"),LT=Symbol.iterator;function fF(e){return e===null||typeof e!="object"?null:(e=LT&&e[LT]||e["@@iterator"],typeof e=="function"?e:null)}var OC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IC=Object.assign,AC={};function Zc(e,t,r){this.props=e,this.context=t,this.refs=AC,this.updater=r||OC}Zc.prototype.isReactComponent={};Zc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RC(){}RC.prototype=Zc.prototype;function MS(e,t,r){this.props=e,this.context=t,this.refs=AC,this.updater=r||OC}var ES=MS.prototype=new RC;ES.constructor=MS;IC(ES,Zc.prototype);ES.isPureReactComponent=!0;var NT=Array.isArray,LC=Object.prototype.hasOwnProperty,kS={current:null},NC={key:!0,ref:!0,__self:!0,__source:!0};function DC(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)LC.call(t,n)&&!NC.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:zp,type:e,key:s,ref:o,props:i,_owner:kS.current}}function mF(e,t){return{$$typeof:zp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function PS(e){return typeof e=="object"&&e!==null&&e.$$typeof===zp}function yF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var DT=/\/+/g;function Wv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yF(""+e.key):t.toString(36)}function Im(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zp:case iF:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Wv(o,0):n,NT(i)?(r="",e!=null&&(r=e.replace(DT,"$&/")+"/"),Im(i,t,r,"",function(d){return d})):i!=null&&(PS(i)&&(i=mF(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(DT,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",NT(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+Wv(s,a);o+=Im(s,t,r,l,i)}else if(l=fF(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+Wv(s,a++),o+=Im(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function xf(e,t,r){if(e==null)return e;var n=[],i=0;return Im(e,n,"","",function(s){return t.call(r,s,i++)}),n}function gF(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gr={current:null},Am={transition:null},vF={ReactCurrentDispatcher:gr,ReactCurrentBatchConfig:Am,ReactCurrentOwner:kS};function FC(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:xf,forEach:function(e,t,r){xf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xf(e,function(){t++}),t},toArray:function(e){return xf(e,function(t){return t})||[]},only:function(e){if(!PS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=Zc;me.Fragment=sF;me.Profiler=aF;me.PureComponent=MS;me.StrictMode=oF;me.Suspense=dF;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vF;me.act=FC;me.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=IC({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=kS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)LC.call(t,l)&&!NC.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:zp,type:e.type,key:i,ref:s,props:n,_owner:o}};me.createContext=function(e){return e={$$typeof:uF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lF,_context:e},e.Consumer=e};me.createElement=DC;me.createFactory=function(e){var t=DC.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:cF,render:e}};me.isValidElement=PS;me.lazy=function(e){return{$$typeof:pF,_payload:{_status:-1,_result:e},_init:gF}};me.memo=function(e,t){return{$$typeof:hF,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=Am.transition;Am.transition={};try{e()}finally{Am.transition=t}};me.unstable_act=FC;me.useCallback=function(e,t){return gr.current.useCallback(e,t)};me.useContext=function(e){return gr.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return gr.current.useDeferredValue(e)};me.useEffect=function(e,t){return gr.current.useEffect(e,t)};me.useId=function(){return gr.current.useId()};me.useImperativeHandle=function(e,t,r){return gr.current.useImperativeHandle(e,t,r)};me.useInsertionEffect=function(e,t){return gr.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return gr.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return gr.current.useMemo(e,t)};me.useReducer=function(e,t,r){return gr.current.useReducer(e,t,r)};me.useRef=function(e){return gr.current.useRef(e)};me.useState=function(e){return gr.current.useState(e)};me.useSyncExternalStore=function(e,t,r){return gr.current.useSyncExternalStore(e,t,r)};me.useTransition=function(){return gr.current.useTransition()};me.version="18.3.1";CC.exports=me;var vt=CC.exports;const jC=nF(vt),FT=rF({__proto__:null,default:jC},[vt]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wF=vt,_F=Symbol.for("react.element"),bF=Symbol.for("react.fragment"),SF=Object.prototype.hasOwnProperty,$F=wF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xF={key:!0,ref:!0,__self:!0,__source:!0};function zC(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)SF.call(t,n)&&!xF.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:_F,type:e,key:s,ref:o,props:i,_owner:$F.current}}T0.Fragment=bF;T0.jsx=zC;T0.jsxs=zC;PC.exports=T0;var Te=PC.exports,UC={exports:{}},Xr={},VC={exports:{}},GC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,te){var ce=N.length;N.push(te);e:for(;0<ce;){var ze=ce-1>>>1,ct=N[ze];if(0<i(ct,te))N[ze]=te,N[ce]=ct,ce=ze;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var te=N[0],ce=N.pop();if(ce!==te){N[0]=ce;e:for(var ze=0,ct=N.length,nu=ct>>>1;ze<nu;){var Wi=2*(ze+1)-1,ad=N[Wi],va=Wi+1,$f=N[va];if(0>i(ad,ce))va<ct&&0>i($f,ad)?(N[ze]=$f,N[va]=ce,ze=va):(N[ze]=ad,N[Wi]=ce,ze=Wi);else if(va<ct&&0>i($f,ce))N[ze]=$f,N[va]=ce,ze=va;else break e}}return te}function i(N,te){var ce=N.sortIndex-te.sortIndex;return ce!==0?ce:N.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],d=[],p=1,f=null,m=3,y=!1,g=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(N){for(var te=r(d);te!==null;){if(te.callback===null)n(d);else if(te.startTime<=N)n(d),te.sortIndex=te.expirationTime,t(l,te);else break;te=r(d)}}function x(N){if(v=!1,$(N),!g)if(r(l)!==null)g=!0,Dt(T);else{var te=r(d);te!==null&&nt(x,te.startTime-N)}}function T(N,te){g=!1,v&&(v=!1,w(O),O=-1),y=!0;var ce=m;try{for($(te),f=r(l);f!==null&&(!(f.expirationTime>te)||N&&!G());){var ze=f.callback;if(typeof ze=="function"){f.callback=null,m=f.priorityLevel;var ct=ze(f.expirationTime<=te);te=e.unstable_now(),typeof ct=="function"?f.callback=ct:f===r(l)&&n(l),$(te)}else n(l);f=r(l)}if(f!==null)var nu=!0;else{var Wi=r(d);Wi!==null&&nt(x,Wi.startTime-te),nu=!1}return nu}finally{f=null,m=ce,y=!1}}var E=!1,P=null,O=-1,A=5,R=-1;function G(){return!(e.unstable_now()-R<A)}function Z(){if(P!==null){var N=e.unstable_now();R=N;var te=!0;try{te=P(!0,N)}finally{te?le():(E=!1,P=null)}}else E=!1}var le;if(typeof _=="function")le=function(){_(Z)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,pe=W.port2;W.port1.onmessage=Z,le=function(){pe.postMessage(null)}}else le=function(){S(Z,0)};function Dt(N){P=N,E||(E=!0,le())}function nt(N,te){O=S(function(){N(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,Dt(T))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(N){switch(m){case 1:case 2:case 3:var te=3;break;default:te=m}var ce=m;m=te;try{return N()}finally{m=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,te){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var ce=m;m=N;try{return te()}finally{m=ce}},e.unstable_scheduleCallback=function(N,te,ce){var ze=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ze+ce:ze):ce=ze,N){case 1:var ct=-1;break;case 2:ct=250;break;case 5:ct=1073741823;break;case 4:ct=1e4;break;default:ct=5e3}return ct=ce+ct,N={id:p++,callback:te,priorityLevel:N,startTime:ce,expirationTime:ct,sortIndex:-1},ce>ze?(N.sortIndex=ce,t(d,N),r(l)===null&&N===r(d)&&(v?(w(O),O=-1):v=!0,nt(x,ce-ze))):(N.sortIndex=ct,t(l,N),g||y||(g=!0,Dt(T))),N},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(N){var te=m;return function(){var ce=m;m=te;try{return N.apply(this,arguments)}finally{m=ce}}}})(GC);VC.exports=GC;var TF=VC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MF=vt,Kr=TF;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WC=new Set,ep={};function Zl(e,t){Mc(e,t),Mc(e+"Capture",t)}function Mc(e,t){for(ep[e]=t,e=0;e<t.length;e++)WC.add(t[e])}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tw=Object.prototype.hasOwnProperty,EF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jT={},zT={};function kF(e){return Tw.call(zT,e)?!0:Tw.call(jT,e)?!1:EF.test(e)?zT[e]=!0:(jT[e]=!0,!1)}function PF(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function CF(e,t,r,n){if(t===null||typeof t>"u"||PF(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vr(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bt[e]=new vr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bt[t]=new vr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bt[e]=new vr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bt[e]=new vr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bt[e]=new vr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bt[e]=new vr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bt[e]=new vr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bt[e]=new vr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bt[e]=new vr(e,5,!1,e.toLowerCase(),null,!1,!1)});var CS=/[\-:]([a-z])/g;function OS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(CS,OS);Bt[t]=new vr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(CS,OS);Bt[t]=new vr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(CS,OS);Bt[t]=new vr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bt[e]=new vr(e,1,!1,e.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bt[e]=new vr(e,1,!1,e.toLowerCase(),null,!0,!0)});function IS(e,t,r,n){var i=Bt.hasOwnProperty(t)?Bt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(CF(t,r,i,n)&&(r=null),n||i===null?kF(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Rs=MF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tf=Symbol.for("react.element"),zu=Symbol.for("react.portal"),Uu=Symbol.for("react.fragment"),AS=Symbol.for("react.strict_mode"),Mw=Symbol.for("react.profiler"),BC=Symbol.for("react.provider"),HC=Symbol.for("react.context"),RS=Symbol.for("react.forward_ref"),Ew=Symbol.for("react.suspense"),kw=Symbol.for("react.suspense_list"),LS=Symbol.for("react.memo"),vo=Symbol.for("react.lazy"),qC=Symbol.for("react.offscreen"),UT=Symbol.iterator;function ld(e){return e===null||typeof e!="object"?null:(e=UT&&e[UT]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,Bv;function Ld(e){if(Bv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bv=t&&t[1]||""}return`
`+Bv+e}var Hv=!1;function qv(e,t){if(!e||Hv)return"";Hv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ld(e):""}function OF(e){switch(e.tag){case 5:return Ld(e.type);case 16:return Ld("Lazy");case 13:return Ld("Suspense");case 19:return Ld("SuspenseList");case 0:case 2:case 15:return e=qv(e.type,!1),e;case 11:return e=qv(e.type.render,!1),e;case 1:return e=qv(e.type,!0),e;default:return""}}function Pw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Uu:return"Fragment";case zu:return"Portal";case Mw:return"Profiler";case AS:return"StrictMode";case Ew:return"Suspense";case kw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case HC:return(e.displayName||"Context")+".Consumer";case BC:return(e._context.displayName||"Context")+".Provider";case RS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case LS:return t=e.displayName||null,t!==null?t:Pw(e.type)||"Memo";case vo:t=e._payload,e=e._init;try{return Pw(e(t))}catch{}}return null}function IF(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pw(t);case 8:return t===AS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ZC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function AF(e){var t=ZC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mf(e){e._valueTracker||(e._valueTracker=AF(e))}function JC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ZC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Uy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cw(e,t){var r=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function VT(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function KC(e,t){t=t.checked,t!=null&&IS(e,"checked",t,!1)}function Ow(e,t){KC(e,t);var r=Jo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Iw(e,t.type,r):t.hasOwnProperty("defaultValue")&&Iw(e,t.type,Jo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function GT(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Iw(e,t,r){(t!=="number"||Uy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Nd=Array.isArray;function sc(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jo(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Aw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function WT(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(D(92));if(Nd(r)){if(1<r.length)throw Error(D(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jo(r)}}function YC(e,t){var r=Jo(t.value),n=Jo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function BT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function QC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?QC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ef,XC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ef=Ef||document.createElement("div"),Ef.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ef.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Mh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RF=["Webkit","ms","Moz","O"];Object.keys(Mh).forEach(function(e){RF.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mh[t]=Mh[e]})});function eO(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Mh.hasOwnProperty(e)&&Mh[e]?(""+t).trim():t+"px"}function tO(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=eO(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var LF=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lw(e,t){if(t){if(LF[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Nw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dw=null;function NS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fw=null,oc=null,ac=null;function HT(e){if(e=Gp(e)){if(typeof Fw!="function")throw Error(D(280));var t=e.stateNode;t&&(t=C0(t),Fw(e.stateNode,e.type,t))}}function rO(e){oc?ac?ac.push(e):ac=[e]:oc=e}function nO(){if(oc){var e=oc,t=ac;if(ac=oc=null,HT(e),t)for(e=0;e<t.length;e++)HT(t[e])}}function iO(e,t){return e(t)}function sO(){}var Zv=!1;function oO(e,t,r){if(Zv)return e(t,r);Zv=!0;try{return iO(e,t,r)}finally{Zv=!1,(oc!==null||ac!==null)&&(sO(),nO())}}function rp(e,t){var r=e.stateNode;if(r===null)return null;var n=C0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(D(231,t,typeof r));return r}var jw=!1;if(xs)try{var ud={};Object.defineProperty(ud,"passive",{get:function(){jw=!0}}),window.addEventListener("test",ud,ud),window.removeEventListener("test",ud,ud)}catch{jw=!1}function NF(e,t,r,n,i,s,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(p){this.onError(p)}}var Eh=!1,Vy=null,Gy=!1,zw=null,DF={onError:function(e){Eh=!0,Vy=e}};function FF(e,t,r,n,i,s,o,a,l){Eh=!1,Vy=null,NF.apply(DF,arguments)}function jF(e,t,r,n,i,s,o,a,l){if(FF.apply(this,arguments),Eh){if(Eh){var d=Vy;Eh=!1,Vy=null}else throw Error(D(198));Gy||(Gy=!0,zw=d)}}function Jl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function aO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qT(e){if(Jl(e)!==e)throw Error(D(188))}function zF(e){var t=e.alternate;if(!t){if(t=Jl(e),t===null)throw Error(D(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return qT(i),e;if(s===n)return qT(i),t;s=s.sibling}throw Error(D(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(r.alternate!==n)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?e:t}function lO(e){return e=zF(e),e!==null?uO(e):null}function uO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uO(e);if(t!==null)return t;e=e.sibling}return null}var cO=Kr.unstable_scheduleCallback,ZT=Kr.unstable_cancelCallback,UF=Kr.unstable_shouldYield,VF=Kr.unstable_requestPaint,ft=Kr.unstable_now,GF=Kr.unstable_getCurrentPriorityLevel,DS=Kr.unstable_ImmediatePriority,dO=Kr.unstable_UserBlockingPriority,Wy=Kr.unstable_NormalPriority,WF=Kr.unstable_LowPriority,hO=Kr.unstable_IdlePriority,M0=null,Pi=null;function BF(e){if(Pi&&typeof Pi.onCommitFiberRoot=="function")try{Pi.onCommitFiberRoot(M0,e,void 0,(e.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:ZF,HF=Math.log,qF=Math.LN2;function ZF(e){return e>>>=0,e===0?32:31-(HF(e)/qF|0)|0}var kf=64,Pf=4194304;function Dd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function By(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Dd(a):(s&=o,s!==0&&(n=Dd(s)))}else o=r&~i,o!==0?n=Dd(o):s!==0&&(n=Dd(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Kn(t),i=1<<r,n|=e[r],t&=~i;return n}function JF(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KF(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Kn(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=JF(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Uw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pO(){var e=kf;return kf<<=1,!(kf&4194240)&&(kf=64),e}function Jv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Up(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kn(t),e[t]=r}function YF(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Kn(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function FS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Kn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ae=0;function fO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mO,jS,yO,gO,vO,Vw=!1,Cf=[],No=null,Do=null,Fo=null,np=new Map,ip=new Map,Mo=[],QF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JT(e,t){switch(e){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Fo=null;break;case"pointerover":case"pointerout":np.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ip.delete(t.pointerId)}}function cd(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Gp(t),t!==null&&jS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function XF(e,t,r,n,i){switch(t){case"focusin":return No=cd(No,e,t,r,n,i),!0;case"dragenter":return Do=cd(Do,e,t,r,n,i),!0;case"mouseover":return Fo=cd(Fo,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return np.set(s,cd(np.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ip.set(s,cd(ip.get(s)||null,e,t,r,n,i)),!0}return!1}function wO(e){var t=cl(e.target);if(t!==null){var r=Jl(t);if(r!==null){if(t=r.tag,t===13){if(t=aO(r),t!==null){e.blockedOn=t,vO(e.priority,function(){yO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Dw=n,r.target.dispatchEvent(n),Dw=null}else return t=Gp(r),t!==null&&jS(t),e.blockedOn=r,!1;t.shift()}return!0}function KT(e,t,r){Rm(e)&&r.delete(t)}function e9(){Vw=!1,No!==null&&Rm(No)&&(No=null),Do!==null&&Rm(Do)&&(Do=null),Fo!==null&&Rm(Fo)&&(Fo=null),np.forEach(KT),ip.forEach(KT)}function dd(e,t){e.blockedOn===t&&(e.blockedOn=null,Vw||(Vw=!0,Kr.unstable_scheduleCallback(Kr.unstable_NormalPriority,e9)))}function sp(e){function t(i){return dd(i,e)}if(0<Cf.length){dd(Cf[0],e);for(var r=1;r<Cf.length;r++){var n=Cf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(No!==null&&dd(No,e),Do!==null&&dd(Do,e),Fo!==null&&dd(Fo,e),np.forEach(t),ip.forEach(t),r=0;r<Mo.length;r++)n=Mo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mo.length&&(r=Mo[0],r.blockedOn===null);)wO(r),r.blockedOn===null&&Mo.shift()}var lc=Rs.ReactCurrentBatchConfig,Hy=!0;function t9(e,t,r,n){var i=Ae,s=lc.transition;lc.transition=null;try{Ae=1,zS(e,t,r,n)}finally{Ae=i,lc.transition=s}}function r9(e,t,r,n){var i=Ae,s=lc.transition;lc.transition=null;try{Ae=4,zS(e,t,r,n)}finally{Ae=i,lc.transition=s}}function zS(e,t,r,n){if(Hy){var i=Gw(e,t,r,n);if(i===null)s1(e,t,n,qy,r),JT(e,n);else if(XF(i,e,t,r,n))n.stopPropagation();else if(JT(e,n),t&4&&-1<QF.indexOf(e)){for(;i!==null;){var s=Gp(i);if(s!==null&&mO(s),s=Gw(e,t,r,n),s===null&&s1(e,t,n,qy,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else s1(e,t,n,null,r)}}var qy=null;function Gw(e,t,r,n){if(qy=null,e=NS(n),e=cl(e),e!==null)if(t=Jl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=aO(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qy=e,null}function _O(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GF()){case DS:return 1;case dO:return 4;case Wy:case WF:return 16;case hO:return 536870912;default:return 16}default:return 16}}var Co=null,US=null,Lm=null;function bO(){if(Lm)return Lm;var e,t=US,r=t.length,n,i="value"in Co?Co.value:Co.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Lm=i.slice(e,1<n?1-n:void 0)}function Nm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Of(){return!0}function YT(){return!1}function en(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Of:YT,this.isPropagationStopped=YT,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Of)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Of)},persist:function(){},isPersistent:Of}),t}var Jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},VS=en(Jc),Vp=tt({},Jc,{view:0,detail:0}),n9=en(Vp),Kv,Yv,hd,E0=tt({},Vp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:GS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hd&&(hd&&e.type==="mousemove"?(Kv=e.screenX-hd.screenX,Yv=e.screenY-hd.screenY):Yv=Kv=0,hd=e),Kv)},movementY:function(e){return"movementY"in e?e.movementY:Yv}}),QT=en(E0),i9=tt({},E0,{dataTransfer:0}),s9=en(i9),o9=tt({},Vp,{relatedTarget:0}),Qv=en(o9),a9=tt({},Jc,{animationName:0,elapsedTime:0,pseudoElement:0}),l9=en(a9),u9=tt({},Jc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),c9=en(u9),d9=tt({},Jc,{data:0}),XT=en(d9),h9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m9(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=f9[e])?!!t[e]:!1}function GS(){return m9}var y9=tt({},Vp,{key:function(e){if(e.key){var t=h9[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p9[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:GS,charCode:function(e){return e.type==="keypress"?Nm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),g9=en(y9),v9=tt({},E0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eM=en(v9),w9=tt({},Vp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:GS}),_9=en(w9),b9=tt({},Jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),S9=en(b9),$9=tt({},E0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x9=en($9),T9=[9,13,27,32],WS=xs&&"CompositionEvent"in window,kh=null;xs&&"documentMode"in document&&(kh=document.documentMode);var M9=xs&&"TextEvent"in window&&!kh,SO=xs&&(!WS||kh&&8<kh&&11>=kh),tM=" ",rM=!1;function $O(e,t){switch(e){case"keyup":return T9.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vu=!1;function E9(e,t){switch(e){case"compositionend":return xO(t);case"keypress":return t.which!==32?null:(rM=!0,tM);case"textInput":return e=t.data,e===tM&&rM?null:e;default:return null}}function k9(e,t){if(Vu)return e==="compositionend"||!WS&&$O(e,t)?(e=bO(),Lm=US=Co=null,Vu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return SO&&t.locale!=="ko"?null:t.data;default:return null}}var P9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nM(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!P9[e.type]:t==="textarea"}function TO(e,t,r,n){rO(n),t=Zy(t,"onChange"),0<t.length&&(r=new VS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ph=null,op=null;function C9(e){NO(e,0)}function k0(e){var t=Bu(e);if(JC(t))return e}function O9(e,t){if(e==="change")return t}var MO=!1;if(xs){var Xv;if(xs){var e1="oninput"in document;if(!e1){var iM=document.createElement("div");iM.setAttribute("oninput","return;"),e1=typeof iM.oninput=="function"}Xv=e1}else Xv=!1;MO=Xv&&(!document.documentMode||9<document.documentMode)}function sM(){Ph&&(Ph.detachEvent("onpropertychange",EO),op=Ph=null)}function EO(e){if(e.propertyName==="value"&&k0(op)){var t=[];TO(t,op,e,NS(e)),oO(C9,t)}}function I9(e,t,r){e==="focusin"?(sM(),Ph=t,op=r,Ph.attachEvent("onpropertychange",EO)):e==="focusout"&&sM()}function A9(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return k0(op)}function R9(e,t){if(e==="click")return k0(t)}function L9(e,t){if(e==="input"||e==="change")return k0(t)}function N9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ri=typeof Object.is=="function"?Object.is:N9;function ap(e,t){if(ri(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Tw.call(t,i)||!ri(e[i],t[i]))return!1}return!0}function oM(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function aM(e,t){var r=oM(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=oM(r)}}function kO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function PO(){for(var e=window,t=Uy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Uy(e.document)}return t}function BS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function D9(e){var t=PO(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kO(r.ownerDocument.documentElement,r)){if(n!==null&&BS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=aM(r,s);var o=aM(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var F9=xs&&"documentMode"in document&&11>=document.documentMode,Gu=null,Ww=null,Ch=null,Bw=!1;function lM(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bw||Gu==null||Gu!==Uy(n)||(n=Gu,"selectionStart"in n&&BS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ch&&ap(Ch,n)||(Ch=n,n=Zy(Ww,"onSelect"),0<n.length&&(t=new VS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Gu)))}function If(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wu={animationend:If("Animation","AnimationEnd"),animationiteration:If("Animation","AnimationIteration"),animationstart:If("Animation","AnimationStart"),transitionend:If("Transition","TransitionEnd")},t1={},CO={};xs&&(CO=document.createElement("div").style,"AnimationEvent"in window||(delete Wu.animationend.animation,delete Wu.animationiteration.animation,delete Wu.animationstart.animation),"TransitionEvent"in window||delete Wu.transitionend.transition);function P0(e){if(t1[e])return t1[e];if(!Wu[e])return e;var t=Wu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in CO)return t1[e]=t[r];return e}var OO=P0("animationend"),IO=P0("animationiteration"),AO=P0("animationstart"),RO=P0("transitionend"),LO=new Map,uM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(e,t){LO.set(e,t),Zl(t,[e])}for(var r1=0;r1<uM.length;r1++){var n1=uM[r1],j9=n1.toLowerCase(),z9=n1[0].toUpperCase()+n1.slice(1);ua(j9,"on"+z9)}ua(OO,"onAnimationEnd");ua(IO,"onAnimationIteration");ua(AO,"onAnimationStart");ua("dblclick","onDoubleClick");ua("focusin","onFocus");ua("focusout","onBlur");ua(RO,"onTransitionEnd");Mc("onMouseEnter",["mouseout","mouseover"]);Mc("onMouseLeave",["mouseout","mouseover"]);Mc("onPointerEnter",["pointerout","pointerover"]);Mc("onPointerLeave",["pointerout","pointerover"]);Zl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fd));function cM(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,jF(n,t,void 0,e),e.currentTarget=null}function NO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;cM(i,a,d),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;cM(i,a,d),s=l}}}if(Gy)throw e=zw,Gy=!1,zw=null,e}function Ve(e,t){var r=t[Kw];r===void 0&&(r=t[Kw]=new Set);var n=e+"__bubble";r.has(n)||(DO(t,e,2,!1),r.add(n))}function i1(e,t,r){var n=0;t&&(n|=4),DO(r,e,n,t)}var Af="_reactListening"+Math.random().toString(36).slice(2);function lp(e){if(!e[Af]){e[Af]=!0,WC.forEach(function(r){r!=="selectionchange"&&(U9.has(r)||i1(r,!1,e),i1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Af]||(t[Af]=!0,i1("selectionchange",!1,t))}}function DO(e,t,r,n){switch(_O(t)){case 1:var i=t9;break;case 4:i=r9;break;default:i=zS}r=i.bind(null,t,r,e),i=void 0,!jw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function s1(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=cl(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}oO(function(){var d=s,p=NS(r),f=[];e:{var m=LO.get(e);if(m!==void 0){var y=VS,g=e;switch(e){case"keypress":if(Nm(r)===0)break e;case"keydown":case"keyup":y=g9;break;case"focusin":g="focus",y=Qv;break;case"focusout":g="blur",y=Qv;break;case"beforeblur":case"afterblur":y=Qv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=QT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=s9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=_9;break;case OO:case IO:case AO:y=l9;break;case RO:y=S9;break;case"scroll":y=n9;break;case"wheel":y=x9;break;case"copy":case"cut":case"paste":y=c9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=eM}var v=(t&4)!==0,S=!v&&e==="scroll",w=v?m!==null?m+"Capture":null:m;v=[];for(var _=d,$;_!==null;){$=_;var x=$.stateNode;if($.tag===5&&x!==null&&($=x,w!==null&&(x=rp(_,w),x!=null&&v.push(up(_,x,$)))),S)break;_=_.return}0<v.length&&(m=new y(m,g,null,r,p),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&r!==Dw&&(g=r.relatedTarget||r.fromElement)&&(cl(g)||g[Ts]))break e;if((y||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,y?(g=r.relatedTarget||r.toElement,y=d,g=g?cl(g):null,g!==null&&(S=Jl(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=d),y!==g)){if(v=QT,x="onMouseLeave",w="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(v=eM,x="onPointerLeave",w="onPointerEnter",_="pointer"),S=y==null?m:Bu(y),$=g==null?m:Bu(g),m=new v(x,_+"leave",y,r,p),m.target=S,m.relatedTarget=$,x=null,cl(p)===d&&(v=new v(w,_+"enter",g,r,p),v.target=$,v.relatedTarget=S,x=v),S=x,y&&g)t:{for(v=y,w=g,_=0,$=v;$;$=iu($))_++;for($=0,x=w;x;x=iu(x))$++;for(;0<_-$;)v=iu(v),_--;for(;0<$-_;)w=iu(w),$--;for(;_--;){if(v===w||w!==null&&v===w.alternate)break t;v=iu(v),w=iu(w)}v=null}else v=null;y!==null&&dM(f,m,y,v,!1),g!==null&&S!==null&&dM(f,S,g,v,!0)}}e:{if(m=d?Bu(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var T=O9;else if(nM(m))if(MO)T=L9;else{T=A9;var E=I9}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(T=R9);if(T&&(T=T(e,d))){TO(f,T,r,p);break e}E&&E(e,m,d),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&Iw(m,"number",m.value)}switch(E=d?Bu(d):window,e){case"focusin":(nM(E)||E.contentEditable==="true")&&(Gu=E,Ww=d,Ch=null);break;case"focusout":Ch=Ww=Gu=null;break;case"mousedown":Bw=!0;break;case"contextmenu":case"mouseup":case"dragend":Bw=!1,lM(f,r,p);break;case"selectionchange":if(F9)break;case"keydown":case"keyup":lM(f,r,p)}var P;if(WS)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Vu?$O(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(SO&&r.locale!=="ko"&&(Vu||O!=="onCompositionStart"?O==="onCompositionEnd"&&Vu&&(P=bO()):(Co=p,US="value"in Co?Co.value:Co.textContent,Vu=!0)),E=Zy(d,O),0<E.length&&(O=new XT(O,e,null,r,p),f.push({event:O,listeners:E}),P?O.data=P:(P=xO(r),P!==null&&(O.data=P)))),(P=M9?E9(e,r):k9(e,r))&&(d=Zy(d,"onBeforeInput"),0<d.length&&(p=new XT("onBeforeInput","beforeinput",null,r,p),f.push({event:p,listeners:d}),p.data=P))}NO(f,t)})}function up(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zy(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rp(e,r),s!=null&&n.unshift(up(e,s,i)),s=rp(e,t),s!=null&&n.push(up(e,s,i))),e=e.return}return n}function iu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dM(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,d=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&d!==null&&(a=d,i?(l=rp(r,s),l!=null&&o.unshift(up(r,l,a))):i||(l=rp(r,s),l!=null&&o.push(up(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var V9=/\r\n?/g,G9=/\u0000|\uFFFD/g;function hM(e){return(typeof e=="string"?e:""+e).replace(V9,`
`).replace(G9,"")}function Rf(e,t,r){if(t=hM(t),hM(e)!==t&&r)throw Error(D(425))}function Jy(){}var Hw=null,qw=null;function Zw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jw=typeof setTimeout=="function"?setTimeout:void 0,W9=typeof clearTimeout=="function"?clearTimeout:void 0,pM=typeof Promise=="function"?Promise:void 0,B9=typeof queueMicrotask=="function"?queueMicrotask:typeof pM<"u"?function(e){return pM.resolve(null).then(e).catch(H9)}:Jw;function H9(e){setTimeout(function(){throw e})}function o1(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),sp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);sp(t)}function jo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fM(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Kc=Math.random().toString(36).slice(2),Ei="__reactFiber$"+Kc,cp="__reactProps$"+Kc,Ts="__reactContainer$"+Kc,Kw="__reactEvents$"+Kc,q9="__reactListeners$"+Kc,Z9="__reactHandles$"+Kc;function cl(e){var t=e[Ei];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ts]||r[Ei]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fM(e);e!==null;){if(r=e[Ei])return r;e=fM(e)}return t}e=r,r=e.parentNode}return null}function Gp(e){return e=e[Ei]||e[Ts],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function C0(e){return e[cp]||null}var Yw=[],Hu=-1;function ca(e){return{current:e}}function qe(e){0>Hu||(e.current=Yw[Hu],Yw[Hu]=null,Hu--)}function je(e,t){Hu++,Yw[Hu]=e.current,e.current=t}var Ko={},sr=ca(Ko),Er=ca(!1),Ml=Ko;function Ec(e,t){var r=e.type.contextTypes;if(!r)return Ko;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function kr(e){return e=e.childContextTypes,e!=null}function Ky(){qe(Er),qe(sr)}function mM(e,t,r){if(sr.current!==Ko)throw Error(D(168));je(sr,t),je(Er,r)}function FO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(D(108,IF(e)||"Unknown",i));return tt({},r,n)}function Yy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ko,Ml=sr.current,je(sr,e),je(Er,Er.current),!0}function yM(e,t,r){var n=e.stateNode;if(!n)throw Error(D(169));r?(e=FO(e,t,Ml),n.__reactInternalMemoizedMergedChildContext=e,qe(Er),qe(sr),je(sr,e)):qe(Er),je(Er,r)}var ps=null,O0=!1,a1=!1;function jO(e){ps===null?ps=[e]:ps.push(e)}function J9(e){O0=!0,jO(e)}function da(){if(!a1&&ps!==null){a1=!0;var e=0,t=Ae;try{var r=ps;for(Ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ps=null,O0=!1}catch(i){throw ps!==null&&(ps=ps.slice(e+1)),cO(DS,da),i}finally{Ae=t,a1=!1}}return null}var qu=[],Zu=0,Qy=null,Xy=0,hn=[],pn=0,El=null,vs=1,ws="";function ka(e,t){qu[Zu++]=Xy,qu[Zu++]=Qy,Qy=e,Xy=t}function zO(e,t,r){hn[pn++]=vs,hn[pn++]=ws,hn[pn++]=El,El=e;var n=vs;e=ws;var i=32-Kn(n)-1;n&=~(1<<i),r+=1;var s=32-Kn(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,vs=1<<32-Kn(t)+i|r<<i|n,ws=s+e}else vs=1<<s|r<<i|n,ws=e}function HS(e){e.return!==null&&(ka(e,1),zO(e,1,0))}function qS(e){for(;e===Qy;)Qy=qu[--Zu],qu[Zu]=null,Xy=qu[--Zu],qu[Zu]=null;for(;e===El;)El=hn[--pn],hn[pn]=null,ws=hn[--pn],hn[pn]=null,vs=hn[--pn],hn[pn]=null}var Hr=null,Gr=null,Ze=!1,Bn=null;function UO(e,t){var r=yn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function gM(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Hr=e,Gr=jo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Hr=e,Gr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=El!==null?{id:vs,overflow:ws}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Hr=e,Gr=null,!0):!1;default:return!1}}function Qw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xw(e){if(Ze){var t=Gr;if(t){var r=t;if(!gM(e,t)){if(Qw(e))throw Error(D(418));t=jo(r.nextSibling);var n=Hr;t&&gM(e,t)?UO(n,r):(e.flags=e.flags&-4097|2,Ze=!1,Hr=e)}}else{if(Qw(e))throw Error(D(418));e.flags=e.flags&-4097|2,Ze=!1,Hr=e}}}function vM(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Hr=e}function Lf(e){if(e!==Hr)return!1;if(!Ze)return vM(e),Ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zw(e.type,e.memoizedProps)),t&&(t=Gr)){if(Qw(e))throw VO(),Error(D(418));for(;t;)UO(e,t),t=jo(t.nextSibling)}if(vM(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Gr=jo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Gr=null}}else Gr=Hr?jo(e.stateNode.nextSibling):null;return!0}function VO(){for(var e=Gr;e;)e=jo(e.nextSibling)}function kc(){Gr=Hr=null,Ze=!1}function ZS(e){Bn===null?Bn=[e]:Bn.push(e)}var K9=Rs.ReactCurrentBatchConfig;function pd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var n=r.stateNode}if(!n)throw Error(D(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,e))}return e}function Nf(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wM(e){var t=e._init;return t(e._payload)}function GO(e){function t(w,_){if(e){var $=w.deletions;$===null?(w.deletions=[_],w.flags|=16):$.push(_)}}function r(w,_){if(!e)return null;for(;_!==null;)t(w,_),_=_.sibling;return null}function n(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=Go(w,_),w.index=0,w.sibling=null,w}function s(w,_,$){return w.index=$,e?($=w.alternate,$!==null?($=$.index,$<_?(w.flags|=2,_):$):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,_,$,x){return _===null||_.tag!==6?(_=f1($,w.mode,x),_.return=w,_):(_=i(_,$),_.return=w,_)}function l(w,_,$,x){var T=$.type;return T===Uu?p(w,_,$.props.children,x,$.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===vo&&wM(T)===_.type)?(x=i(_,$.props),x.ref=pd(w,_,$),x.return=w,x):(x=Gm($.type,$.key,$.props,null,w.mode,x),x.ref=pd(w,_,$),x.return=w,x)}function d(w,_,$,x){return _===null||_.tag!==4||_.stateNode.containerInfo!==$.containerInfo||_.stateNode.implementation!==$.implementation?(_=m1($,w.mode,x),_.return=w,_):(_=i(_,$.children||[]),_.return=w,_)}function p(w,_,$,x,T){return _===null||_.tag!==7?(_=wl($,w.mode,x,T),_.return=w,_):(_=i(_,$),_.return=w,_)}function f(w,_,$){if(typeof _=="string"&&_!==""||typeof _=="number")return _=f1(""+_,w.mode,$),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tf:return $=Gm(_.type,_.key,_.props,null,w.mode,$),$.ref=pd(w,null,_),$.return=w,$;case zu:return _=m1(_,w.mode,$),_.return=w,_;case vo:var x=_._init;return f(w,x(_._payload),$)}if(Nd(_)||ld(_))return _=wl(_,w.mode,$,null),_.return=w,_;Nf(w,_)}return null}function m(w,_,$,x){var T=_!==null?_.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return T!==null?null:a(w,_,""+$,x);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Tf:return $.key===T?l(w,_,$,x):null;case zu:return $.key===T?d(w,_,$,x):null;case vo:return T=$._init,m(w,_,T($._payload),x)}if(Nd($)||ld($))return T!==null?null:p(w,_,$,x,null);Nf(w,$)}return null}function y(w,_,$,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return w=w.get($)||null,a(_,w,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Tf:return w=w.get(x.key===null?$:x.key)||null,l(_,w,x,T);case zu:return w=w.get(x.key===null?$:x.key)||null,d(_,w,x,T);case vo:var E=x._init;return y(w,_,$,E(x._payload),T)}if(Nd(x)||ld(x))return w=w.get($)||null,p(_,w,x,T,null);Nf(_,x)}return null}function g(w,_,$,x){for(var T=null,E=null,P=_,O=_=0,A=null;P!==null&&O<$.length;O++){P.index>O?(A=P,P=null):A=P.sibling;var R=m(w,P,$[O],x);if(R===null){P===null&&(P=A);break}e&&P&&R.alternate===null&&t(w,P),_=s(R,_,O),E===null?T=R:E.sibling=R,E=R,P=A}if(O===$.length)return r(w,P),Ze&&ka(w,O),T;if(P===null){for(;O<$.length;O++)P=f(w,$[O],x),P!==null&&(_=s(P,_,O),E===null?T=P:E.sibling=P,E=P);return Ze&&ka(w,O),T}for(P=n(w,P);O<$.length;O++)A=y(P,w,O,$[O],x),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?O:A.key),_=s(A,_,O),E===null?T=A:E.sibling=A,E=A);return e&&P.forEach(function(G){return t(w,G)}),Ze&&ka(w,O),T}function v(w,_,$,x){var T=ld($);if(typeof T!="function")throw Error(D(150));if($=T.call($),$==null)throw Error(D(151));for(var E=T=null,P=_,O=_=0,A=null,R=$.next();P!==null&&!R.done;O++,R=$.next()){P.index>O?(A=P,P=null):A=P.sibling;var G=m(w,P,R.value,x);if(G===null){P===null&&(P=A);break}e&&P&&G.alternate===null&&t(w,P),_=s(G,_,O),E===null?T=G:E.sibling=G,E=G,P=A}if(R.done)return r(w,P),Ze&&ka(w,O),T;if(P===null){for(;!R.done;O++,R=$.next())R=f(w,R.value,x),R!==null&&(_=s(R,_,O),E===null?T=R:E.sibling=R,E=R);return Ze&&ka(w,O),T}for(P=n(w,P);!R.done;O++,R=$.next())R=y(P,w,O,R.value,x),R!==null&&(e&&R.alternate!==null&&P.delete(R.key===null?O:R.key),_=s(R,_,O),E===null?T=R:E.sibling=R,E=R);return e&&P.forEach(function(Z){return t(w,Z)}),Ze&&ka(w,O),T}function S(w,_,$,x){if(typeof $=="object"&&$!==null&&$.type===Uu&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case Tf:e:{for(var T=$.key,E=_;E!==null;){if(E.key===T){if(T=$.type,T===Uu){if(E.tag===7){r(w,E.sibling),_=i(E,$.props.children),_.return=w,w=_;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===vo&&wM(T)===E.type){r(w,E.sibling),_=i(E,$.props),_.ref=pd(w,E,$),_.return=w,w=_;break e}r(w,E);break}else t(w,E);E=E.sibling}$.type===Uu?(_=wl($.props.children,w.mode,x,$.key),_.return=w,w=_):(x=Gm($.type,$.key,$.props,null,w.mode,x),x.ref=pd(w,_,$),x.return=w,w=x)}return o(w);case zu:e:{for(E=$.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===$.containerInfo&&_.stateNode.implementation===$.implementation){r(w,_.sibling),_=i(_,$.children||[]),_.return=w,w=_;break e}else{r(w,_);break}else t(w,_);_=_.sibling}_=m1($,w.mode,x),_.return=w,w=_}return o(w);case vo:return E=$._init,S(w,_,E($._payload),x)}if(Nd($))return g(w,_,$,x);if(ld($))return v(w,_,$,x);Nf(w,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,_!==null&&_.tag===6?(r(w,_.sibling),_=i(_,$),_.return=w,w=_):(r(w,_),_=f1($,w.mode,x),_.return=w,w=_),o(w)):r(w,_)}return S}var Pc=GO(!0),WO=GO(!1),eg=ca(null),tg=null,Ju=null,JS=null;function KS(){JS=Ju=tg=null}function YS(e){var t=eg.current;qe(eg),e._currentValue=t}function e_(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function uc(e,t){tg=e,JS=Ju=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tr=!0),e.firstContext=null)}function $n(e){var t=e._currentValue;if(JS!==e)if(e={context:e,memoizedValue:t,next:null},Ju===null){if(tg===null)throw Error(D(308));Ju=e,tg.dependencies={lanes:0,firstContext:e}}else Ju=Ju.next=e;return t}var dl=null;function QS(e){dl===null?dl=[e]:dl.push(e)}function BO(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,QS(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ms(e,n)}function Ms(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wo=!1;function XS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _s(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,$e&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ms(e,r)}return i=n.interleaved,i===null?(t.next=t,QS(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ms(e,r)}function Dm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,FS(e,r)}}function _M(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function rg(e,t,r,n){var i=e.updateQueue;wo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?s=d:o.next=d,o=l;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,p=d=l=null,a=s;do{var m=a.lane,y=a.eventTime;if((n&m)===m){p!==null&&(p=p.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(m=t,y=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(y,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,m=typeof g=="function"?g.call(y,f,m):g,m==null)break e;f=tt({},f,m);break e;case 2:wo=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=y,l=f):p=p.next=y,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(p===null&&(l=f),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Pl|=o,e.lanes=o,e.memoizedState=f}}function bM(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(D(191,i));i.call(n)}}}var Wp={},Ci=ca(Wp),dp=ca(Wp),hp=ca(Wp);function hl(e){if(e===Wp)throw Error(D(174));return e}function e$(e,t){switch(je(hp,t),je(dp,e),je(Ci,Wp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rw(t,e)}qe(Ci),je(Ci,t)}function Cc(){qe(Ci),qe(dp),qe(hp)}function qO(e){hl(hp.current);var t=hl(Ci.current),r=Rw(t,e.type);t!==r&&(je(dp,e),je(Ci,r))}function t$(e){dp.current===e&&(qe(Ci),qe(dp))}var Ye=ca(0);function ng(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var l1=[];function r$(){for(var e=0;e<l1.length;e++)l1[e]._workInProgressVersionPrimary=null;l1.length=0}var Fm=Rs.ReactCurrentDispatcher,u1=Rs.ReactCurrentBatchConfig,kl=0,Xe=null,xt=null,Ot=null,ig=!1,Oh=!1,pp=0,Y9=0;function qt(){throw Error(D(321))}function n$(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ri(e[r],t[r]))return!1;return!0}function i$(e,t,r,n,i,s){if(kl=s,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fm.current=e===null||e.memoizedState===null?tj:rj,e=r(n,i),Oh){s=0;do{if(Oh=!1,pp=0,25<=s)throw Error(D(301));s+=1,Ot=xt=null,t.updateQueue=null,Fm.current=nj,e=r(n,i)}while(Oh)}if(Fm.current=sg,t=xt!==null&&xt.next!==null,kl=0,Ot=xt=Xe=null,ig=!1,t)throw Error(D(300));return e}function s$(){var e=pp!==0;return pp=0,e}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Xe.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function xn(){if(xt===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Ot===null?Xe.memoizedState:Ot.next;if(t!==null)Ot=t,xt=e;else{if(e===null)throw Error(D(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Ot===null?Xe.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function fp(e,t){return typeof t=="function"?t(e):t}function c1(e){var t=xn(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=xt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,d=s;do{var p=d.lane;if((kl&p)===p)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,Xe.lanes|=p,Pl|=p}d=d.next}while(d!==null&&d!==s);l===null?o=n:l.next=a,ri(n,t.memoizedState)||(Tr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Xe.lanes|=s,Pl|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function d1(e){var t=xn(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ri(s,t.memoizedState)||(Tr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function ZO(){}function JO(e,t){var r=Xe,n=xn(),i=t(),s=!ri(n.memoizedState,i);if(s&&(n.memoizedState=i,Tr=!0),n=n.queue,o$(QO.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ot!==null&&Ot.memoizedState.tag&1){if(r.flags|=2048,mp(9,YO.bind(null,r,n,i,t),void 0,null),At===null)throw Error(D(349));kl&30||KO(r,t,i)}return i}function KO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function YO(e,t,r,n){t.value=r,t.getSnapshot=n,XO(t)&&eI(e)}function QO(e,t,r){return r(function(){XO(t)&&eI(e)})}function XO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ri(e,r)}catch{return!0}}function eI(e){var t=Ms(e,1);t!==null&&Yn(t,e,1,-1)}function SM(e){var t=xi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:e},t.queue=e,e=e.dispatch=ej.bind(null,Xe,e),[t.memoizedState,e]}function mp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function tI(){return xn().memoizedState}function jm(e,t,r,n){var i=xi();Xe.flags|=e,i.memoizedState=mp(1|t,r,void 0,n===void 0?null:n)}function I0(e,t,r,n){var i=xn();n=n===void 0?null:n;var s=void 0;if(xt!==null){var o=xt.memoizedState;if(s=o.destroy,n!==null&&n$(n,o.deps)){i.memoizedState=mp(t,r,s,n);return}}Xe.flags|=e,i.memoizedState=mp(1|t,r,s,n)}function $M(e,t){return jm(8390656,8,e,t)}function o$(e,t){return I0(2048,8,e,t)}function rI(e,t){return I0(4,2,e,t)}function nI(e,t){return I0(4,4,e,t)}function iI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sI(e,t,r){return r=r!=null?r.concat([e]):null,I0(4,4,iI.bind(null,t,e),r)}function a$(){}function oI(e,t){var r=xn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&n$(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function aI(e,t){var r=xn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&n$(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function lI(e,t,r){return kl&21?(ri(r,t)||(r=pO(),Xe.lanes|=r,Pl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tr=!0),e.memoizedState=r)}function Q9(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var n=u1.transition;u1.transition={};try{e(!1),t()}finally{Ae=r,u1.transition=n}}function uI(){return xn().memoizedState}function X9(e,t,r){var n=Vo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},cI(e))dI(t,r);else if(r=BO(e,t,r,n),r!==null){var i=mr();Yn(r,e,n,i),hI(r,t,n)}}function ej(e,t,r){var n=Vo(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(cI(e))dI(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,ri(a,o)){var l=t.interleaved;l===null?(i.next=i,QS(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=BO(e,t,i,n),r!==null&&(i=mr(),Yn(r,e,n,i),hI(r,t,n))}}function cI(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function dI(e,t){Oh=ig=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function hI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,FS(e,r)}}var sg={readContext:$n,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},tj={readContext:$n,useCallback:function(e,t){return xi().memoizedState=[e,t===void 0?null:t],e},useContext:$n,useEffect:$M,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,jm(4194308,4,iI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jm(4194308,4,e,t)},useInsertionEffect:function(e,t){return jm(4,2,e,t)},useMemo:function(e,t){var r=xi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=X9.bind(null,Xe,e),[n.memoizedState,e]},useRef:function(e){var t=xi();return e={current:e},t.memoizedState=e},useState:SM,useDebugValue:a$,useDeferredValue:function(e){return xi().memoizedState=e},useTransition:function(){var e=SM(!1),t=e[0];return e=Q9.bind(null,e[1]),xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Xe,i=xi();if(Ze){if(r===void 0)throw Error(D(407));r=r()}else{if(r=t(),At===null)throw Error(D(349));kl&30||KO(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,$M(QO.bind(null,n,s,e),[e]),n.flags|=2048,mp(9,YO.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=xi(),t=At.identifierPrefix;if(Ze){var r=ws,n=vs;r=(n&~(1<<32-Kn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=pp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Y9++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rj={readContext:$n,useCallback:oI,useContext:$n,useEffect:o$,useImperativeHandle:sI,useInsertionEffect:rI,useLayoutEffect:nI,useMemo:aI,useReducer:c1,useRef:tI,useState:function(){return c1(fp)},useDebugValue:a$,useDeferredValue:function(e){var t=xn();return lI(t,xt.memoizedState,e)},useTransition:function(){var e=c1(fp)[0],t=xn().memoizedState;return[e,t]},useMutableSource:ZO,useSyncExternalStore:JO,useId:uI,unstable_isNewReconciler:!1},nj={readContext:$n,useCallback:oI,useContext:$n,useEffect:o$,useImperativeHandle:sI,useInsertionEffect:rI,useLayoutEffect:nI,useMemo:aI,useReducer:d1,useRef:tI,useState:function(){return d1(fp)},useDebugValue:a$,useDeferredValue:function(e){var t=xn();return xt===null?t.memoizedState=e:lI(t,xt.memoizedState,e)},useTransition:function(){var e=d1(fp)[0],t=xn().memoizedState;return[e,t]},useMutableSource:ZO,useSyncExternalStore:JO,useId:uI,unstable_isNewReconciler:!1};function Vn(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function t_(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var A0={isMounted:function(e){return(e=e._reactInternals)?Jl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=mr(),i=Vo(e),s=_s(n,i);s.payload=t,r!=null&&(s.callback=r),t=zo(e,s,i),t!==null&&(Yn(t,e,i,n),Dm(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=mr(),i=Vo(e),s=_s(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=zo(e,s,i),t!==null&&(Yn(t,e,i,n),Dm(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=mr(),n=Vo(e),i=_s(r,n);i.tag=2,t!=null&&(i.callback=t),t=zo(e,i,n),t!==null&&(Yn(t,e,n,r),Dm(t,e,n))}};function xM(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!ap(r,n)||!ap(i,s):!0}function pI(e,t,r){var n=!1,i=Ko,s=t.contextType;return typeof s=="object"&&s!==null?s=$n(s):(i=kr(t)?Ml:sr.current,n=t.contextTypes,s=(n=n!=null)?Ec(e,i):Ko),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=A0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function TM(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&A0.enqueueReplaceState(t,t.state,null)}function r_(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},XS(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=$n(s):(s=kr(t)?Ml:sr.current,i.context=Ec(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(t_(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&A0.enqueueReplaceState(i,i.state,null),rg(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Oc(e,t){try{var r="",n=t;do r+=OF(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function h1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function n_(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ij=typeof WeakMap=="function"?WeakMap:Map;function fI(e,t,r){r=_s(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ag||(ag=!0,p_=n),n_(e,t)},r}function mI(e,t,r){r=_s(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){n_(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){n_(e,t),typeof n!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function MM(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ij;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=vj.bind(null,e,t,r),t.then(e,e))}function EM(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kM(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_s(-1,1),t.tag=2,zo(r,t,1))),r.lanes|=1),e)}var sj=Rs.ReactCurrentOwner,Tr=!1;function pr(e,t,r,n){t.child=e===null?WO(t,null,r,n):Pc(t,e.child,r,n)}function PM(e,t,r,n,i){r=r.render;var s=t.ref;return uc(t,i),n=i$(e,t,r,n,s,i),r=s$(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Es(e,t,i)):(Ze&&r&&HS(t),t.flags|=1,pr(e,t,n,i),t.child)}function CM(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!m$(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,yI(e,t,s,n,i)):(e=Gm(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:ap,r(o,n)&&e.ref===t.ref)return Es(e,t,i)}return t.flags|=1,e=Go(s,n),e.ref=t.ref,e.return=t,t.child=e}function yI(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(ap(s,n)&&e.ref===t.ref)if(Tr=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Tr=!0);else return t.lanes=e.lanes,Es(e,t,i)}return i_(e,t,r,n,i)}function gI(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Yu,Ur),Ur|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(Yu,Ur),Ur|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,je(Yu,Ur),Ur|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,je(Yu,Ur),Ur|=n;return pr(e,t,i,r),t.child}function vI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function i_(e,t,r,n,i){var s=kr(r)?Ml:sr.current;return s=Ec(t,s),uc(t,i),r=i$(e,t,r,n,s,i),n=s$(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Es(e,t,i)):(Ze&&n&&HS(t),t.flags|=1,pr(e,t,r,i),t.child)}function OM(e,t,r,n,i){if(kr(r)){var s=!0;Yy(t)}else s=!1;if(uc(t,i),t.stateNode===null)zm(e,t),pI(t,r,n),r_(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=$n(d):(d=kr(r)?Ml:sr.current,d=Ec(t,d));var p=r.getDerivedStateFromProps,f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==d)&&TM(t,o,n,d),wo=!1;var m=t.memoizedState;o.state=m,rg(t,n,o,i),l=t.memoizedState,a!==n||m!==l||Er.current||wo?(typeof p=="function"&&(t_(t,r,p,n),l=t.memoizedState),(a=wo||xM(t,r,a,n,m,l,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=d,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,HO(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:Vn(t.type,a),o.props=d,f=t.pendingProps,m=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=$n(l):(l=kr(r)?Ml:sr.current,l=Ec(t,l));var y=r.getDerivedStateFromProps;(p=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&TM(t,o,n,l),wo=!1,m=t.memoizedState,o.state=m,rg(t,n,o,i);var g=t.memoizedState;a!==f||m!==g||Er.current||wo?(typeof y=="function"&&(t_(t,r,y,n),g=t.memoizedState),(d=wo||xM(t,r,d,n,m,g,l)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return s_(e,t,r,n,s,i)}function s_(e,t,r,n,i,s){vI(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&yM(t,r,!1),Es(e,t,s);n=t.stateNode,sj.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Pc(t,e.child,null,s),t.child=Pc(t,null,a,s)):pr(e,t,a,s),t.memoizedState=n.state,i&&yM(t,r,!0),t.child}function wI(e){var t=e.stateNode;t.pendingContext?mM(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mM(e,t.context,!1),e$(e,t.containerInfo)}function IM(e,t,r,n,i){return kc(),ZS(i),t.flags|=256,pr(e,t,r,n),t.child}var o_={dehydrated:null,treeContext:null,retryLane:0};function a_(e){return{baseLanes:e,cachePool:null,transitions:null}}function _I(e,t,r){var n=t.pendingProps,i=Ye.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),je(Ye,i&1),e===null)return Xw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=N0(o,n,0,null),e=wl(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=a_(r),t.memoizedState=o_,e):l$(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return oj(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Go(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Go(a,s):(s=wl(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?a_(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=o_,n}return s=e.child,e=s.sibling,n=Go(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function l$(e,t){return t=N0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Df(e,t,r,n){return n!==null&&ZS(n),Pc(t,e.child,null,r),e=l$(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oj(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=h1(Error(D(422))),Df(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=N0({mode:"visible",children:n.children},i,0,null),s=wl(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Pc(t,e.child,null,o),t.child.memoizedState=a_(o),t.memoizedState=o_,s);if(!(t.mode&1))return Df(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(D(419)),n=h1(s,n,void 0),Df(e,t,o,n)}if(a=(o&e.childLanes)!==0,Tr||a){if(n=At,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ms(e,i),Yn(n,e,i,-1))}return f$(),n=h1(Error(D(421))),Df(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=wj.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Gr=jo(i.nextSibling),Hr=t,Ze=!0,Bn=null,e!==null&&(hn[pn++]=vs,hn[pn++]=ws,hn[pn++]=El,vs=e.id,ws=e.overflow,El=t),t=l$(t,n.children),t.flags|=4096,t)}function AM(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),e_(e.return,t,r)}function p1(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function bI(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(pr(e,t,n.children,r),n=Ye.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&AM(e,r,t);else if(e.tag===19)AM(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(je(Ye,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&ng(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),p1(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ng(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}p1(t,!0,r,null,s);break;case"together":p1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Es(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Pl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,r=Go(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Go(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function aj(e,t,r){switch(t.tag){case 3:wI(t),kc();break;case 5:qO(t);break;case 1:kr(t.type)&&Yy(t);break;case 4:e$(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;je(eg,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(je(Ye,Ye.current&1),t.flags|=128,null):r&t.child.childLanes?_I(e,t,r):(je(Ye,Ye.current&1),e=Es(e,t,r),e!==null?e.sibling:null);je(Ye,Ye.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bI(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Ye,Ye.current),n)break;return null;case 22:case 23:return t.lanes=0,gI(e,t,r)}return Es(e,t,r)}var SI,l_,$I,xI;SI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};l_=function(){};$I=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,hl(Ci.current);var s=null;switch(r){case"input":i=Cw(e,i),n=Cw(e,n),s=[];break;case"select":i=tt({},i,{value:void 0}),n=tt({},n,{value:void 0}),s=[];break;case"textarea":i=Aw(e,i),n=Aw(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Jy)}Lw(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ep.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var l=n[d];if(a=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(d,r)),r=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ep.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Ve("scroll",e),s||a===l||(s=[])):(s=s||[]).push(d,l))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};xI=function(e,t,r,n){r!==n&&(t.flags|=4)};function fd(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function lj(e,t,r){var n=t.pendingProps;switch(qS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return kr(t.type)&&Ky(),Zt(t),null;case 3:return n=t.stateNode,Cc(),qe(Er),qe(sr),r$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Lf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bn!==null&&(y_(Bn),Bn=null))),l_(e,t),Zt(t),null;case 5:t$(t);var i=hl(hp.current);if(r=t.type,e!==null&&t.stateNode!=null)$I(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(D(166));return Zt(t),null}if(e=hl(Ci.current),Lf(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ei]=t,n[cp]=s,e=(t.mode&1)!==0,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(i=0;i<Fd.length;i++)Ve(Fd[i],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":VT(n,s),Ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",n);break;case"textarea":WT(n,s),Ve("invalid",n)}Lw(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Rf(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Rf(n.textContent,a,e),i=["children",""+a]):ep.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",n)}switch(r){case"input":Mf(n),GT(n,s,!0);break;case"textarea":Mf(n),BT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Jy)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=QC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ei]=t,e[cp]=n,SI(e,t,!1,!1),t.stateNode=e;e:{switch(o=Nw(r,n),r){case"dialog":Ve("cancel",e),Ve("close",e),i=n;break;case"iframe":case"object":case"embed":Ve("load",e),i=n;break;case"video":case"audio":for(i=0;i<Fd.length;i++)Ve(Fd[i],e);i=n;break;case"source":Ve("error",e),i=n;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),i=n;break;case"details":Ve("toggle",e),i=n;break;case"input":VT(e,n),i=Cw(e,n),Ve("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=tt({},n,{value:void 0}),Ve("invalid",e);break;case"textarea":WT(e,n),i=Aw(e,n),Ve("invalid",e);break;default:i=n}Lw(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?tO(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XC(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&tp(e,l):typeof l=="number"&&tp(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ep.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ve("scroll",e):l!=null&&IS(e,s,l,o))}switch(r){case"input":Mf(e),GT(e,n,!1);break;case"textarea":Mf(e),BT(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jo(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?sc(e,!!n.multiple,s,!1):n.defaultValue!=null&&sc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Jy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&t.stateNode!=null)xI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(D(166));if(r=hl(hp.current),hl(Ci.current),Lf(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ei]=t,(s=n.nodeValue!==r)&&(e=Hr,e!==null))switch(e.tag){case 3:Rf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rf(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ei]=t,t.stateNode=n}return Zt(t),null;case 13:if(qe(Ye),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ze&&Gr!==null&&t.mode&1&&!(t.flags&128))VO(),kc(),t.flags|=98560,s=!1;else if(s=Lf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(D(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[Ei]=t}else kc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zt(t),s=!1}else Bn!==null&&(y_(Bn),Bn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?Tt===0&&(Tt=3):f$())),t.updateQueue!==null&&(t.flags|=4),Zt(t),null);case 4:return Cc(),l_(e,t),e===null&&lp(t.stateNode.containerInfo),Zt(t),null;case 10:return YS(t.type._context),Zt(t),null;case 17:return kr(t.type)&&Ky(),Zt(t),null;case 19:if(qe(Ye),s=t.memoizedState,s===null)return Zt(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)fd(s,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ng(e),o!==null){for(t.flags|=128,fd(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(Ye,Ye.current&1|2),t.child}e=e.sibling}s.tail!==null&&ft()>Ic&&(t.flags|=128,n=!0,fd(s,!1),t.lanes=4194304)}else{if(!n)if(e=ng(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),fd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ze)return Zt(t),null}else 2*ft()-s.renderingStartTime>Ic&&r!==1073741824&&(t.flags|=128,n=!0,fd(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ft(),t.sibling=null,r=Ye.current,je(Ye,n?r&1|2:r&1),t):(Zt(t),null);case 22:case 23:return p$(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ur&1073741824&&(Zt(t),t.subtreeFlags&6&&(t.flags|=8192)):Zt(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function uj(e,t){switch(qS(t),t.tag){case 1:return kr(t.type)&&Ky(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cc(),qe(Er),qe(sr),r$(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return t$(t),null;case 13:if(qe(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));kc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Ye),null;case 4:return Cc(),null;case 10:return YS(t.type._context),null;case 22:case 23:return p$(),null;case 24:return null;default:return null}}var Ff=!1,er=!1,cj=typeof WeakSet=="function"?WeakSet:Set,H=null;function Ku(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ot(e,t,n)}else r.current=null}function u_(e,t,r){try{r()}catch(n){ot(e,t,n)}}var RM=!1;function dj(e,t){if(Hw=Hy,e=PO(),BS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,d=0,p=0,f=e,m=null;t:for(;;){for(var y;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===e)break t;if(m===r&&++d===i&&(a=o),m===s&&++p===n&&(l=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(qw={focusedElem:e,selectionRange:r},Hy=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,S=g.memoizedState,w=t.stateNode,_=w.getSnapshotBeforeUpdate(t.elementType===t.type?v:Vn(t.type,v),S);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var $=t.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(x){ot(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return g=RM,RM=!1,g}function Ih(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&u_(t,r,s)}i=i.next}while(i!==n)}}function R0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function c_(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function TI(e){var t=e.alternate;t!==null&&(e.alternate=null,TI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ei],delete t[cp],delete t[Kw],delete t[q9],delete t[Z9])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function MI(e){return e.tag===5||e.tag===3||e.tag===4}function LM(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||MI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function d_(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Jy));else if(n!==4&&(e=e.child,e!==null))for(d_(e,t,r),e=e.sibling;e!==null;)d_(e,t,r),e=e.sibling}function h_(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(h_(e,t,r),e=e.sibling;e!==null;)h_(e,t,r),e=e.sibling}var Ut=null,Wn=!1;function Ds(e,t,r){for(r=r.child;r!==null;)EI(e,t,r),r=r.sibling}function EI(e,t,r){if(Pi&&typeof Pi.onCommitFiberUnmount=="function")try{Pi.onCommitFiberUnmount(M0,r)}catch{}switch(r.tag){case 5:er||Ku(r,t);case 6:var n=Ut,i=Wn;Ut=null,Ds(e,t,r),Ut=n,Wn=i,Ut!==null&&(Wn?(e=Ut,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ut.removeChild(r.stateNode));break;case 18:Ut!==null&&(Wn?(e=Ut,r=r.stateNode,e.nodeType===8?o1(e.parentNode,r):e.nodeType===1&&o1(e,r),sp(e)):o1(Ut,r.stateNode));break;case 4:n=Ut,i=Wn,Ut=r.stateNode.containerInfo,Wn=!0,Ds(e,t,r),Ut=n,Wn=i;break;case 0:case 11:case 14:case 15:if(!er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&u_(r,t,o),i=i.next}while(i!==n)}Ds(e,t,r);break;case 1:if(!er&&(Ku(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ot(r,t,a)}Ds(e,t,r);break;case 21:Ds(e,t,r);break;case 22:r.mode&1?(er=(n=er)||r.memoizedState!==null,Ds(e,t,r),er=n):Ds(e,t,r);break;default:Ds(e,t,r)}}function NM(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new cj),t.forEach(function(n){var i=_j.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function En(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ut=a.stateNode,Wn=!1;break e;case 3:Ut=a.stateNode.containerInfo,Wn=!0;break e;case 4:Ut=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(Ut===null)throw Error(D(160));EI(s,o,i),Ut=null,Wn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){ot(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kI(t,e),t=t.sibling}function kI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(En(t,e),oi(e),n&4){try{Ih(3,e,e.return),R0(3,e)}catch(v){ot(e,e.return,v)}try{Ih(5,e,e.return)}catch(v){ot(e,e.return,v)}}break;case 1:En(t,e),oi(e),n&512&&r!==null&&Ku(r,r.return);break;case 5:if(En(t,e),oi(e),n&512&&r!==null&&Ku(r,r.return),e.flags&32){var i=e.stateNode;try{tp(i,"")}catch(v){ot(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&KC(i,s),Nw(a,o);var d=Nw(a,s);for(o=0;o<l.length;o+=2){var p=l[o],f=l[o+1];p==="style"?tO(i,f):p==="dangerouslySetInnerHTML"?XC(i,f):p==="children"?tp(i,f):IS(i,p,f,d)}switch(a){case"input":Ow(i,s);break;case"textarea":YC(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?sc(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?sc(i,!!s.multiple,s.defaultValue,!0):sc(i,!!s.multiple,s.multiple?[]:"",!1))}i[cp]=s}catch(v){ot(e,e.return,v)}}break;case 6:if(En(t,e),oi(e),n&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){ot(e,e.return,v)}}break;case 3:if(En(t,e),oi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sp(t.containerInfo)}catch(v){ot(e,e.return,v)}break;case 4:En(t,e),oi(e);break;case 13:En(t,e),oi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(d$=ft())),n&4&&NM(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(er=(d=er)||p,En(t,e),er=d):En(t,e),oi(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(H=e,p=e.child;p!==null;){for(f=H=p;H!==null;){switch(m=H,y=m.child,m.tag){case 0:case 11:case 14:case 15:Ih(4,m,m.return);break;case 1:Ku(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){ot(n,r,v)}}break;case 5:Ku(m,m.return);break;case 22:if(m.memoizedState!==null){FM(f);continue}}y!==null?(y.return=m,H=y):FM(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{i=f.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=eO("display",o))}catch(v){ot(e,e.return,v)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){ot(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:En(t,e),oi(e),n&4&&NM(e);break;case 21:break;default:En(t,e),oi(e)}}function oi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(MI(r)){var n=r;break e}r=r.return}throw Error(D(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(tp(i,""),n.flags&=-33);var s=LM(e);h_(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=LM(e);d_(e,a,o);break;default:throw Error(D(161))}}catch(l){ot(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hj(e,t,r){H=e,PI(e)}function PI(e,t,r){for(var n=(e.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ff;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||er;a=Ff;var d=er;if(Ff=o,(er=l)&&!d)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?jM(i):l!==null?(l.return=o,H=l):jM(i);for(;s!==null;)H=s,PI(s),s=s.sibling;H=i,Ff=a,er=d}DM(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):DM(e)}}function DM(e){for(;H!==null;){var t=H;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:er||R0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!er)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Vn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&bM(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bM(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&sp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}er||t.flags&512&&c_(t)}catch(m){ot(t,t.return,m)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function FM(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function jM(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{R0(4,t)}catch(l){ot(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){ot(t,i,l)}}var s=t.return;try{c_(t)}catch(l){ot(t,s,l)}break;case 5:var o=t.return;try{c_(t)}catch(l){ot(t,o,l)}}}catch(l){ot(t,t.return,l)}if(t===e){H=null;break}var a=t.sibling;if(a!==null){a.return=t.return,H=a;break}H=t.return}}var pj=Math.ceil,og=Rs.ReactCurrentDispatcher,u$=Rs.ReactCurrentOwner,wn=Rs.ReactCurrentBatchConfig,$e=0,At=null,wt=null,Wt=0,Ur=0,Yu=ca(0),Tt=0,yp=null,Pl=0,L0=0,c$=0,Ah=null,Sr=null,d$=0,Ic=1/0,cs=null,ag=!1,p_=null,Uo=null,jf=!1,Oo=null,lg=0,Rh=0,f_=null,Um=-1,Vm=0;function mr(){return $e&6?ft():Um!==-1?Um:Um=ft()}function Vo(e){return e.mode&1?$e&2&&Wt!==0?Wt&-Wt:K9.transition!==null?(Vm===0&&(Vm=pO()),Vm):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:_O(e.type)),e):1}function Yn(e,t,r,n){if(50<Rh)throw Rh=0,f_=null,Error(D(185));Up(e,r,n),(!($e&2)||e!==At)&&(e===At&&(!($e&2)&&(L0|=r),Tt===4&&Eo(e,Wt)),Pr(e,n),r===1&&$e===0&&!(t.mode&1)&&(Ic=ft()+500,O0&&da()))}function Pr(e,t){var r=e.callbackNode;KF(e,t);var n=By(e,e===At?Wt:0);if(n===0)r!==null&&ZT(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ZT(r),t===1)e.tag===0?J9(zM.bind(null,e)):jO(zM.bind(null,e)),B9(function(){!($e&6)&&da()}),r=null;else{switch(fO(n)){case 1:r=DS;break;case 4:r=dO;break;case 16:r=Wy;break;case 536870912:r=hO;break;default:r=Wy}r=DI(r,CI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function CI(e,t){if(Um=-1,Vm=0,$e&6)throw Error(D(327));var r=e.callbackNode;if(cc()&&e.callbackNode!==r)return null;var n=By(e,e===At?Wt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ug(e,n);else{t=n;var i=$e;$e|=2;var s=II();(At!==e||Wt!==t)&&(cs=null,Ic=ft()+500,vl(e,t));do try{yj();break}catch(a){OI(e,a)}while(!0);KS(),og.current=s,$e=i,wt!==null?t=0:(At=null,Wt=0,t=Tt)}if(t!==0){if(t===2&&(i=Uw(e),i!==0&&(n=i,t=m_(e,i))),t===1)throw r=yp,vl(e,0),Eo(e,n),Pr(e,ft()),r;if(t===6)Eo(e,n);else{if(i=e.current.alternate,!(n&30)&&!fj(i)&&(t=ug(e,n),t===2&&(s=Uw(e),s!==0&&(n=s,t=m_(e,s))),t===1))throw r=yp,vl(e,0),Eo(e,n),Pr(e,ft()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(D(345));case 2:Pa(e,Sr,cs);break;case 3:if(Eo(e,n),(n&130023424)===n&&(t=d$+500-ft(),10<t)){if(By(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){mr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jw(Pa.bind(null,e,Sr,cs),t);break}Pa(e,Sr,cs);break;case 4:if(Eo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Kn(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=ft()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pj(n/1960))-n,10<n){e.timeoutHandle=Jw(Pa.bind(null,e,Sr,cs),n);break}Pa(e,Sr,cs);break;case 5:Pa(e,Sr,cs);break;default:throw Error(D(329))}}}return Pr(e,ft()),e.callbackNode===r?CI.bind(null,e):null}function m_(e,t){var r=Ah;return e.current.memoizedState.isDehydrated&&(vl(e,t).flags|=256),e=ug(e,t),e!==2&&(t=Sr,Sr=r,t!==null&&y_(t)),e}function y_(e){Sr===null?Sr=e:Sr.push.apply(Sr,e)}function fj(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ri(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Eo(e,t){for(t&=~c$,t&=~L0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Kn(t),n=1<<r;e[r]=-1,t&=~n}}function zM(e){if($e&6)throw Error(D(327));cc();var t=By(e,0);if(!(t&1))return Pr(e,ft()),null;var r=ug(e,t);if(e.tag!==0&&r===2){var n=Uw(e);n!==0&&(t=n,r=m_(e,n))}if(r===1)throw r=yp,vl(e,0),Eo(e,t),Pr(e,ft()),r;if(r===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pa(e,Sr,cs),Pr(e,ft()),null}function h$(e,t){var r=$e;$e|=1;try{return e(t)}finally{$e=r,$e===0&&(Ic=ft()+500,O0&&da())}}function Cl(e){Oo!==null&&Oo.tag===0&&!($e&6)&&cc();var t=$e;$e|=1;var r=wn.transition,n=Ae;try{if(wn.transition=null,Ae=1,e)return e()}finally{Ae=n,wn.transition=r,$e=t,!($e&6)&&da()}}function p$(){Ur=Yu.current,qe(Yu)}function vl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,W9(r)),wt!==null)for(r=wt.return;r!==null;){var n=r;switch(qS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ky();break;case 3:Cc(),qe(Er),qe(sr),r$();break;case 5:t$(n);break;case 4:Cc();break;case 13:qe(Ye);break;case 19:qe(Ye);break;case 10:YS(n.type._context);break;case 22:case 23:p$()}r=r.return}if(At=e,wt=e=Go(e.current,null),Wt=Ur=t,Tt=0,yp=null,c$=L0=Pl=0,Sr=Ah=null,dl!==null){for(t=0;t<dl.length;t++)if(r=dl[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}dl=null}return e}function OI(e,t){do{var r=wt;try{if(KS(),Fm.current=sg,ig){for(var n=Xe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ig=!1}if(kl=0,Ot=xt=Xe=null,Oh=!1,pp=0,u$.current=null,r===null||r.return===null){Tt=1,yp=t,wt=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=Wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,p=a,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=EM(o);if(y!==null){y.flags&=-257,kM(y,o,a,s,t),y.mode&1&&MM(s,d,t),t=y,l=d;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){MM(s,d,t),f$();break e}l=Error(D(426))}}else if(Ze&&a.mode&1){var S=EM(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),kM(S,o,a,s,t),ZS(Oc(l,a));break e}}s=l=Oc(l,a),Tt!==4&&(Tt=2),Ah===null?Ah=[s]:Ah.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var w=fI(s,l,t);_M(s,w);break e;case 1:a=l;var _=s.type,$=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Uo===null||!Uo.has($)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=mI(s,a,t);_M(s,x);break e}}s=s.return}while(s!==null)}RI(r)}catch(T){t=T,wt===r&&r!==null&&(wt=r=r.return);continue}break}while(!0)}function II(){var e=og.current;return og.current=sg,e===null?sg:e}function f$(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),At===null||!(Pl&268435455)&&!(L0&268435455)||Eo(At,Wt)}function ug(e,t){var r=$e;$e|=2;var n=II();(At!==e||Wt!==t)&&(cs=null,vl(e,t));do try{mj();break}catch(i){OI(e,i)}while(!0);if(KS(),$e=r,og.current=n,wt!==null)throw Error(D(261));return At=null,Wt=0,Tt}function mj(){for(;wt!==null;)AI(wt)}function yj(){for(;wt!==null&&!UF();)AI(wt)}function AI(e){var t=NI(e.alternate,e,Ur);e.memoizedProps=e.pendingProps,t===null?RI(e):wt=t,u$.current=null}function RI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=uj(r,t),r!==null){r.flags&=32767,wt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,wt=null;return}}else if(r=lj(r,t,Ur),r!==null){wt=r;return}if(t=t.sibling,t!==null){wt=t;return}wt=t=e}while(t!==null);Tt===0&&(Tt=5)}function Pa(e,t,r){var n=Ae,i=wn.transition;try{wn.transition=null,Ae=1,gj(e,t,r,n)}finally{wn.transition=i,Ae=n}return null}function gj(e,t,r,n){do cc();while(Oo!==null);if($e&6)throw Error(D(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(YF(e,s),e===At&&(wt=At=null,Wt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||jf||(jf=!0,DI(Wy,function(){return cc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=wn.transition,wn.transition=null;var o=Ae;Ae=1;var a=$e;$e|=4,u$.current=null,dj(e,r),kI(r,e),D9(qw),Hy=!!Hw,qw=Hw=null,e.current=r,hj(r),VF(),$e=a,Ae=o,wn.transition=s}else e.current=r;if(jf&&(jf=!1,Oo=e,lg=i),s=e.pendingLanes,s===0&&(Uo=null),BF(r.stateNode),Pr(e,ft()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ag)throw ag=!1,e=p_,p_=null,e;return lg&1&&e.tag!==0&&cc(),s=e.pendingLanes,s&1?e===f_?Rh++:(Rh=0,f_=e):Rh=0,da(),null}function cc(){if(Oo!==null){var e=fO(lg),t=wn.transition,r=Ae;try{if(wn.transition=null,Ae=16>e?16:e,Oo===null)var n=!1;else{if(e=Oo,Oo=null,lg=0,$e&6)throw Error(D(331));var i=$e;for($e|=4,H=e.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(H=d;H!==null;){var p=H;switch(p.tag){case 0:case 11:case 15:Ih(8,p,s)}var f=p.child;if(f!==null)f.return=p,H=f;else for(;H!==null;){p=H;var m=p.sibling,y=p.return;if(TI(p),p===d){H=null;break}if(m!==null){m.return=y,H=m;break}H=y}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ih(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,H=w;break e}H=s.return}}var _=e.current;for(H=_;H!==null;){o=H;var $=o.child;if(o.subtreeFlags&2064&&$!==null)$.return=o,H=$;else e:for(o=_;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:R0(9,a)}}catch(T){ot(a,a.return,T)}if(a===o){H=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,H=x;break e}H=a.return}}if($e=i,da(),Pi&&typeof Pi.onPostCommitFiberRoot=="function")try{Pi.onPostCommitFiberRoot(M0,e)}catch{}n=!0}return n}finally{Ae=r,wn.transition=t}}return!1}function UM(e,t,r){t=Oc(r,t),t=fI(e,t,1),e=zo(e,t,1),t=mr(),e!==null&&(Up(e,1,t),Pr(e,t))}function ot(e,t,r){if(e.tag===3)UM(e,e,r);else for(;t!==null;){if(t.tag===3){UM(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Uo===null||!Uo.has(n))){e=Oc(r,e),e=mI(t,e,1),t=zo(t,e,1),e=mr(),t!==null&&(Up(t,1,e),Pr(t,e));break}}t=t.return}}function vj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=mr(),e.pingedLanes|=e.suspendedLanes&r,At===e&&(Wt&r)===r&&(Tt===4||Tt===3&&(Wt&130023424)===Wt&&500>ft()-d$?vl(e,0):c$|=r),Pr(e,t)}function LI(e,t){t===0&&(e.mode&1?(t=Pf,Pf<<=1,!(Pf&130023424)&&(Pf=4194304)):t=1);var r=mr();e=Ms(e,t),e!==null&&(Up(e,t,r),Pr(e,r))}function wj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),LI(e,r)}function _j(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(D(314))}n!==null&&n.delete(t),LI(e,r)}var NI;NI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Er.current)Tr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Tr=!1,aj(e,t,r);Tr=!!(e.flags&131072)}else Tr=!1,Ze&&t.flags&1048576&&zO(t,Xy,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zm(e,t),e=t.pendingProps;var i=Ec(t,sr.current);uc(t,r),i=i$(null,t,n,e,i,r);var s=s$();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kr(n)?(s=!0,Yy(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,XS(t),i.updater=A0,t.stateNode=i,i._reactInternals=t,r_(t,n,e,r),t=s_(null,t,n,!0,s,r)):(t.tag=0,Ze&&s&&HS(t),pr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zm(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Sj(n),e=Vn(n,e),i){case 0:t=i_(null,t,n,e,r);break e;case 1:t=OM(null,t,n,e,r);break e;case 11:t=PM(null,t,n,e,r);break e;case 14:t=CM(null,t,n,Vn(n.type,e),r);break e}throw Error(D(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vn(n,i),i_(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vn(n,i),OM(e,t,n,i,r);case 3:e:{if(wI(t),e===null)throw Error(D(387));n=t.pendingProps,s=t.memoizedState,i=s.element,HO(e,t),rg(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Oc(Error(D(423)),t),t=IM(e,t,n,r,i);break e}else if(n!==i){i=Oc(Error(D(424)),t),t=IM(e,t,n,r,i);break e}else for(Gr=jo(t.stateNode.containerInfo.firstChild),Hr=t,Ze=!0,Bn=null,r=WO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(kc(),n===i){t=Es(e,t,r);break e}pr(e,t,n,r)}t=t.child}return t;case 5:return qO(t),e===null&&Xw(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Zw(n,i)?o=null:s!==null&&Zw(n,s)&&(t.flags|=32),vI(e,t),pr(e,t,o,r),t.child;case 6:return e===null&&Xw(t),null;case 13:return _I(e,t,r);case 4:return e$(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Pc(t,null,n,r):pr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vn(n,i),PM(e,t,n,i,r);case 7:return pr(e,t,t.pendingProps,r),t.child;case 8:return pr(e,t,t.pendingProps.children,r),t.child;case 12:return pr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,je(eg,n._currentValue),n._currentValue=o,s!==null)if(ri(s.value,o)){if(s.children===i.children&&!Er.current){t=Es(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=_s(-1,r&-r),l.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?l.next=l:(l.next=p.next,p.next=l),d.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),e_(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),e_(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,uc(t,r),i=$n(i),n=n(i),t.flags|=1,pr(e,t,n,r),t.child;case 14:return n=t.type,i=Vn(n,t.pendingProps),i=Vn(n.type,i),CM(e,t,n,i,r);case 15:return yI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vn(n,i),zm(e,t),t.tag=1,kr(n)?(e=!0,Yy(t)):e=!1,uc(t,r),pI(t,n,i),r_(t,n,i,r),s_(null,t,n,!0,e,r);case 19:return bI(e,t,r);case 22:return gI(e,t,r)}throw Error(D(156,t.tag))};function DI(e,t){return cO(e,t)}function bj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,t,r,n){return new bj(e,t,r,n)}function m$(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sj(e){if(typeof e=="function")return m$(e)?1:0;if(e!=null){if(e=e.$$typeof,e===RS)return 11;if(e===LS)return 14}return 2}function Go(e,t){var r=e.alternate;return r===null?(r=yn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gm(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")m$(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Uu:return wl(r.children,i,s,t);case AS:o=8,i|=8;break;case Mw:return e=yn(12,r,t,i|2),e.elementType=Mw,e.lanes=s,e;case Ew:return e=yn(13,r,t,i),e.elementType=Ew,e.lanes=s,e;case kw:return e=yn(19,r,t,i),e.elementType=kw,e.lanes=s,e;case qC:return N0(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case BC:o=10;break e;case HC:o=9;break e;case RS:o=11;break e;case LS:o=14;break e;case vo:o=16,n=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=yn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function wl(e,t,r,n){return e=yn(7,e,n,t),e.lanes=r,e}function N0(e,t,r,n){return e=yn(22,e,n,t),e.elementType=qC,e.lanes=r,e.stateNode={isHidden:!1},e}function f1(e,t,r){return e=yn(6,e,null,t),e.lanes=r,e}function m1(e,t,r){return t=yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $j(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jv(0),this.expirationTimes=Jv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function y$(e,t,r,n,i,s,o,a,l){return e=new $j(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=yn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},XS(s),e}function xj(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function FI(e){if(!e)return Ko;e=e._reactInternals;e:{if(Jl(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var r=e.type;if(kr(r))return FO(e,r,t)}return t}function jI(e,t,r,n,i,s,o,a,l){return e=y$(r,n,!0,e,i,s,o,a,l),e.context=FI(null),r=e.current,n=mr(),i=Vo(r),s=_s(n,i),s.callback=t??null,zo(r,s,i),e.current.lanes=i,Up(e,i,n),Pr(e,n),e}function D0(e,t,r,n){var i=t.current,s=mr(),o=Vo(i);return r=FI(r),t.context===null?t.context=r:t.pendingContext=r,t=_s(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=zo(i,t,o),e!==null&&(Yn(e,i,o,s),Dm(e,i,o)),o}function cg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function VM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function g$(e,t){VM(e,t),(e=e.alternate)&&VM(e,t)}function Tj(){return null}var zI=typeof reportError=="function"?reportError:function(e){console.error(e)};function v$(e){this._internalRoot=e}F0.prototype.render=v$.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));D0(e,t,null,null)};F0.prototype.unmount=v$.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cl(function(){D0(null,e,null,null)}),t[Ts]=null}};function F0(e){this._internalRoot=e}F0.prototype.unstable_scheduleHydration=function(e){if(e){var t=gO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mo.length&&t!==0&&t<Mo[r].priority;r++);Mo.splice(r,0,e),r===0&&wO(e)}};function w$(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function j0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function GM(){}function Mj(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=cg(o);s.call(d)}}var o=jI(t,n,e,0,null,!1,!1,"",GM);return e._reactRootContainer=o,e[Ts]=o.current,lp(e.nodeType===8?e.parentNode:e),Cl(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var d=cg(l);a.call(d)}}var l=y$(e,0,!1,null,null,!1,!1,"",GM);return e._reactRootContainer=l,e[Ts]=l.current,lp(e.nodeType===8?e.parentNode:e),Cl(function(){D0(t,l,r,n)}),l}function z0(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=cg(o);a.call(l)}}D0(t,o,e,i)}else o=Mj(r,t,e,i,n);return cg(o)}mO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Dd(t.pendingLanes);r!==0&&(FS(t,r|1),Pr(t,ft()),!($e&6)&&(Ic=ft()+500,da()))}break;case 13:Cl(function(){var n=Ms(e,1);if(n!==null){var i=mr();Yn(n,e,1,i)}}),g$(e,1)}};jS=function(e){if(e.tag===13){var t=Ms(e,134217728);if(t!==null){var r=mr();Yn(t,e,134217728,r)}g$(e,134217728)}};yO=function(e){if(e.tag===13){var t=Vo(e),r=Ms(e,t);if(r!==null){var n=mr();Yn(r,e,t,n)}g$(e,t)}};gO=function(){return Ae};vO=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}};Fw=function(e,t,r){switch(t){case"input":if(Ow(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=C0(n);if(!i)throw Error(D(90));JC(n),Ow(n,i)}}}break;case"textarea":YC(e,r);break;case"select":t=r.value,t!=null&&sc(e,!!r.multiple,t,!1)}};iO=h$;sO=Cl;var Ej={usingClientEntryPoint:!1,Events:[Gp,Bu,C0,rO,nO,h$]},md={findFiberByHostInstance:cl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kj={bundleType:md.bundleType,version:md.version,rendererPackageName:md.rendererPackageName,rendererConfig:md.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lO(e),e===null?null:e.stateNode},findFiberByHostInstance:md.findFiberByHostInstance||Tj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{M0=zf.inject(kj),Pi=zf}catch{}}Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ej;Xr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w$(t))throw Error(D(200));return xj(e,t,null,r)};Xr.createRoot=function(e,t){if(!w$(e))throw Error(D(299));var r=!1,n="",i=zI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=y$(e,1,!1,null,null,r,!1,n,i),e[Ts]=t.current,lp(e.nodeType===8?e.parentNode:e),new v$(t)};Xr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=lO(t),e=e===null?null:e.stateNode,e};Xr.flushSync=function(e){return Cl(e)};Xr.hydrate=function(e,t,r){if(!j0(t))throw Error(D(200));return z0(null,e,t,!0,r)};Xr.hydrateRoot=function(e,t,r){if(!w$(e))throw Error(D(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=zI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=jI(t,null,e,1,r??null,i,!1,s,o),e[Ts]=t.current,lp(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new F0(t)};Xr.render=function(e,t,r){if(!j0(t))throw Error(D(200));return z0(null,e,t,!1,r)};Xr.unmountComponentAtNode=function(e){if(!j0(e))throw Error(D(40));return e._reactRootContainer?(Cl(function(){z0(null,null,e,!1,function(){e._reactRootContainer=null,e[Ts]=null})}),!0):!1};Xr.unstable_batchedUpdates=h$;Xr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!j0(r))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return z0(e,t,r,!1,n)};Xr.version="18.3.1-next-f1338f8080-20240426";function UI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UI)}catch(e){console.error(e)}}UI(),UC.exports=Xr;var Pj=UC.exports,VI,WM=Pj;VI=WM.createRoot,WM.hydrateRoot;const Cj=()=>Te.jsxs("main",{className:"load",children:[Te.jsx("h1",{children:"Welcome to Geo-Dis"}),Te.jsx("h6",{children:"Choose two points to know the distance"})]}),Oj="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3c!--!Font%20Awesome%20Free%206.6.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='%230336cc'%20d='M470.6%20278.6c12.5-12.5%2012.5-32.8%200-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3%200s-12.5%2032.8%200%2045.3L402.7%20256%20265.4%20393.4c-12.5%2012.5-12.5%2032.8%200%2045.3s32.8%2012.5%2045.3%200l160-160zm-352%20160l160-160c12.5-12.5%2012.5-32.8%200-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3%200s-12.5%2032.8%200%2045.3L210.7%20256%2073.4%20393.4c-12.5%2012.5-12.5%2032.8%200%2045.3s32.8%2012.5%2045.3%200z'/%3e%3c/svg%3e",Ij="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3c!--!Font%20Awesome%20Free%206.6.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='%23336ccc'%20d='M41.4%20233.4c-12.5%2012.5-12.5%2032.8%200%2045.3l160%20160c12.5%2012.5%2032.8%2012.5%2045.3%200s12.5-32.8%200-45.3L109.3%20256%20246.6%20118.6c12.5-12.5%2012.5-32.8%200-45.3s-32.8-12.5-45.3%200l-160%20160zm352-160l-160%20160c-12.5%2012.5-12.5%2032.8%200%2045.3l160%20160c12.5%2012.5%2032.8%2012.5%2045.3%200s12.5-32.8%200-45.3L301.3%20256%20438.6%20118.6c12.5-12.5%2012.5-32.8%200-45.3s-32.8-12.5-45.3%200z'/%3e%3c/svg%3e",Aj="modulepreload",Rj=function(e){return"/"+e},BM={},U=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(r.map(a=>{if(a=Rj(a),a in BM)return;BM[a]=!0;const l=a.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const p=document.createElement("link");if(p.rel=l?"stylesheet":Aj,l||(p.as="script",p.crossOrigin=""),p.href=a,o&&p.setAttribute("nonce",o),document.head.appendChild(p),l)return new Promise((f,m)=>{p.addEventListener("load",f),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function c(e,t,r,n){var i,s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function Tue(e,t){return function(r,n){t(r,n,e)}}function Mue(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{d(n.next(p))}catch(f){o(f)}}function l(p){try{d(n.throw(p))}catch(f){o(f)}}function d(p){p.done?s(p.value):i(p.value).then(a,l)}d((n=n.apply(e,[])).next())})}let Io;function I(e){return typeof Io[e]=="function"?Io[e]=Io[e](globalThis):Io[e]}var bC,SC,$C,xC;Io=(bC=globalThis.dojoConfig)!=null&&bC.has||(SC=globalThis.esriConfig)!=null&&SC.has?{...($C=globalThis.dojoConfig)==null?void 0:$C.has,...(xC=globalThis.esriConfig)==null?void 0:xC.has}:{},I.add=(e,t,r,n)=>((n||Io[e]===void 0)&&(Io[e]=t),r&&I(e)),I.cache=Io,I.add("big-integer-warning-enabled",!0),I.add("esri-deprecation-warnings",!0),I.add("esri-tests-disable-screenshots",!1),I.add("esri-tests-use-full-window",!1),I.add("esri-tests-post-to-influx",!0),(()=>{var t;I.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(I.add("host-browser",e),I.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),I.add("dom",e),I("host-browser")){const r=navigator,n=r.userAgent,i=r.appVersion,s=parseFloat(i);if(I.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),I.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),I.add("khtml",i.includes("Konqueror")?s:void 0),I.add("edge",parseFloat(n.split("Edge/")[1])||void 0),I.add("opr",parseFloat(n.split("OPR/")[1])||void 0),I.add("webkit",!I("wp")&&!I("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),I.add("chrome",!I("edge")&&!I("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),I.add("android",!I("wp")&&parseFloat(n.split("Android ")[1])||void 0),I.add("safari",!i.includes("Safari")||I("wp")||I("chrome")||I("android")||I("edge")||I("opr")?void 0:parseFloat(i.split("Version/")[1])),I.add("mac",i.includes("Macintosh")),!I("wp")&&/(iPhone|iPod|iPad)/.test(n)){const o=RegExp.$1.replace(/P/,"p"),a=/OS ([\d_]+)/.test(n)?RegExp.$1:"1",l=parseFloat(a.replace(/_/,".").replaceAll("_",""));I.add(o,l),I.add("ios",l)}I("webkit")||(!n.includes("Gecko")||I("wp")||I("khtml")||I("edge")||I.add("mozilla",s),I("mozilla")&&I.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&I.add("esri-mobile",t),r&&I.add("esri-iPhone",r),I.add("esri-geolocation",!!navigator.geolocation)}I.add("esri-wasm","WebAssembly"in globalThis),I.add("esri-performance-mode-frames-between-render",20),I.add("esri-force-performance-mode",!1),I.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),I.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),I.add("esri-atomics","Atomics"in globalThis),I.add("esri-workers","Worker"in globalThis),I.add("web-feat:cache","caches"in globalThis),I.add("esri-workers-arraybuffer-transfer",!I("safari")||Number(I("safari"))>=12),I.add("workers-pool-size",8),I.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),I.add("featurelayer-simplify-payload-size-factors",[1,1,4]),I.add("featurelayer-fast-triangulation-enabled",!0),I.add("featurelayer-animation-enabled",!0),I.add("featurelayer-snapshot-enabled",!0),I.add("featurelayer-snapshot-point-min-threshold",8e4),I.add("featurelayer-snapshot-point-max-threshold",4e5),I.add("featurelayer-snapshot-point-coverage",.1),I.add("featurelayer-query-max-depth",4),I.add("featurelayer-query-pausing-enabled",!1),I.add("featurelayer-advanced-symbols",!1),I.add("featurelayer-pbf",!0),I.add("featurelayer-pbf-statistics",!1),I.add("feature-layers-workers",!0),I.add("feature-polyline-generalization-factor",1),I.add("mapview-transitions-duration",200),I.add("mapview-essential-goto-duration",200),I.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),I.add("mapserver-pbf-version-support",10.81),I.add("mapservice-popup-identify-max-tolerance",20),I("host-webworker")||I("host-browser")&&(I.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),I.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{I.add("esri-image-decode",!0,!0,!0)}).catch(()=>{I.add("esri-image-decode",!1,!0,!0)})}return!1}),I.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();const HM=new WeakMap;function Lj(e,t,r=!1){const n=` DEPRECATED - ${t}`;if(!r)return void e.warn(n);let i=HM.get(e);i||(i=new Set,HM.set(e,i)),i.has(t)||(i.add(t),e.warn(n))}function GI(e,t,r={}){if(I("esri-deprecation-warnings")){const{moduleName:n}=r;Ol(e,`Function: ${(n?n+"::":"")+t+"()"}`,r)}}function Eue(e,t,r={}){if(I("esri-deprecation-warnings")){const{moduleName:n}=r;Ol(e,`Property: ${(n?n+"::":"")+t}`,r)}}function Nj(e,t,r={}){I("esri-deprecation-warnings")&&Ol(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...r})}function Ol(e,t,r={}){if(I("esri-deprecation-warnings")){const{replacement:n,version:i,see:s,warnOnce:o}=r;let a=t;n&&(a+=`
	 Replacement: ${n}`),i&&(a+=`
	 Version: ${i}`),s&&(a+=`
	 See ${s} for more details.`),Lj(e,a,o)}}function kue(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function Dj(e,t){for(const r of e)if(r!=null&&t(r))return r}function dg(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let Bp=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if(dg(t)){const n=this._getOrCreateGroup(r);for(const i of t)ZM(i)&&n.push(i)}else ZM(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&r&&n.forEach(r)}}has(t){return this._groups.has(Uf(t))}remove(t){if(typeof t!="string"&&dg(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(qM(this._getGroup(t)),this._groups.delete(Uf(t)),this):this}removeAll(){return this._groups.forEach(qM),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set(Uf(t),r),r}_getGroup(t){return this._groups.get(Uf(t))}};function Uf(e){return e||"_default_"}function qM(e){for(const t of e)t instanceof Bp?t.removeAll():t.remove()}function ZM(e){return e!=null&&(!!e.remove||e instanceof Bp)}let y1=class Ca{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Ca._m}getInt(){return this._seed=(Ca._a*this._seed+Ca._c)%Ca._m,this._seed}getFloat(){return this.getInt()/(Ca._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const n=r-t;return t+this.getInt()/Ca._m*n}};y1._m=2147483647,y1._a=48271,y1._c=0;function Cue(e,t){return t?e.filter((r,n,i)=>i.findIndex(t.bind(null,r))===n):Array.from(new Set(e))}function U0(e,t,r){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Oue(e,t){let r=e.length!==t.length;r&&(e.length=t.length);for(let n=0;n<t.length;++n)e[n]!==t[n]&&(e[n]=t[n],r=!0);return r}function JM(e,t,r){let n,i;return r?(n=t.filter(s=>!e.some(o=>r(o,s))),i=e.filter(s=>!t.some(o=>r(o,s)))):(n=t.filter(s=>!e.includes(s)),i=e.filter(s=>!t.includes(s))),{added:n,removed:i}}function Iue(e){return e&&typeof e.length=="number"}let WI=class{constructor(){this.last=0}};const BI=new WI;function g_(e,t,r,n){n=n||BI;const i=Math.max(0,n.last-10);for(let o=i;o<r;++o)if(e[o]===t)return n.last=o,o;const s=Math.min(i,r);for(let o=0;o<s;++o)if(e[o]===t)return n.last=o,o;return-1}function Fj(e,t,r,n){const i=e.length,s=g_(e,t,i,n);if(s!==-1)return e[s]=e[i-1],e.pop(),t}const kn=new Set;function jj(e,t,r=e.length,n=t.length,i,s){if(n===0||r===0)return r;kn.clear();for(let a=0;a<n;++a)kn.add(t[a]);i=i||BI;const o=Math.max(0,i.last-10);for(let a=o;a<r;++a)if(kn.has(e[a])&&(s==null||s.push(e[a]),kn.delete(e[a]),e[a]=e[r-1],--r,--a,kn.size===0||r===0))return kn.clear(),r;for(let a=0;a<o;++a)if(kn.has(e[a])&&(s==null||s.push(e[a]),kn.delete(e[a]),e[a]=e[r-1],--r,--a,kn.size===0||r===0))return kn.clear(),r;return kn.clear(),r}function zj(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function Wo(e,t){return e!=null}function HI(e){return 32+e.length}function _$(){return 16}function Rue(e){if(!e)return 0;let t=ZI;for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];switch(typeof n){case"string":t+=HI(n);break;case"number":t+=_$();break;case"boolean":t+=4}}return t}function Uj(e){if(!e)return 0;if(Array.isArray(e))return Vj(e);let t=ZI;for(const r in e)e.hasOwnProperty(r)&&(t+=qI(e[r]));return t}function Vj(e){const t=e.length;if(t===0||typeof e[0]=="number")return 32+8*t;let r=JI;for(let n=0;n<t;n++)r+=qI(e[n]);return r}function qI(e){switch(typeof e){case"object":return Uj(e);case"string":return HI(e);case"number":return _$();case"boolean":return 4;default:return 8}}function Gj(e,t){return JI+e.length*t}const ZI=32,JI=16;function Lue(e){return e instanceof ArrayBuffer}function b$(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int8Array"}function KI(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8Array"}function YI(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8ClampedArray"}function S$(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int16Array"}function QI(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint16Array"}function $$(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int32Array"}function XI(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint32Array"}function V0(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float32Array"}function G0(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float64Array"}function Wj(e){return!("buffer"in e)}function Nue(...e){return e.reduce((t,r)=>t+(r?Wj(r)?Gj(r,_$()):r.byteLength+Bj:0),0)}const Bj=145,Due=1024;function Fue(e){return G0(e)||V0(e)||$$(e)||S$(e)||b$(e)}function jue(e){return G0(e)||V0(e)}function zue(e){return G0(e)?179769e303:V0(e)?3402823e32:XI(e)?4294967295:QI(e)?65535:KI(e)||YI(e)?255:$$(e)?2147483647:S$(e)?32767:b$(e)?127:256}function Hj(e,t){let r;for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function L(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=r4(e);if(t!=null)return t;if(hg(e))return e.clone();if(e4(e))return e.map(L);if(t4(e))return e.clone();const r={};for(const n of Object.getOwnPropertyNames(e))r[n]=L(e[n]);return r}function v_(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=r4(e);if(t!=null)return t;if(e4(e)){let r=!0;const n=e.map(i=>{const s=v_(i);return i!=null&&s==null&&(r=!1),s});return r?n:null}if(hg(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!t4(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const n of Object.getOwnPropertyNames(e)){const i=e[n],s=v_(i);if(i!=null&&s==null)return null;r[n]=s}return r}return null}function hg(e){return typeof e.clone=="function"}function e4(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function t4(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function KM(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function r4(e){if(b$(e)||KI(e)||YI(e)||S$(e)||QI(e)||$$(e)||XI(e)||V0(e)||G0(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,n]of e)t.set(r,L(n));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(L(r));return t}return null}function x$(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e==null?void 0:e.getTime)=="function"&&typeof(t==null?void 0:t.getTime)=="function"&&e.getTime()===t.getTime()||!1}function n4(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&U0(e,t):e instanceof Set?t instanceof Set&&Zj(e,t):e instanceof Map?t instanceof Map&&Jj(e,t):!!KM(e)&&KM(t)&&qj(e,t))}function qj(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const n of r)if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function Zj(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function Jj(e,t){if(e.size!==t.size)return!1;for(const[r,n]of e){const i=t.get(r);if(i!==n||i===void 0&&!t.has(r))return!1}return!0}function Kj(e,t,r=!1){return s4(e,t,r)}function Hp(e,t){if(t!=null)return t[e]||i4(e.split("."),!1,t)}function Yc(e,t,r){const n=e.split("."),i=n.pop(),s=i4(n,!0,r);s&&i&&(s[i]=t)}function YM(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const r=t;if(e.length!==r.length)return!0;for(let n=0;n<e.length;n++)if(YM(e[n],r[n]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in e)if(YM(e[r],t[r]))return!0;return!1}return e!==t}function i4(e,t,r){let n=r;for(const i of e){if(n==null)return;if(!(i in n)){if(!t)return;n[i]={}}n=n[i]}return n}function s4(e,t,r){return t?Object.keys(t).reduce((n,i)=>{let s=n[i],o=t[i];return s===o?n:s===void 0?(n[i]=L(o),n):(Array.isArray(o)||Array.isArray(n)?(s=s?Array.isArray(s)?n[i]=s.concat():n[i]=[s]:n[i]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach(a=>{s.includes(a)||s.push(a)}):n[i]=o.concat())):o&&typeof o=="object"?n[i]=s4(s,o,r):n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[i]=o),n)},e||{}):e}var TC;const ye={apiKey:void 0,applicationName:"",applicationUrl:(TC=globalThis.location)==null?void 0:TC.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(Kj(ye,globalThis.esriConfig,!0),delete ye.has),!ye.assetsPath){{const e="4.30";ye.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}ye.defaultAssetsPath=ye.assetsPath}const Yj=/\{([^}]+)\}/g;function QM(e){return e??""}function T$(e,t){return t?e.replaceAll(Yj,typeof t=="object"?(r,n)=>QM(Hp(n,t)):(r,n)=>QM(t(n))):e}function Qj(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,r=>t!=null&&t.includes(r)?r:`\\${r}`)}function o4(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}let XM;function Uue(e){return XM??(XM=new DOMParser),XM.parseFromString(e||"","text/html").body.innerText||""}function Vue(e,t){return new RegExp(`{${t}}`,"ig").test(e)}const e3={info:0,warn:1,error:2,none:3};let z=class Rr{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,Rr._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=Rr.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,Rr._loggers.get(t)||new Rr({module:t})}_log(t,r,...n){if(this._matchLevel(t)){if(r!=="always"&&!Rr._throttlingDisabled){const i=e7(n),s=this._loggedMessages[t].get(i);if(r==="once"&&s!=null||r==="oncePerTick"&&s&&s>=Rr._tickCounter)return;this._loggedMessages[t].set(i,Rr._tickCounter),Rr._scheduleTickCounterIncrement()}for(const i of ye.log.interceptors)if(i(t,this.module,...n))return;this._inheritedWriter()(t,this.module,...n)}}_parentWithMember(t,r){let n=this;for(;n!=null;){const i=n[t];if(i!=null)return i;n=n.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",Xj)}_matchLevel(t){const r=ye.log.level||"warn";return e3[this._parentWithMember("level",r)]<=e3[t]}static _scheduleTickCounterIncrement(){Rr._tickCounterScheduled||(Rr._tickCounterScheduled=!0,Promise.resolve().then(()=>{Rr._tickCounter++,Rr._tickCounterScheduled=!1}))}};function Xj(e,t,...r){console[e](`[${t}]`,...r)}function e7(...e){return o4(JSON.stringify(e,(r,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}z._loggers=new Map,z._tickCounter=0,z._tickCounterScheduled=!1,z._throttlingDisabled=!1;function a4(e,t){if(e==null)throw new Error(t??"value is None")}function He(e){return e==null||e.destroy(),null}function Gue(e){return e==null||e.dispose(),null}function Ke(e){return e==null||e.remove(),null}function Il(e){return e==null||e.abort(),null}function Wue(e){return e==null||e.release(),null}function Bue(e,t,r){return e!=null&&t!=null?r!=null?r(e,t):e.equals(t):e===t}function pg(e,t){let r;return e.some((n,i)=>(r=t(n,i),r!=null)),r??void 0}const l4=Symbol("Accessor-beforeDestroy"),t7={remove:()=>{}};function ke(e){return e?{remove(){e&&(e(),e=void 0)}}:t7}function r7(e){e.forEach(t=>t==null?void 0:t.remove())}function qp(e){return ke(()=>r7(e))}function Yo(e){return e.__accessor__??null}function n7(e,t){var r;return((r=e==null?void 0:e.metadata)==null?void 0:r[t])!=null}function Wm(e,t,r){return r?fg(e,t,{policy:r,path:""}):fg(e,t,null)}function fg(e,t,r){return t?Object.keys(t).reduce((n,i)=>{const s=i;let o=null,a="merge";if(r&&(o=r.path?`${r.path}.${i}`:i,a=r.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(n[s]))return n[s]=t[s],n;if(n[s]===void 0)return n[s]=L(t[s]),n;let l=n[s],d=t[s];if(l===d)return n;if(Array.isArray(d)||Array.isArray(n))l=l?Array.isArray(l)?n[s]=l.concat():n[s]=[l]:n[s]=[],d&&(Array.isArray(d)||(d=[d]),d.forEach(p=>{l.includes(p)||l.push(p)}));else if(d&&typeof d=="object")if(r){const p=r.path;r.path=o,n[s]=fg(l,d,r),r.path=p}else n[s]=fg(l,d,null);else n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[s]=d);return n},e||{}):e}function u4(e){return Array.isArray(e)?e:e.split(".")}function t3(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function i7(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...t3(r));return t}return t3(e)}function c4(e,t,r,n){const i=i7(t);if(i.length!==1){const s=i.map(o=>n(e,o,r));return qp(s)}return n(e,i[0],r)}function d4(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const i=parseInt(r,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.at(i)}const n=Yo(t);return n7(n,r)?n.get(r):t[r]}function h4(e,t,r){if(e==null)return e;const n=d4(t[r],e);return!n&&r<t.length-1?void 0:r===t.length-1?n:h4(n,t,r+1)}function Zp(e,t,r=0){return typeof t!="string"||t.includes(".")?h4(e,u4(t),r):d4(t,e)}function Oi(e,t){return Zp(e,t)}function r3(e,t){return Zp(t,e)!==void 0}var $r;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})($r||($r={}));function Jp(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const n in t)t[n]=L(t[n]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function W0(e,t){const r=Jp(e);let n=r[t];return n||(n=r[t]={}),n}function s7(e,t){return Wm(e,t,a7)}const o7=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function a7(e){return o7.test(e)?"replace":"merge"}function l7(e){return(e==null?void 0:e.release)&&typeof e.release=="function"}function u7(e){return(e==null?void 0:e.acquire)&&typeof e.acquire=="function"}let Kl=class w_{constructor(t,r,n,i=1,s=0){if(this._ctor=t,this._acquireFunction=r,this._releaseFunction=n,this.allocationSize=i,this._pool=new Array(s),this._initialSize=s,this._ctor)for(let o=0;o<s;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(i,1)}destroy(){this.prune(0)}acquire(...t){let r;if(w_.test.disabled)r=new this._ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let i=0;i<n;i++)this._pool[i]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):u7(r)&&r.acquire(...t),r}release(t){t&&!w_.test.disabled&&(this._releaseFunction?this._releaseFunction(t):l7(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const n=this._pool[r];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};Kl.test={disabled:!1};let c7=class{constructor(t,r){this._observers=t,this._observer=r}remove(){zj(this._observers,this._observer)}},p4=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return d7;this._observers==null&&(this._observers=[]);const r=this._observers;let n=!1,i=!1;const s=r.length;for(let o=0;o<s;++o){const a=r[o];if(a.destroyed)i=!0;else if(a===t){n=!0;break}}return n||(r.push(t),i&&this._removeDestroyedObservers()),new c7(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let n=0;for(let i=0;i<r;++i){for(;i+n<r&&t[i+n].destroyed;)++n;if(n>0){if(!(i+n<r))break;t[i]=t[i+n]}}t.length=r-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const d7=ke();var _e;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(_e||(_e={}));const Zue=_e.USER+1;function f4(e){switch(e){case"defaults":return _e.DEFAULTS;case"service":return _e.SERVICE;case"portal-item":return _e.PORTAL_ITEM;case"web-scene":return _e.WEB_SCENE;case"web-map":return _e.WEB_MAP;case"link-chart":return _e.LINK_CHART;case"user":return _e.USER;default:return null}}function __(e){switch(e){case _e.DEFAULTS:return"defaults";case _e.SERVICE:return"service";case _e.PORTAL_ITEM:return"portal-item";case _e.WEB_SCENE:return"web-scene";case _e.WEB_MAP:return"web-map";case _e.LINK_CHART:return"link-chart";case _e.USER:return"user"}}function h7(e){return __(e)}var Pe;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(Pe||(Pe={}));const mg={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},jd=[];let Lh=mg;function K(e){Lh.onObservableAccessed(e)}let Bm=!1,Hm=!1;function ks(e,t,r){if(Bm)return M$(e,t,r);m4(e);const n=t.call(r);return y4(),n}function p7(e,t){return ks(mg,e,t)}function M$(e,t,r){const n=Bm;Bm=!0,m4(e);let i=null;try{i=t.call(r)}catch(s){Hm&&z.getLogger("esri.core.accessorSupport.tracking").error(s)}return y4(),Bm=n,i}function m4(e){Lh=e,jd.push(e)}function y4(){const e=jd.length;if(e>1){const t=jd.pop();Lh=jd[e-2],t.onTrackingEnd()}else if(e===1){const t=jd.pop();Lh=mg,t.onTrackingEnd()}else Lh=mg}function g4(e,t){if(t.flags&Pe.DepTrackingInitialized)return;const r=Hm;Hm=!1,t.flags&Pe.AutoTracked?M$(t,t.metadata.get,e):v4(e,t),Hm=r}const f7=[];function v4(e,t){t.flags&Pe.ExplicitlyTracking||(t.flags|=Pe.ExplicitlyTracking,M$(t,()=>{const r=t.metadata.dependsOn||f7;for(const n of r)if(typeof n!="string"||n.includes(".")){const i=u4(n);for(let s=0,o=e;s<i.length&&o!=null&&typeof o=="object";++s)o=n3(o,i[s],s!==i.length-1)}else n3(e,n,!1)}),t.flags&=~Pe.ExplicitlyTracking)}function n3(e,t,r){const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(n,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const i=Yo(e);if(i){const s=i.propertiesByName.get(n);s&&(K(s),g4(e,s))}return r?e[n]:void 0}let i3=class extends p4{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this._accessed=null,this._handles=null,this.flags=0,this.flags=Pe.Dirty|(r.nonNullable?Pe.NonNullable:0)|(r.hasOwnProperty("value")?Pe.HasDefaultValue:0)|(r.get===void 0?Pe.DepTrackingInitialized:0)|(r.dependsOn===void 0?Pe.AutoTracked:0)}destroy(){this.flags&Pe.Dirty&&this.onCommitted(),super.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(t){K(this);const r=t.store,n=this.propertyName,i=this.flags,s=r.get(n);if(i&Pe.Computing||~i&Pe.Dirty&&r.has(n))return s;this.flags|=Pe.Computing;const o=t.host;let a;i&Pe.AutoTracked?a=ks(this,this.metadata.get,o):(v4(o,this),a=this.metadata.get.call(o)),r.set(n,a,_e.COMPUTED);const l=r.get(n);return l===s?this.flags&=~Pe.Dirty:p7(this.commit,this),this.flags&=~Pe.Computing,l}onObservableAccessed(t){t!==this&&(this._accessed??(this._accessed=new Set),this._accessed.add(t))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=Pe.DepTrackingInitialized,this._accessed!=null&&(this._handles??(this._handles=[]),this._accessed.forEach(t=>{this._handles.push(t.observe(this))}),this._accessed.clear())}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~Pe.Dirty,this.onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}onInvalidated(){~this.flags&Pe.Overridden&&(this.flags|=Pe.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onCommitted()}}},m7=class w4{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new w4;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,L(n))}),r}get(t){return this._values.get(t)}originOf(){return _e.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function Vf(e,t,r){return e!==void 0}function s3(e,t,r,n){return e!==void 0&&(!(r==null&&e.flags&Pe.NonNullable)||(n.lifecycle,$r.INITIALIZING,!1))}let y7=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=$r.INITIALIZING,this.store=new m7,this._origin=_e.USER;const r=this.host.constructor.__accessorMetadata__;for(const n in r){const i=new i3(n,r[n]);this.propertiesByName.set(n,i)}this.metadata=r}initialize(){this.lifecycle=$r.CONSTRUCTING}constructed(){this.lifecycle=$r.CONSTRUCTED}destroy(){this.lifecycle=$r.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==$r.INITIALIZING}get(t){const r=this.propertiesByName.get(t);if(r.metadata.get)return r.getComputed(this);K(r);const n=this.store;return n.has(t)?n.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&Pe.HasDefaultValue)return"defaults"}return __(r)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const r=this.propertiesByName.get(t);if(Vf(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const n=this.propertiesByName.get(t);Vf(n)&&this._internalSet(n,r)}getDependsInfo(t,r,n){const i=this.propertiesByName.get(r);if(!Vf(i))return"";const s=new Set,o=ks({onObservableAccessed:l=>s.add(l),onTrackingEnd:()=>{}},()=>{var l;return(l=i.metadata.get)==null?void 0:l.call(t)});let a=`${n}${t.declaredClass.split(".").pop()}.${r}: ${o}
`;if(s.size===0)return a;n+="  ";for(const l of s)l instanceof i3&&(a+=`${n}${l.propertyName}: undefined
`);return a}setAtOrigin(t,r,n){const i=this.propertiesByName.get(t);if(Vf(i))return this._setAtOrigin(i,r,n)}isOverridden(t){const r=this.propertiesByName.get(t);return r!==void 0&&!!(r.flags&Pe.Overridden)}clearOverride(t){const r=this.propertiesByName.get(t);r&&r.flags&Pe.Overridden&&(r.flags&=~Pe.Overridden,r.notifyChange())}override(t,r){const n=this.propertiesByName.get(t);if(!s3(n,t,r,this))return;const i=n.metadata.cast;if(i){const s=this._cast(i,r),{valid:o,value:a}=s;if(g1.release(s),!o)return;r=a}n.flags|=Pe.Overridden,this._internalSet(n,r)}set(t,r){const n=this.propertiesByName.get(t);if(!s3(n,t,r,this))return;const i=n.metadata.cast;if(i){const o=this._cast(i,r),{valid:a,value:l}=o;if(g1.release(o),!a)return;r=l}const s=n.metadata.set;s?s.call(this.host,r):this._internalSet(n,r)}setDefaultOrigin(t){this._origin=f4(t)}getDefaultOrigin(){return __(this._origin)}notifyChange(t){const r=this.propertiesByName.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.propertiesByName.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.propertiesByName.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const n=this.lifecycle!==$r.INITIALIZING?this._origin:_e.DEFAULTS;this._setAtOrigin(t,r,n)}_setAtOrigin(t,r,n){const i=this.store,s=t.propertyName;i.has(s,n)&&x$(r,i.get(s))&&~t.flags&Pe.Overridden&&n===i.originOf(s)||(t.invalidate(),i.set(s,r,n),t.commit(),g4(this.host,t))}_cast(t,r){const n=g1.acquire();return n.valid=!0,n.value=r,t&&(n.value=t.call(this.host,r,n)),n}},g7=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const g1=new Kl(g7);function v7(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(r,n)=>n===""?"$":(Hp(n,t)??"").toString())}let _4=class{constructor(t,r,n=void 0){this.name=t,this.details=n,this.message=(r&&v7(r,n))??""}toString(){return"["+this.name+"]: "+this.message}},j=class b4 extends _4{constructor(t,r,n){super(t,r,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return L(r)}catch{return"[object]"}}))}}catch(t){throw z.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new b4(t.name,t.message,t.details)}};j.prototype.type="error";function yg(e,t,r){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))yg(e,n,t[n]);else{if(t.includes(".")){const i=t.split("."),s=i.splice(-1,1)[0];return void yg(Oi(e,i),s,r)}const n=e.__accessor__;n!=null&&w7(t,n),e[t]=r}}function w7(e,t){if(I("esri-unknown-property-errors")&&!_7(e,t))throw new j("set:unknown-property",b7(e,t))}function _7(e,t){return t.metadata[e]!=null}function b7(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let S7;function $7(){return S7}var o3;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(o3||(o3={}));function x7(e){e.length=0}let fr=class{constructor(t=50,r=50){this._pool=new Kl(Array,void 0,x7,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return v1.acquire()}static release(t){return v1.release(t)}static prune(){v1.prune()}};const v1=new fr(100);let S4=class extends Kl{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const Gf=[];function gg(e){Gf.push(e),Gf.length===1&&queueMicrotask(()=>{const t=Gf.slice();Gf.length=0;for(const r of t)r()})}let $4=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}record(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var b_;(function(e){const t=(s,o,a,l)=>{let d=o,p=o;const f=a>>>1,m=s[d-1];for(;p<=f;){p=d<<1,p<a&&l(s[p-1],s[p])<0&&++p;const y=s[p-1];if(l(y,m)<=0)break;s[d-1]=y,d=p}s[d-1]=m},r=(s,o)=>s<o?-1:s>o?1:0;function n(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=r);for(let p=a>>>1;p>o;p--)t(s,p,a,l);const d=o+1;for(let p=a-1;p>o;p--){const f=s[o];s[o]=s[p],s[p]=f,t(s,d,p,l)}}function*i(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=r);for(let p=a>>>1;p>o;p--)t(s,p,a,l),yield;const d=o+1;for(let p=a-1;p>o;p--){const f=s[o];s[o]=s[p],s[p]=f,t(s,d,p,l),yield}}e.sort=n,e.iterableSort=i})(b_||(b_={}));const a3=b_,T7=1.5,M7=1.1;let x4=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new WI,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>l3(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let n=0;n<this._length;n++){const i=this.data[n];t(i)&&r.push(i)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){const n=this.data.indexOf(t,r);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let n=0;n<r;n++)this.data[this._length++]=t[n]}fill(t,r){for(let n=0;n<r;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,l3(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=g_(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(g_(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,n){this.length=jj(this.data,t,this.length,r,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const n=this.data[t];this.data[t]=this.data[r],this.data[r]=n}sort(t){a3.sort(this.data,0,this.length,t)}iterableSort(t){return a3.iterableSort(this.data,0,this.length,t)}some(t,r){for(let n=0;n<this.length;++n)if(t.call(r,this.data[n],n,this.data))return!0;return!1}find(t,r){for(let n=0;n<this.length;++n){const i=this.data[n];if(t.call(r,i,n))return i}}filterInPlace(t,r){let n=0;for(let i=0;i<this._length;++i){const s=this.data[i];t.call(r,s,i,this.data)&&(this.data[i]=this.data[n],this.data[n]=s,n++)}if(this._deallocator)for(let i=n;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=n,this._shrink(),this}forAll(t,r){const{data:n,length:i}=this;for(let s=0;s<i;++s)t.call(r,n[s],s,n)}forEach(t,r){this.data.slice(0,this.length).forEach(t,r)}map(t,r){const n=new Array(this.length);for(let i=0;i<this.length;++i)n[i]=t.call(r,this.data[i],i,this.data);return n}reduce(t,r){let n=r;for(let i=0;i<this.length;++i)n=t(n,this.data[i],i,this.data);return n}has(t){const r=this.length,n=this.data;for(let i=0;i<r;++i)if(n[i]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function l3(e){e.data.length>T7*e.length&&(e.data.length=Math.floor(e.length*M7))}function E7(e){return{setTimeout:(t,r)=>{const n=e.setTimeout(t,r);return ke(()=>e.clearTimeout(n))}}}const Qc=E7(globalThis);function B0(e){return k7(e)||T4(e)}function k7(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function T4(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function Kp(e,t,r){if(!B0(e))throw new TypeError("target is not a Evented or EventTarget object");return T4(e)?P7(e,t,r):e.on(t,r)}function P7(e,t,r,n){if(Array.isArray(t)){const i=t.slice();for(const s of i)e.addEventListener(s,r,n);return ke(()=>{for(const s of i)e.removeEventListener(s,r,n)})}return e.addEventListener(t,r,n),ke(()=>e.removeEventListener(t,r,n))}function M4(e,t,r){if(!B0(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const n=Kp(e,t,i=>{n.remove(),r.call(e,i)});return n}function mt(e="Aborted"){return new j("AbortError",e)}function lt(e,t="Aborted"){if(Ps(e))throw mt(t)}function H0(e){return e instanceof AbortSignal?e:e==null?void 0:e.signal}function Ps(e){const t=H0(e);return t!=null&&t.aborted}function E4(e){if(Mn(e))throw e}function u3(e){if(!Mn(e))throw e}function _n(e,t){const r=H0(e);if(r!=null){if(!r.aborted)return M4(r,"abort",()=>t());t()}}function E$(e,t){const r=H0(e);if(r!=null)return lt(r),M4(r,"abort",()=>t(mt()))}function C7(e,t){return H0(t)==null?e:new Promise((r,n)=>{let i=_n(t,()=>n(mt()));const s=()=>{i=Ke(i)};e.then(s,s),e.then(r,n)})}function Mn(e){return(e==null?void 0:e.name)==="AbortError"}async function c3(e){try{return await e}catch(t){if(!Mn(t))throw t;return}}async function pl(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),n=r.map(o=>e[o]),i=await pl(n),s={};return r.map((o,a)=>s[o]=i[a]),s}const t=e;return Promise.allSettled(t).then(r=>Array.from(t,(n,i)=>{const s=r[i];return s.status==="fulfilled"?{promise:n,value:s.value}:{promise:n,error:s.reason}}))}async function O7(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function nce(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function k$(e,t=void 0,r){const n=new AbortController;return _n(r,()=>n.abort()),new Promise((i,s)=>{let o=setTimeout(()=>{o=0,i(t)},e);_n(n,()=>{o&&(clearTimeout(o),s(mt()))})})}function I7(e,t){const r=new AbortController,n=setTimeout(()=>r.abort(),t);return _n(e,()=>{r.abort(),clearTimeout(n)}),{...e,signal:r.signal}}function ha(e){return e&&typeof e.then=="function"}function d3(e){return ha(e)?e:Promise.resolve(e)}function A7(e,t=-1){let r,n,i,s,o=null;const a=(...l)=>{if(r){n=l,s&&s.reject(mt()),s=Tn();const m=s.promise;if(o){const y=o;o=null,y.abort()}return m}if(i=s||Tn(),s=null,t>0){const m=new AbortController;r=d3(e(...l,m.signal));const y=r;k$(t).then(()=>{r===y&&(s?m.abort():o=m)})}else r=1,r=d3(e(...l));const d=()=>{const m=n;n=i=r=o=null,m!=null&&a(...m)},p=r,f=i;return p.then(d,d),p.then(f.resolve,f.reject),f.promise};return a}function Tn(){let e,t;const r=new Promise((i,s)=>{e=i,t=s}),n=i=>{e(i)};return n.resolve=i=>e(i),n.reject=i=>t(i),n.timeout=(i,s)=>Qc.setTimeout(()=>n.reject(s),i),n.promise=r,n}async function h3(e){await Promise.resolve(),lt(e)}function ice(e){return e}function R7(e){return 1e3*e}function sce(e){return e}let L7=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},N7=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},S_=0;const yd={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},$_=["prepare","preRender","render","postRender","update","finish"],x_=[],Al=new x4;let D7=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};function F7(){_l!=null&&(cancelAnimationFrame(_l),_l=requestAnimationFrame(P$))}const vg={frameTasks:Al,willDispatch:!1,clearFrameTasks:j7,dispatch:P4,executeFrameTasks:z7,reschedule:F7};function Yp(e){const t=new N7(e);return x_.push(t),vg.willDispatch||(vg.willDispatch=!0,gg(P4)),t}function Ac(e){const t=new L7(e);return Al.push(t),_l==null&&(S_=performance.now(),_l=requestAnimationFrame(P$)),new D7(t)}let _l=null;function j7(e=!1){Al.forAll(t=>{t.removed=!0}),e&&k4()}function P$(){const e=performance.now();_l=null,_l=Al.length>0?requestAnimationFrame(P$):null,vg.executeFrameTasks(e)}function z7(e){const t=e-S_;S_=e;const r=1e3/60,n=Math.max(0,t-r);yd.time=e,yd.frameDuration=r-n;for(let i=0;i<$_.length;i++){const s=performance.now(),o=$_[i];Al.forAll(a=>{var l;a.paused||a.removed||(i===0&&a.ticks++,a.phases[o]&&(yd.elapsedFrameTime=performance.now()-e,yd.deltaTime=a.ticks===0?0:t,(l=a.phases[o])==null||l.call(a,yd)))}),U7[i].record(performance.now()-s)}k4(),V7.record(performance.now()-e)}const Wf=new x4;function k4(){Al.forAll(e=>{e.removed&&Wf.push(e)}),Al.removeUnorderedMany(Wf.data,Wf.length),Wf.clear()}function P4(){for(;x_.length;){const e=x_.shift();e.isActive&&e.callback()}vg.willDispatch=!1}function uce(e=1,t){const r=Tn(),n=()=>{Ps(t)?r.reject(mt()):e===0?r():(--e,gg(()=>n()))};return n(),r.promise}const U7=$_.map(e=>new $4(e)),V7=new $4("total");function G7(e,t){for(const r of e.entries())if(t(r[0]))return!0;return!1}function p3(e,t){if(!t)return e;for(const r of t)r!=null&&e.add(r);return e}function cce(e,t){return t!=null&&e.add(t),e}function C4(e,t){const r=new Set;return p3(r,e),p3(r,t),r}function W7(e,t){const r=new Set;for(const n of t)e.has(n)&&r.add(n);return r}function dce(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function hce(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function B7(e,t){const r=new Set(e);for(const n of t)r.delete(n);return r}function H7(e,t){return B7(C4(e,t),W7(e,t))}let q7=0;function Nh(){return++q7}let q0=class{constructor(t){this._accessed=new Set,this._handles=[],this._observerObject=new Z7(t),f3.register(this,new WeakRef(this._observerObject),this)}destroy(){var t;f3.unregister(this._observerObject),this._accessed.clear(),(t=this._observerObject)==null||t.destroy(),this.clear()}onObservableAccessed(t){this._accessed.add(t)}onTrackingEnd(){const t=this._handles,r=this._observerObject;this._accessed.forEach(n=>{t.push(n.observe(r))}),this._accessed.clear()}clear(){const t=this._handles;for(let r=0;r<t.length;++r)t[r].remove();t.length=0}},Z7=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=J7}};const f3=new FinalizationRegistry(e=>{var t;(t=e.deref())==null||t.destroy()});function J7(){}let dc=!1;const wg=[];function O4(e,t){let r=new q0(s),n=null,i=!1;function s(){if(!r||i)return;if(dc)return void A4(s);const a=n;r.clear(),dc=!0,i=!0,n=ks(r,e),i=!1,dc=!1,t(n,a),R4()}function o(){r&&(r.destroy(),r=null,n=null)}return i=!0,n=ks(r,e),i=!1,ke(o)}function I4(e,t){let r=new q0(i),n=null;function i(){t(n,o)}function s(){r&&(r.destroy(),r=null),n=null}function o(){return r?(r.clear(),n=ks(r,e),n):null}return o(),ke(s)}function K7(e){let t=new q0(n),r=!1;function n(){t&&!r&&(dc?A4(n):(t.clear(),dc=!0,r=!0,ks(t,e),r=!1,dc=!1,R4()))}function i(){t&&(t.destroy(),t=null)}return r=!0,ks(t,e),r=!1,ke(i)}function A4(e){wg.includes(e)||wg.unshift(e)}function R4(){for(;wg.length;)wg.pop()()}var Dh;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(Dh||(Dh={}));let gp=class{constructor(){this.uid=Nh(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,n,i,s){return this.pool.acquire(Dh.Untracked,t,r,n,i,s,x$)}static acquireTracked(t,r,n,i){return this.pool.acquire(Dh.Tracked,t,r,n,null,null,i)}notify(t,r){this.type===Dh.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,n,i,s,o,a){this.uid=Nh(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=n,this.getValue=i,this.target=s,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Nh(),this.removed=!0}};gp.pool=new S4(gp);const qm=new fr,bs=new Set;let _g;function bg(e){bs.delete(e),bs.add(e),_g||(_g=Yp(X7))}function Y7(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function Q7(e){for(const t of bs.values())t.target===e&&(t.removed=!0)}function X7(){let e=10;for(;_g&&e--;){_g=null;const t=ez(),r=qm.acquire();for(const n of t){const i=n.uid;Y7(n),i===n.uid&&n.removed&&r.push(n)}for(const n of bs)n.removed&&(r.push(n),bs.delete(n));for(const n of r)gp.pool.release(n);qm.release(r),qm.release(t),T_.forEach(n=>n())}}function ez(){const e=qm.acquire();e.length=bs.size;let t=0;for(const r of bs)e[t]=r,++t;return bs.clear(),e}const T_=new Set;function tz(e){return T_.add(e),ke(()=>T_.delete(e))}function rz(e,t,r){let n=c4(e,t,r,(i,s,o)=>{let a,l,d=I4(()=>Zp(i,s),(p,f)=>{var m;((m=i.__accessor__)==null?void 0:m.lifecycle)===$r.DESTROYED||a&&a.uid!==l?n.remove():(a||(a=gp.acquireUntracked(p,o,f,i,s),l=a.uid),bg(a))});return ke(()=>{d.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,bg(a)),a=null),n=d=null})});return n}function nz(e,t,r){const n=c4(e,t,r,(i,s,o)=>{let a=!1;return O4(()=>Zp(i,s),(l,d)=>{i.__accessor__.lifecycle!==$r.DESTROYED?a||(a=!0,x$(d,l)||o.call(i,l,d,s,i),a=!1):n.remove()})});return n}function iz(e,t,r,n=!1){return e.__accessor__&&e.__accessor__.lifecycle!==$r.DESTROYED?n?nz(e,t,r):rz(e,t,r):ke()}function sz(e,t,r){let n,i,s=I4(e,(o,a)=>{n&&n.uid!==i?s.remove():(n||(n=gp.acquireTracked(o,t,a,r),i=n.uid),bg(n))});return ke(()=>{s.remove(),n&&(n.uid!==i||n.removed||(n.removed=!0,bg(n)),n=null),s=null})}function oz(e,t,r){let n=!1;return O4(e,(i,s)=>{n||(n=!0,r(s,i)||t(i,s),n=!1)})}function az(e,t,r=!1,n=n4){return r?oz(e,t,n):sz(e,t,n)}function m3(e){return G7(bs,t=>t.oldValue===e)}function Z0(e,t){for(const[r,n]of e)if(t(n,r))return!0;return!1}function L4(e,t,r){const n=e.get(t);if(n!==void 0)return n;const i=r();return e.set(t,i),i}function yce(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}const hc=()=>z.getLogger("esri.core.accessorSupport.ensureTypes");function lz(e){return e==null?e:new Date(e)}function uz(e){return e==null?e:!!e}function cz(e){return e==null?e:e.toString()}function Hn(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function C$(e){return e==null?e:Math.round(parseFloat(e))}function dz(e){return null}function N4(e){return(e==null?void 0:e.constructor)&&e.constructor.__accessorMetadata__!==void 0}function Sg(e,t){return t!=null&&e&&!(t instanceof e)}function D4(e){return e&&"isCollection"in e}function y3(e){return e!=null&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function hz(e,t){if(!(t!=null&&t.constructor)||!D4(t.constructor))return M_(e,t)?t:new e(t);const r=y3(e.prototype.itemType),n=y3(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(M_(e,t),t):new e(t):t}function M_(e,t){return!!N4(t)&&(hc().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+K0(e)+"'"),!0)}function J0(e,t){return t==null?t:D4(e)?hz(e,t):Sg(e,t)?M_(e,t)?t:new e(t):t}function K0(e){var t;return((t=e==null?void 0:e.prototype)==null?void 0:t.declaredClass)||"unknown"}const pz=new WeakMap;function fz(e){switch(e){case Number:return Hn;case Qe:return C$;case Boolean:return uz;case String:return cz;case Date:return lz;case O$:return dz;default:return L4(pz,e,()=>J0.bind(null,e))}}function Mt(e,t){const r=fz(e);return arguments.length===1?r:r(t)}function vp(e,t,r){return arguments.length===1?vp.bind(null,e):t&&(Array.isArray(t)?t.map(n=>e(n,r)):[e(t,r)])}function mz(e,t){return arguments.length===1?vp(r=>Mt(e,r)):vp(r=>Mt(e,r),t)}function F4(e,t,r){return t!==0&&Array.isArray(r)?r.map(n=>F4(e,t-1,n)):e(r)}function $g(e,t,r){if(arguments.length===2)return s=>$g(e,t,s);if(!r)return r;r=F4(e,t,r);let n=t,i=r;for(;n>0&&Array.isArray(i);)n--,i=i[0];if(i!==void 0)for(let s=0;s<n;s++)r=[r];return r}function yz(e,t,r){return arguments.length===2?$g(n=>Mt(e,n),t):$g(n=>Mt(e,n),t,r)}function j4(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function E_(e,t){if(arguments.length===2)return E_(e).call(null,t);const r=new Set,n=e.filter(a=>typeof a!="function"),i=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||r.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const d=typeof a,p=d==="string"||d==="number";return p&&(r.has(a)||i.some(f=>d==="string"&&f===String||d==="number"&&f===Number))||d==="object"&&i.some(f=>!Sg(a,f))?a:(p&&n.length?(s||(s=n.map(f=>typeof f=="string"?`'${f}'`:`${f}`).join(", ")),hc().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&i.length?(o||(o=i.map(f=>K0(f)).join(", ")),hc().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):hc().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Cs(e,t){if(arguments.length===2)return Cs(e).call(null,t);const r={},n=[],i=[];for(const l in e.typeMap){const d=e.typeMap[l];r[l]=Mt(d),n.push(K0(d)),i.push(l)}const s=()=>`'${n.join("', '")}'`,o=()=>`'${i.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!Sg(e.base,l)||l==null)return l;const d=a(l)||e.defaultKeyValue,p=r[d];if(!p)return hc().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!Sg(e.typeMap[d],l))return l;if(typeof e.key=="string"&&!N4(l)){const f={};for(const m in l)m!==e.key&&(f[m]=l[m]);return p(f)}return p(l)}}let Qe=class{},O$=class{};const wce={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function gz(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function z4(e){switch(e.type){case"native":return Mt(e.value);case"array":return vp(z4(e.value));case"one-of":return vz(e);default:return null}}function vz(e){let t=null;return(r,n)=>P_(r,e)?r:(t==null&&(t=k_(e)),hc().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function k_(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Qe:return"integer";case Date:return"date";case O$:return"null";default:return K0(e.value)}case"array":return`array of ${k_(e.value)}`;case"one-of":{const t=e.values.map(r=>k_(r));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function P_(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Qe:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case O$:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!P_(r,t.value));case"one-of":return t.values.some(r=>P_(e,r))}}function h(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,r),i=W0(t,r);n&&(n.get||n.set?(i.get=n.get||i.get,i.set=n.set||i.set):"value"in n&&("value"in e&&z.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=n.value)),e.readOnly!=null&&(i.readOnly=e.readOnly);const s=e.aliasOf;if(s){const l=typeof s=="string"?s:s.source,d=typeof s=="string"?null:s.overridable===!0;let p;i.dependsOn=[l],i.get=function(){let f=Oi(this,l);if(typeof f=="function"){p||(p=l.split(".").slice(0,-1).join("."));const m=Oi(this,p);m&&(f=f.bind(m))}return f},i.readOnly||(i.set=d?function(f){this._override(r,f)}:function(f){yg(this,l,f)})}const o=e.type,a=e.types;i.cast||(o?i.cast=wz(o):a&&(Array.isArray(a)?i.cast=vp(Cs(a[0])):i.cast=Cs(a))),s7(i,e),e.range&&(i.cast=_z(i.cast,e.range))}}function U4(e,t,r){const n=W0(e,r);n.json||(n.json={});let i=n.json;return t!==void 0&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function wz(e){let t=0,r=e;if(gz(e))return z4(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const n=r;if(j4(n))return t===0?E_(n):$g(E_(n),t);if(t===1)return mz(n);if(t>1)return yz(n,t);const i=e;return i.from?i.from:Mt(i)}function _z(e,t){return r=>{let n=+e(r);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}function bz(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const n in r)if(t[n]){const i=t[n];r[n].forEach(s=>{t[s]=i}),delete t[n]}}}let Os=class extends _4{constructor(t,r,n){super(t,r,n)}};Os.prototype.type="warning";function V4(e){var t;return!!e&&((t=e.prototype)==null?void 0:t.declaredClass)&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const C_=()=>z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function g3(e,t,r){var n,i;e&&(!r&&!t.read||(n=t.read)!=null&&n.reader||((i=t.read)==null?void 0:i.enabled)===!1||xz(e)&&Yc("read.reader",I$(e),t))}function I$(e){var r,n;const t=e.ndimArray??0;if(t>1)return $z(e);if(t===1)return v3(e);if("type"in e&&W4(e.type)){const i=(n=(r=e.type.prototype)==null?void 0:r.itemType)==null?void 0:n.Type,s=v3(typeof i=="function"?{type:i}:{types:i});return(o,a,l)=>{const d=s(o,a,l);return d&&new e.type(d)}}return A$(e)}function A$(e){return"type"in e?Sz(e.type):Tz(e.types)}function Sz(e){return e.prototype.read?(t,r,n)=>{if(t==null)return t;const i=typeof t;if(i!=="object")return void C_().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const s=new e;return s.read(t,n),s}:e.fromJSON}function G4(e,t,r,n){return n!==0&&Array.isArray(t)?t.map(i=>G4(e,i,r,n-1)):e(t,void 0,r)}function $z(e){const t=A$(e),r=G4.bind(null,t),n=e.ndimArray??0;return(i,s,o)=>{if(i==null)return i;i=r(i,o,n);let a=n,l=i;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let d=0;d<a;d++)i=[i];return i}}function v3(e){const t=A$(e);return(r,n,i)=>{if(r==null)return r;if(Array.isArray(r)){const o=[];for(const a of r){const l=t(a,void 0,i);l!==void 0&&o.push(l)}return o}const s=t(r,void 0,i);return s!==void 0?[s]:void 0}}function W4(e){if(!V4(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?R$(t.Type):B4(t.Type))}function xz(e){return"types"in e?B4(e.types):R$(e.type)}function R$(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||W4(e))}function B4(e){for(const t in e.typeMap)if(!R$(e.typeMap[t]))return!1;return!0}function Tz(e){let t=null;const r=e.errorContext??"type",n=e.validate;return(i,s,o)=>{if(i==null)return i;const a=typeof i;if(a!=="object")return void C_().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=Mz(e));const l=e.key;if(typeof l!="string")return;const d=i[l],p=d?t[d]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!p){const m=`Type '${d||"unknown"}' is not supported`;return o!=null&&o.messages&&i&&o.messages.push(new Os(`${r}:unsupported`,m,{definition:i,context:o})),void C_().error(m)}const f=new p;return f.read(i,o),n?n(f):f}}function Mz(e){var r,n;const t={};for(const i in e.typeMap){const s=e.typeMap[i],o=Jp(s.prototype);if(typeof e.key=="function")continue;const a=o[e.key];if(!a)continue;if((r=a.json)!=null&&r.type&&Array.isArray(a.json.type)&&a.json.type.length===1&&typeof a.json.type[0]=="string"){t[a.json.type[0]]=s;continue}const l=(n=a.json)==null?void 0:n.write;if(!(l!=null&&l.writer)){t[i]=s;continue}const d=l.target,p=typeof d=="string"?d:e.key,f={};l.writer(i,f,p),f[p]&&(t[f[p]]=s)}return t}function Ez(e){if(e.json||(e.json={}),_3(e.json),b3(e.json),w3(e.json),e.json.origins)for(const t in e.json.origins)_3(e.json.origins[t]),b3(e.json.origins[t]),w3(e.json.origins[t]);return!0}function w3(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function _3(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function b3(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function S3(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=(e==null?void 0:e.ndimArray)??0;e&&(r===1||"type"in e&&V4(e.type))?t.write.writer=Cz:r>1?t.write.writer=Oz(r):t.types?Array.isArray(t.types)?t.write.writer=Pz(t.types[0]):t.write.writer=kz(t.types):t.write.writer=wp}function kz(e){return(t,r,n,i)=>t?H4(t,e,i)?wp(t,r,n,i):void 0:wp(t,r,n,i)}function H4(e,t,r){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(r!=null&&r.messages){const n=t.errorContext??"type",i=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new j(`${n}:unsupported`,i,{definition:e,context:r})),z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(i)}return!1}function Pz(e){return(t,r,n,i)=>!t||!Array.isArray(t)?wp(t,r,n,i):wp(t.filter(s=>H4(s,e,i)),r,n,i)}function wp(e,t,r,n){Yc(r,xg(e,n),t)}function xg(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?Tg(e):e}function Tg(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function Cz(e,t,r,n){let i;e===null?i=null:e&&typeof e.map=="function"?(i=e.map(s=>xg(s,n)),typeof i.toArray=="function"&&(i=i.toArray())):i=[xg(e,n)],Yc(r,i,t)}function q4(e,t,r){return r!==0&&Array.isArray(e)?e.map(n=>q4(n,t,r-1)):xg(e,t)}function Oz(e){return(t,r,n,i)=>{let s;if(t===null)s=null;else{s=q4(t,i,e);let o=e,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}Yc(n,s,r)}}function Iz(e,t){return L$(e,"any",t==null?void 0:t.origin)}function O_(e,t){return L$(e,"read",t==null?void 0:t.origin)}function Z4(e,t){return L$(e,"write",t==null?void 0:t.origin)}function L$(e,t,r){let n=e==null?void 0:e.json;if(n!=null&&n.origins&&r){let i;i=r==="link-chart"?n.origins[r]&&(t==="any"||t in n.origins[r])?n.origins[r]:n.origins["web-map"]:n.origins[r],i&&(t==="any"||t in i)&&(n=i)}return n}function Az(e){var r;const t=Rz(e);if(e.json.origins)for(const n in e.json.origins){const i=e.json.origins[n],s=i.types?Lz(i):t;g3(s,i,!1),i.types&&!i.write&&((r=e.json.write)!=null&&r.enabled)&&(i.write={...e.json.write}),S3(s,i)}g3(t,e.json,!0),S3(t,e.json)}function Rz(e){return e.json.types?I_(e.json):e.type?J4(e):I_(e)}function Lz(e){return e.type?J4(e):I_(e)}function J4(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!j4(r);)r=r[0],t++;return{type:r,ndimArray:t}}function I_(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function Nz(e){Ez(e)&&(bz(e),Az(e))}const w1=new Set,_1=new Set;function M(e){return t=>{e??(e="esri.core.Accessor"),t.prototype.declaredClass=e,Fz(t);const r=[],n=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!w1.has(i.initialize)&&(w1.add(i.initialize),r.push(i.initialize)),i.hasOwnProperty("destroy")&&!_1.has(i.destroy)&&(_1.add(i.destroy),n.push(i.destroy)),i=Object.getPrototypeOf(i);w1.clear(),_1.clear();const s=class extends t{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=r.length-1;l>=0;l--)r[l].call(this)}}),n.length){let l=!1;const d=this[l4];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,d.call(this);for(let p=0;p<n.length;p++)n[p].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=Jp(t.prototype),s.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function Dz(e,t){return t.get==null?function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n===void 0)return;K(n);const i=r.store;return i.has(e)?i.get(e):n.metadata.value}:function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n!==void 0)return n.getComputed(r)}}function Fz(e){const t=e.prototype,r=Jp(t),n={};for(const i of Object.getOwnPropertyNames(r)){const s=r[i];Nz(s),n[i]={enumerable:!0,configurable:!0,get:Dz(i,s),set(o){const a=this.__accessor__;if(a!==void 0){if(!Object.isFrozen(this))return a.initialized&&s.readOnly?$3("read-only",i):a.lifecycle===$r.CONSTRUCTED&&s.constructOnly?$3("construct-only",i):void a.set(i,o)}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,n)}const $3=(e,t)=>{z.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var K4,Y4;function jz(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return(t=e.constructor)!=null&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const ui=Symbol("Accessor-Handles"),A_=Symbol("Accessor-Initialized");let ee=class Q4{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:n,constructor:i}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,i&&i.apply(this,l)}}Jp(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...d){const p=this.inherited;let f;this.inherited=function(...m){if(s.prototype[a])return s.prototype[a].apply(this,m)};try{f=l.apply(this,d)}catch(m){throw this.inherited=p,m}return this.inherited=p,f}:t[a]}for(const a in r){const l=jz(r[a]);h(l)(o.prototype,a)}return M(n)(o)}constructor(...t){var n;if(this[K4]=null,this[Y4]=!1,this.constructor===Q4)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new y7(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&(r.ctorArgs=((n=this.normalizeCtorArgs)==null?void 0:n.apply(this,t))??t[0])}postscript(){const t=this.__accessor__,r=t.ctorArgs;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize(),this[A_]=!0}initialize(){}[l4](){this[ui]=He(this[ui])}destroy(){var t;this.destroyed||(Q7(this),this.__accessor__.destroy(),(t=$7())==null||t.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[A_]}get destroyed(){var t;return((t=this.__accessor__)==null?void 0:t.lifecycle)===$r.DESTROYED||!1}commitProperty(t){Oi(this,t)}get(t){return GI(z.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),Oi(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return yg(this,t,r),this}watch(t,r,n){return iz(this,t,r,n)}addHandles(t,r){if(this.destroyed){const n=Array.isArray(t)?t:[t];for(const i of n)i.remove();return}(this[ui]??(this[ui]=new Bp)).add(t,r)}removeHandles(t){var r;(r=this[ui])==null||r.remove(t)}removeAllHandles(){var t;(t=this[ui])==null||t.removeAll()}removeHandlesReference(t){var r;(r=this[ui])==null||r.removeReference(t)}hasHandles(t){var r;return((r=this[ui])==null?void 0:r.has(t))===!0}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}};K4=ui,Y4=A_;const Ui=e=>{let t=class extends e{clone(){var l;const r=Yo(this);a4(r,"unable to clone instance of non-accessor class");const n=r.metadata,i=r.store,s={},o=new Map;for(const d in n){const p=n[d],f=i==null?void 0:i.originOf(d),m=p.clonable;if(p.readOnly||m===!1||f!==_e.USER&&f!==_e.DEFAULTS&&f!==_e.WEB_MAP&&f!==_e.WEB_SCENE)continue;const y=this[d];let g=null;g=typeof m=="function"?m(y):m==="reference"?y:v_(y),y!=null&&g==null||(f===_e.DEFAULTS?o.set(d,g):s[d]=g)}const a=new(Object.getPrototypeOf(this)).constructor(s);if(o.size){const d=(l=Yo(a))==null?void 0:l.store;if(d)for(const[p,f]of o)d.set(p,f,_e.DEFAULTS)}return a}};return t=c([M("esri.core.Clonable")],t),t};let R_=class extends Ui(ee){};R_=c([M("esri.core.Clonable")],R_);let Oa=class extends R_{constructor(t){super(t),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(t){return t!=null&&this.row===t.row&&this.rows===t.rows&&this.column===t.column&&this.columns===t.columns}};c([h({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Oa.prototype,"row",void 0),c([h({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Oa.prototype,"column",void 0),c([h({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Oa.prototype,"rows",void 0),c([h({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Oa.prototype,"columns",void 0),Oa=c([M("esri.CameraLayout")],Oa);const X4=Oa;function pa(){return[0,0,0]}function zz(e){return[e[0],e[1],e[2]]}function Qp(e,t,r){return[e,t,r]}function Uz(e,t=pa()){const r=Math.min(3,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function Vz(e,t){return new Float64Array(e,t,3)}function eA(){return pa()}function tA(){return Qp(1,1,1)}function rA(){return Qp(1,0,0)}function nA(){return Qp(0,1,0)}function iA(){return Qp(0,0,1)}const Gz=eA(),Wz=tA(),Bz=rA(),Hz=nA(),qz=iA();Object.freeze(Object.defineProperty({__proto__:null,ONES:Wz,UNIT_X:Bz,UNIT_Y:Hz,UNIT_Z:qz,ZEROS:Gz,clone:zz,create:pa,createView:Vz,fromArray:Uz,fromValues:Qp,ones:tA,unitX:rA,unitY:nA,unitZ:iA,zeros:eA},Symbol.toStringTag,{value:"Module"}));let N$=1e-6;function Cr(){return N$}function Zz(e){N$=e}const D$=Math.random,Jz=Math.PI/180,Kz=180/Math.PI;function F$(e){return e*Jz}function Yz(e){return e*Kz}function Qz(e,t){return Math.abs(e-t)<=N$*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:D$,equals:Qz,getEpsilon:Cr,setEpsilon:Zz,toDegree:Yz,toRadian:F$},Symbol.toStringTag,{value:"Module"}));function j$(e){const t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function Xz(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function sA(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function eU(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function oA(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function aA(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function lA(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function tU(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function rU(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function nU(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function iU(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function sU(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function oU(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function aU(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function uA(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function lU(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function cA(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}function dA(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function hA(e){const t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function uU(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function cU(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function L_(e,t){const r=t[0],n=t[1],i=t[2];let s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function pA(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function dU(e,t,r){const n=t[0],i=t[1],s=t[2],o=r[0],a=r[1],l=r[2];return e[0]=i*l-s*a,e[1]=s*o-n*l,e[2]=n*a-i*o,e}function hU(e,t,r,n){const i=t[0],s=t[1],o=t[2];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=o+n*(r[2]-o),e}function pU(e,t,r,n,i,s){const o=s*s,a=o*(2*s-3)+1,l=o*(s-2)+s,d=o*(s-1),p=o*(3-2*s);return e[0]=t[0]*a+r[0]*l+n[0]*d+i[0]*p,e[1]=t[1]*a+r[1]*l+n[1]*d+i[1]*p,e[2]=t[2]*a+r[2]*l+n[2]*d+i[2]*p,e}function fU(e,t,r,n,i,s){const o=1-s,a=o*o,l=s*s,d=a*o,p=3*s*a,f=3*l*o,m=l*s;return e[0]=t[0]*d+r[0]*p+n[0]*f+i[0]*m,e[1]=t[1]*d+r[1]*p+n[1]*f+i[1]*m,e[2]=t[2]*d+r[2]*p+n[2]*f+i[2]*m,e}function mU(e,t){t=t||1;const r=D$,n=2*r()*Math.PI,i=2*r()-1,s=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=i*t,e}function yU(e,t,r){const n=t[0],i=t[1],s=t[2];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12],e[1]=r[1]*n+r[5]*i+r[9]*s+r[13],e[2]=r[2]*n+r[6]*i+r[10]*s+r[14],e}function gU(e,t,r){const n=t[0],i=t[1],s=t[2];return e[0]=n*r[0]+i*r[3]+s*r[6],e[1]=n*r[1]+i*r[4]+s*r[7],e[2]=n*r[2]+i*r[5]+s*r[8],e}function vU(e,t,r){const n=r[0],i=r[1],s=r[2],o=r[3],a=t[0],l=t[1],d=t[2],p=i*d-s*l,f=s*a-n*d,m=n*l-i*a,y=i*m-s*f,g=s*p-n*m,v=n*f-i*p,S=2*o;return e[0]=a+p*S+2*y,e[1]=l+f*S+2*g,e[2]=d+m*S+2*v,e}function wU(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[0],s[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),s[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function _U(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),s[1]=i[1],s[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function bU(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),s[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),s[2]=i[2],e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function SU(e,t){L_(x3,e),L_(T3,t);const r=pA(x3,T3);return r>1?0:r<-1?Math.PI:Math.acos(r)}const x3=pa(),T3=pa();function $U(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function xU(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function TU(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],s=t[0],o=t[1],a=t[2],l=Cr();return Math.abs(r-s)<=l*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-o)<=l*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=l*Math.max(1,Math.abs(i),Math.abs(a))}function MU(e,t,r){const n=r[0]-t[0],i=r[1]-t[1],s=r[2]-t[2];let o=n*n+i*i+s*s;return o>0?(o=1/Math.sqrt(o),e[0]=n*o,e[1]=i*o,e[2]=s*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}const EU=oA,kU=aA,PU=lA,CU=cA,OU=dA,IU=j$,AU=hA;Object.freeze(Object.defineProperty({__proto__:null,abs:nU,add:eU,angle:SU,bezier:fU,ceil:tU,copy:Xz,cross:dU,direction:MU,dist:CU,distance:cA,div:PU,divide:lA,dot:pA,equals:TU,exactEquals:xU,floor:rU,hermite:pU,inverse:cU,len:IU,length:j$,lerp:hU,max:oU,min:sU,mul:kU,multiply:aA,negate:uU,normalize:L_,random:mU,rotateX:wU,rotateY:_U,rotateZ:bU,round:aU,scale:uA,scaleAndAdd:lU,set:sA,sign:iU,sqrDist:OU,sqrLen:AU,squaredDistance:dA,squaredLength:hA,str:$U,sub:EU,subtract:oA,transformMat3:gU,transformMat4:yU,transformQuat:vU},Symbol.toStringTag,{value:"Module"}));const M3=new Float32Array(1);function $ce(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function Ri(e,t,r){return Math.min(Math.max(e,t),r)}function xce(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function zd(e,t,r){return e+(t-e)*r}function Tce(e,t,r,n,i){return zd(n,i,(e-t)/(r-t))}function Y0(e){return e*Math.PI/180}function fA(e){return 180*e/Math.PI}function Mce(e){return Math.acos(Ri(e,-1,1))}function mA(e){return Math.asin(Ri(e,-1,1))}function Fh(e,t,r=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=r}const Mg=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function N_(e){return Mg.setFloat64(0,e),Mg.getBigInt64(0)}function RU(e){return Mg.setBigInt64(0,e),Mg.getFloat64(0)}const Zm=BigInt("1000000"),LU=yA(1);function yA(e){const t=N_(e=Math.abs(e)),r=RU(t<=Zm?Zm:t-Zm);return Math.abs(e-r)}function Ece(e,t,r=LU){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(r!=null&&yA(Math.min(Math.abs(e),Math.abs(t)))<r)return Math.abs(e-t)<=r;const n=N_(e),i=N_(t);return n<0!=i<0?!1:!((n<i?i-n:n-i)>Zm)}function kce(e){return gA(Math.max(-E3,Math.min(e,E3)))}function gA(e){return M3[0]=e,M3[0]}function Pce(e,t){const r=j$(e),n=mA(e[2]/r),i=Math.atan2(e[1]/r,e[0]/r);return sA(t,r,n,i),t}function Cce(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],n=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(Fh(t,1)&&Fh(r,1)&&Fh(n,1))}const E3=gA(34028234663852886e22);let NU=class{constructor(t,r){this.min=t,this.max=r,this.range=r-t}normalize(t,r=0,n=!1){return k3(this.range,this.min,this.max,t,r,n)}clamp(t,r=0){return Ri(t-r,this.min,this.max)+r}monotonic(t,r,n){return t<r?r:r+D_(this.range,t-r,n)}minimalMonotonic(t,r,n){return k3(this.range,t,t+this.range,r,n)}center(t,r,n){return r=this.monotonic(t,r,n),this.normalize((t+r)/2,n)}diff(t,r,n){return this.monotonic(t,r,n)-t}shortestSignedDiff(t,r){t=this.normalize(t);const n=(r=this.normalize(r))-t,i=r<t?this.minimalMonotonic(t,r)-t:r-this.minimalMonotonic(r,t);return Math.abs(n)<Math.abs(i)?n:i}contains(t,r,n){return r=this.minimalMonotonic(t,r),(n=this.minimalMonotonic(t,n))>t&&n<r}};function k3(e,t,r,n,i=0,s=!1){return(n-=i)<t?n+=D_(e,t-n):n>r&&(n-=D_(e,n-r)),s&&n===r&&(n=t),n+i}function D_(e,t,r=0){return Math.ceil((t-r)/e)*e+r}const DU=new NU(0,360);let FU=class vA{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new vA;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,L(n.value),n.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const n=this._values.get(t);return r==null||(n==null?void 0:n.origin)===r?n==null?void 0:n.value:void 0}originOf(t){var r;return((r=this._values.get(t))==null?void 0:r.origin)??_e.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(n=>{var i;return((i=this._values.get(n))==null?void 0:i.origin)===t})}set(t,r,n){if((n=this._normalizeOrigin(n))===_e.DEFAULTS){const i=this._values.get(t);if((i==null?void 0:i.origin)!=null&&i.origin>n)return}this._values.set(t,new jU(r,n))}delete(t,r){var n;(r=this._normalizeOrigin(r))!=null&&((n=this._values.get(t))==null?void 0:n.origin)!==r||this._values.delete(t)}has(t,r){var n;return(r=this._normalizeOrigin(r))!=null?((n=this._values.get(t))==null?void 0:n.origin)===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},n)=>t(r,n))}_normalizeOrigin(t){if(t!=null)return t===_e.DEFAULTS?t:_e.USER}},jU=class{constructor(t,r){this.value=t,this.origin=r}};function zU(e,t,r){t.keys().forEach(i=>{r.set(i,t.get(i),_e.DEFAULTS)});const n=e.metadata;Object.keys(n).forEach(i=>{e.internalGet(i)&&r.set(i,e.internalGet(i),_e.DEFAULTS)})}function UU(e,t,r){if(!(e!=null&&e.read)||e.read.enabled===!1||!e.read.source)return!1;const n=e.read.source;if(typeof n=="string"){if(n===t||n.includes(".")&&n.indexOf(t)===0&&r3(n,r))return!0}else for(const i of n)if(i===t||i.includes(".")&&i.indexOf(t)===0&&r3(i,r))return!0;return!1}function VU(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function GU(e,t,r,n,i){let s=O_(t[r],i);VU(s)&&(e[r]=!0);for(const o of Object.getOwnPropertyNames(t))s=O_(t[o],i),UU(s,r,n)&&(e[o]=!0)}function WU(e,t,r,n){const i=r.metadata,s=Iz(i[t],n),o=s==null?void 0:s.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,n):o;a!==void 0&&r.set(t,a)}const wA={origin:"service"};function BU(e,t,r=wA){if(!t||typeof t!="object")return;const n=Yo(e),i=n.metadata,s={};for(const o of Object.getOwnPropertyNames(t))GU(s,i,o,t,r);n.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(s)){const a=O_(i[o],r).read,l=a==null?void 0:a.source;let d;d=l&&typeof l=="string"?Zp(t,l):t[o],a!=null&&a.reader&&(d=a.reader.call(e,d,t,r)),d!==void 0&&n.set(o,d)}if(!r||!r.ignoreDefaults){n.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(i))s[o]||WU(e,o,n,r)}n.setDefaultOrigin("user")}function Ace(e,t,r,n=wA){var s;const i={...n,messages:[]};r(i),(s=i.messages)==null||s.forEach(o=>{o.type!=="warning"||e.loaded?n!=null&&n.messages&&n.messages.push(o):e.loadWarnings.push(o)})}function HU(e,t,r,n,i){var o,a;const s={};return(a=(o=t.write)==null?void 0:o.writer)==null||a.call(e,n,s,r,i),s}function _A(e,t,r,n,i,s){if(!(n!=null&&n.write))return!1;const o=Oi(e,r);if(!i&&n.write.overridePolicy){const a=n.write.overridePolicy.call(e,o,r,s??void 0);a!==void 0&&(i=a)}if(i||(i=n.write),!i||i.enabled===!1||i.layerContainerTypes&&(s!=null&&s.layerContainerType)&&!i.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!i.allowNull&&!i.writerEnsuresNonNull||o===void 0)&&i.isRequired){const a=new j("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return a&&(s!=null&&s.messages)?s.messages.push(a):a&&!s&&z.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!i.allowNull&&!i.writerEnsuresNonNull||!i.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(r)===_e.DEFAULTS)&&qU(e,r,s,n,o)||!i.ignoreOrigin&&(s!=null&&s.origin)&&t.store.multipleOriginsSupported&&t.store.originOf(r)<f4(s.origin))}function qU(e,t,r,n,i){const s=n.default;if(s===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(i);if(typeof s=="function"){if(Array.isArray(i)){const o=s.call(e,t,r??void 0);return U0(o,i)}return!1}return s===i}function Rce(e,t,r,n){const i=Yo(e),s=i.metadata,o=Z4(s[t],n);return!!o&&_A(e,i,t,o,r,n)}function ZU(e,t,r){var s,o;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return Wm(t,e.toJSON(r));const n=Yo(e),i=n.metadata;for(const a in i){const l=Z4(i[a],r);if(!_A(e,n,a,l,void 0,r))continue;const d=Oi(e,a),p=HU(e,l,l.write&&typeof l.write.target=="string"?l.write.target:a,d,r);Object.keys(p).length>0&&(t=Wm(t,p),(o=(s=r==null?void 0:r.resources)==null?void 0:s.pendingOperations)!=null&&o.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>Wm(t,p,()=>"replace-arrays"))),r!=null&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:a,oldOrigin:h7(n.store.originOf(a)),newOrigin:r.origin}))}return t}const Xp=e=>{let t=class extends e{constructor(...r){super(...r);const n=Yo(this),i=n.store,s=new FU;n.store=s,zU(n,i,s)}read(r,n){BU(this,r,n)}write(r,n){return ZU(this,r??{},n)}toJSON(r){return this.write({},r)}static fromJSON(r,n){return JU.call(this,r,n)}};return t=c([M("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function JU(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}function F_(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}let B=class extends Xp(ee){};B=c([M("esri.core.JSONSupport")],B);const KU=Object.prototype.toString;function YU(e){const t="__accessorMetadata__"in e?Mt(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return QU.apply(this,r)}}function QU(e,t,r,n){W0(e,t).cast=n}function XU(e){return(t,r)=>{W0(t,e).cast=t[r]}}function Lt(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&KU.call(e[0])==="[object Function]"?YU(e[0]):e.length===1&&typeof e[0]=="string"?XU(e[0]):void 0}function Me(e,t,r){let n,i;return t===void 0||Array.isArray(t)?(i=e,r=t,n=[void 0]):(i=t,n=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;n.forEach(l=>{const d=U4(s,l,i);d.read&&typeof d.read=="object"||(d.read={}),d.read.reader=a[o],r&&(d.read.source=(d.read.source||[]).concat(r))})}}function ge(e,t,r){let n,i;return t===void 0?(i=e,n=[void 0]):typeof t!="string"?(i=e,n=[void 0],r=t):(i=t,n=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;for(const l of n){const d=U4(s,l,i);d.write&&typeof d.write=="object"||(d.write={}),r&&(d.write.target=r),d.write.writer=a[o]}}}let Ht=class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=eV(t),this.apiValues=P3(this._apiToJSON),this.jsonValues=P3(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,i,s)=>{const o=this.toJSON(n);o!==void 0&&Yc(s,o,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function eV(e){const t={};for(const r in e)t[e[r]]=r;return t}function P3(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}function Ir(){return function(e,t){return new Ht(e,{ignoreUnknown:!0,...t})}}let z$=class{constructor(t,r,n,i){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=n;const s=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*s,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=i||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const ut=new z$(6378137,1/298.257223563,3e5,.006694379990137799),Ii=new z$(3396190,1/169.8944472236118,23e4),Qo=new z$(1737400,0,0),tV=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,rV={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function C3(e){const t=e==null?void 0:e.match(tV);if(!t)return null;const[,r,n,i]=t;if(!r)return null;let s=null,o=null,a=null;const{devext:l,qaext:d,www:p}=rV;if(n)if(s=r,i)switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=d);break;default:return null}else({customBaseUrl:o,portalHostname:a}=p);else switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=d);break;case"www":({customBaseUrl:o,portalHostname:a}=p);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function nV(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function bA(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,n=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):r.test(e)?e=e.replace(r,"https://devext.arcgis.com"):n.test(e)&&(e=e.replace(n,"https://qaext.arcgis.com")),e}function iV(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r.buffer}function sV(e){const t=new Uint8Array(e);let r="";for(let n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return btoa(r)}const oV=()=>z.getLogger("esri.core.urlUtils"),Xc=ye.request,O3="esri/config: esriConfig.request.proxyUrl is not set.",SA=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,$A=/^\s*http:/i,aV=/^\s*https:/i,lV=/^\s*file:/i,uV=/:\d+$/,cV=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,dV=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),hV=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let pc=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(dV);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(hV),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const Bf={},pV=new pc(ye.applicationUrl);let tr=pV;const fV=mV();let U$=fV;const V$=()=>tr,jce=()=>U$;function mV(){const e=tr.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${tr.scheme}://${tr.host}${tr.port!=null?`:${tr.port}`:""}`}${t}`}function yr(e){if(!e)return null;const t={path:null,query:null},r=new pc(e),n=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.substring(0,n),t.query=G$(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function G$(e){const t=e.split("&"),r={};for(const n of t){if(!n)continue;const i=n.indexOf("=");let s,o;i<0?(s=decodeURIComponent(n),o=""):(s=decodeURIComponent(n.slice(0,i)),o=decodeURIComponent(n.slice(i+1)));let a=r[s];typeof a=="string"&&(a=r[s]=[a]),Array.isArray(a)?a.push(o):r[s]=o}return r}function _p(e,t){return e?Object.keys(e).map(r=>{const n=e[r];if(n==null)return"";const i=encodeURIComponent(r)+"=",s=t==null?void 0:t[r];return s?i+encodeURIComponent(s(n)):Array.isArray(n)?n.map(o=>F_(o)?i+encodeURIComponent(JSON.stringify(o)):i+encodeURIComponent(o)).join("&"):F_(n)?i+encodeURIComponent(JSON.stringify(n)):i+encodeURIComponent(n)}).filter(r=>r).join("&"):""}function yV(e=!1){let t,r=Xc.proxyUrl;if(typeof e=="string"){t=SV(e);const n=Q0(e);n&&(r=n.proxyUrl)}else t=!!e;if(!r)throw oV().warn(O3),new j("urlUtils:proxy-not-set",O3);return t&&z_()&&(r=J$(r)),yr(r)}function zce(e){const t=Q0(e);let r,n;if(t){const i=W$(t.proxyUrl);r=i.path,n=i.query?G$(i.query):null}if(r){const i=yr(e);e=r+"?"+i.path;const s=_p({...n,...i.query});s&&(e=`${e}?${s}`)}return e}const gd={path:"",query:""};function W$(e){const t=e.indexOf("?");return t!==-1?(gd.path=e.slice(0,t),gd.query=e.slice(t+1)):(gd.path=e,gd.query=null),gd}function xA(e){return e=(e=kg(e=EV(e=W$(e).path),!0)).toLowerCase()}function gV(e){const t={proxyUrl:e.proxyUrl,urlPrefix:xA(e.urlPrefix)},r=Xc.proxyRules,n=t.urlPrefix;let i=r.length;for(let s=0;s<r.length;s++){const o=r[s].urlPrefix;if(n.indexOf(o)===0){if(n.length===o.length)return-1;i=s;break}o.indexOf(n)===0&&(i=s+1)}return r.splice(i,0,t),i}function Q0(e){const t=Xc.proxyRules,r=xA(e);for(let n=0;n<t.length;n++)if(r.indexOf(t[n].urlPrefix)===0)return t[n]}function Uce(e,t){if(!e||!t)return!1;e=Eg(e),t=Eg(t);const r=C3(e),n=C3(t);return r!=null&&n!=null?r.portalHostname===n.portalHostname:r==null&&n==null&&Rc(e,t,!0)}function vV(e,t){return e=Eg(e),t=Eg(t),kg(e)===kg(t)}function Eg(e){const t=(e=Bo(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function j_(e,t=Xc.interceptors){const r=n=>n==null||n instanceof RegExp&&n.test(e)||typeof n=="string"&&e.startsWith(n);if(t){for(const n of t)if(Array.isArray(n.urls)){if(n.urls.some(r))return n}else if(r(n.urls))return n}return null}function Rc(e,t,r=!1){if(!e||!t)return!1;const n=V_(e),i=V_(t);return!(!r&&n.scheme!==i.scheme)&&n.host!=null&&i.host!=null&&n.host.toLowerCase()===i.host.toLowerCase()&&n.port===i.port}function B$(e){if(typeof e=="string"){if(!qr(e))return!0;e=V_(e)}if(Rc(e,tr))return!0;const t=Xc.trustedServers||[];for(let r=0;r<t.length;r++){const n=wV(t[r]);for(let i=0;i<n.length;i++)if(Rc(e,n[i]))return!0}return!1}function wV(e){return Bf[e]||(Z$(e)||Li(e)?Bf[e]=[new pc(mn(e))]:Bf[e]=[new pc(`http://${e}`),new pc(`https://${e}`)]),Bf[e]}function mn(e,t=U$,r){return Li(e)?r!=null&&r.preserveProtocolRelative?e:tr.scheme==="http"&&tr.authority===bn(e).slice(2)?`http:${e}`:`https:${e}`:Z$(e)?e:X0(e[0]==="/"?MV(t):t,e)}function H$(e,t=U$,r){if(e==null||!qr(e))return e;const n=Bo(e),i=n.toLowerCase(),s=Bo(t).toLowerCase().replace(/\/+$/,""),o=r?Bo(r).toLowerCase().replace(/\/+$/,""):null;if(o&&s.indexOf(o)!==0)return e;const a=(f,m,y)=>(y=f.indexOf(m,y))===-1?f.length:y;let l=a(i,"/",i.indexOf("//")+2),d=-1;for(;i.slice(0,l+1)===s.slice(0,l)+"/"&&(d=l+1,l!==i.length);)l=a(i,"/",l+1);if(d===-1||o&&d<o.length)return e;e=n.slice(d);const p=s.slice(d-1).replaceAll(/[^/]+/g,"").length;if(p>0)for(let f=0;f<p;f++)e=`../${e}`;else e=`./${e}`;return e}function Bo(e){return e=CV(e=PV(e=kV(e=mn(e=e.trim()))))}function X0(...e){const t=e.filter(Wo);if(!(t!=null&&t.length))return;const r=[];if(qr(t[0])){const i=t[0],s=i.indexOf("//");s!==-1&&(r.push(i.slice(0,s+1)),xV(t[0])&&(r[0]+="/"),t[0]=i.slice(s+2))}else t[0][0]==="/"&&r.push("");const n=t.reduce((i,s)=>s?i.concat(s.split("/")):i,[]);for(let i=0;i<n.length;i++){const s=n[i];s===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!s&&i===n.length-1||s&&(s!=="."||r.length===0))&&r.push(s)}return r.join("/")}function bn(e,t=!1){if(e==null||q$(e)||Yl(e))return null;let r=e.indexOf("://");if(r===-1&&Li(e))r=2;else{if(r===-1)return null;r+=3}const n=e.indexOf("/",r);return n!==-1&&(e=e.slice(0,n)),t&&(e=kg(e,!0)),e}function qr(e){return Li(e)||Z$(e)}function q$(e){return e!=null&&e.slice(0,5)==="blob:"}function Yl(e){return e!=null&&e.slice(0,5)==="data:"}function _V(e){const t=bp(e);return t!=null&&t.isBase64?iV(t.data):null}function Vce(e){return sV(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const bV=/^data:(.*?)(;base64)?,(.*)$/;function bp(e){const t=e.match(bV);if(!t)return null;const[,r,n,i]=t;return{mediaType:r,isBase64:!!n,data:i}}function TA(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function Gce(e){return(await fetch(e)).blob()}function Wce(e){const t=_V(e);if(!t)return null;const r=bp(e);return new Blob([t],{type:r.mediaType})}function Li(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function Z$(e){return e!=null&&SA.test(e)}function SV(e){return e!=null&&aV.test(e)||tr.scheme==="https"&&Li(e)}function $V(e){return e!=null&&$A.test(e)||tr.scheme==="http"&&Li(e)}function xV(e){return e!=null&&lV.test(e)}function J$(e){return Li(e)?`https:${e}`:e.replace($A,"https:")}function TV(){return tr.scheme==="http"}function z_(){return tr.scheme==="https"}function kg(e,t=!1){return Li(e)?e.slice(2):(e=e.replace(SA,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function MV(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function Bce(e){let t=0;if(qr(e)){const n=e.indexOf("//");n!==-1&&(t=n+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function Hce(e,t){if(!e)return"";const r=yr(e).path.replace(/\/+$/,""),n=r.substring(r.lastIndexOf("/")+1);if(!(t!=null&&t.length))return n;const i=new RegExp(`\\.(${t.join("|")})$`,"i");return n.replace(i,"")}function EV(e){return e.endsWith("/")?e:`${e}/`}function MA(e){return e.replace(/\/+$/,"")}function kV(e){if(/^https?:\/\//i.test(e)){const t=W$(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function PV(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function CV(e){const t=Xc.httpsDomains;if(!$V(e))return e;const r=e.indexOf("/",7);let n;if(n=r===-1?e:e.slice(0,r),n=n.toLowerCase().slice(7),uV.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return TV()&&n===tr.authority&&!cV.test(e)||(z_()&&n===tr.authority||t&&t.some(i=>n===i||n.endsWith(`.${i}`))||z_()&&!Q0(e))&&(e=J$(e)),e}function U_(e,t,r){if(!(t&&r&&e&&qr(e)))return e;const n=e.indexOf("//"),i=e.indexOf("/",n+2),s=e.indexOf(":",n+2),o=Math.min(i<0?e.length:i,s<0?e.length:s);return e.slice(n+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${r}${e.slice(o)}`}function V_(e){return typeof e=="string"?new pc(mn(e)):(e.scheme||(e.scheme=tr.scheme),e)}function qce(e){return IV.test(e)}function EA(e,t){const r=yr(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),r.path}function OV(e,t,r){const n=yr(e),i=n.query||{};return i[t]=String(r),`${n.path}?${_p(i)}`}function b1(e,t){if(!t)return e;const r=yr(e),n=r.query||{};for(const[s,o]of Object.entries(t))o!=null&&(n[s]=o);const i=_p(n);return i?`${r.path}?${i}`:r.path}function Zce(e){if(e==null)return null;const t=e.match(kA);return t?t[2]:null}function I3(e){if(e==null)return null;const t=e.match(kA);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function Jce(e){return typeof e=="string"?bp(e)??{data:e}:new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(bp(n.result)),n.onerror=i=>r(i)})}const kA=/([^.]*)\.([^/]*)$/,IV=/(^data:image\/svg|\.svg$)/i,PA="20240724",CA="ac51c09e1d17be02f839eb2e22bd05fd7a16c2d3";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const AV="4.30";let Ie,K$=AV;K$="4.30.9";function Kce(e){Ie=e}function Yce(e){const t=Ie==null?void 0:Ie.findCredential(e);return t!=null&&t.token?OV(e,"token",t.token):e}I("host-webworker");const RV=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function OA(e){const t=bn(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!RV.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function LV(e,t,r=!1,n){return new Promise((i,s)=>{if(Ps(n))return void s(A3());let o=()=>{d(),s(new Error(`Unable to load ${t}`))},a=()=>{const p=e;d(),i(p)},l=()=>{if(!e)return;const p=e;d(),p.src="",s(A3())};const d=()=>{I("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",a)),o=null,a=null,e=null,n!=null&&n.removeEventListener("abort",l),l=null,r&&URL.revokeObjectURL(t)};n!=null&&n.addEventListener("abort",l),I("esri-image-decode")?e.decode().then(a,o):(e.addEventListener("error",o),e.addEventListener("load",a))})}function A3(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const IA="Timeout exceeded";function NV(){return new Error(IA)}function Qce(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===IA}function DV(e){ye.request.crossOriginNoCorsDomains||(ye.request.crossOriginNoCorsDomains={});const t=ye.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[bn(r)??""]=0:(t[bn("http://"+r)??""]=0,t[bn("https://"+r)??""]=0)}function FV(e){const t=ye.request.crossOriginNoCorsDomains;if(t){let r=bn(e);if(r)return r=r.toLowerCase(),!Rc(r,V$())&&t[r]<Date.now()-36e5}return!1}async function jV(e){var i;const t=ye.request.crossOriginNoCorsDomains,r=bn(e);t&&r&&(t[r.toLowerCase()]=Date.now());const n=yr(e);e=n.path,((i=n.query)==null?void 0:i.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}async function at(e,t){var m;e instanceof URL&&(e=e.toString()),(t==null?void 0:t.query)instanceof URLSearchParams&&(t.query=G$(t.query.toString().replaceAll("+"," ")));const r=Yl(e),n=q$(e);n||r||(e=Bo(e));const i={url:e,requestOptions:{...t}},s=y=>({data:y,getAllHeaders:Lc,getHeader:Lc,httpStatus:200,requestOptions:i.requestOptions,url:i.url}),o=j_(e,dn.internalInterceptors);if(o){const y=await L3(o,i);if(y!=null)return s(y)}let a=j_(e);if(a){const y=await L3(a,i);if(y!=null)return s(y);a.after||a.error||(a=null)}if(e=i.url,(t=i.requestOptions).responseType==="image"&&(I("host-webworker")||I("host-node")))throw Ai("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),i);if(t.method==="head"){if(t.body)throw Ai("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),i);if(r||n)throw Ai("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),i)}if(await WV(),Pg)return Pg.execute(e,t);const l=new AbortController,d=_n(t,()=>l.abort()),p={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:i,redoRequest:!1,useIdentity:dn.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},f=await ZV(p).finally(()=>d==null?void 0:d.remove());return(m=a==null?void 0:a.after)==null||m.call(a,f),f}let Pg;const dn=ye.request,AA="FormData"in globalThis,zV=new Set([499,498,403,401]),UV=new Set(["COM_0056","COM_0057","SB_0008"]),VV=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Lc=()=>null,Cg=Symbol();function GV(e){const t=bn(e);t&&!at._corsServers.includes(t)&&at._corsServers.push(t)}function R3(e){const t=bn(e);return!t||t.endsWith(".arcgis.com")||at._corsServers.includes(t)||B$(t)}function Ai(e,t,r,n){let i="Error";const s={url:r.url,requestOptions:r.requestOptions,getAllHeaders:Lc,getHeader:Lc,ssl:!1};if(t instanceof j)return t.details?(t.details=L(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=s,t;if(t){const o=n&&(()=>Array.from(n.headers)),a=n&&(p=>n.headers.get(p)),l=n==null?void 0:n.status,d=t.message;d&&(i=d),o&&a&&(s.getAllHeaders=o,s.getHeader=a),s.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,s.subCode=t.subcode,s.messageCode=t.messageCode,typeof t.details=="string"?s.messages=[t.details]:s.messages=t.details,s.raw=Cg in t?t[Cg]:t}return Mn(t)?mt():new j(e,i,s)}async function WV(){I("host-webworker")&&!Pg&&(Pg=await U(()=>import("./request-C3Y3n-Q6.js"),[]))}async function G_(){Ie||await U(()=>import("./IdentityManager-Df7pX5kC.js"),[])}async function BV(e){var a;const t=e.params.url,r=e.params.requestOptions,n=e.controller.signal,i=r.body;let s=null,o=null;if(AA&&"HTMLFormElement"in globalThis&&(i instanceof FormData?s=i:i instanceof HTMLFormElement&&(s=new FormData(i))),typeof i=="string"&&(o=i),e.fetchOptions={cache:r.cacheBust?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:dn.priority,redirect:"follow",signal:n},(s||o)&&(e.fetchOptions.body=s||o),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||(a=r.query)!=null&&a.token||s!=null&&s.get("token")),!e.hasToken&&ye.apiKey&&OA(t)&&(r.query||(r.query={}),r.query.token=ye.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!RA(t)&&!Ps(n)){let l;r.authMode==="immediate"?(await G_(),l=await Ie.getCredential(t,{signal:n}),e.credential=l):r.authMode==="no-prompt"?(await G_(),l=await Ie.getCredential(t,{prompt:!1,signal:n}).catch(()=>{}),e.credential=l):Ie&&(l=Ie.findCredential(t)),l&&(e.credentialToken=l.token,e.useSSL=!!l.ssl)}}function RA(e){return VV.some(t=>t.test(e))}async function HV(e){let t=e.params.url;const r=e.params.requestOptions,n=e.fetchOptions??{},i=q$(t)||Yl(t),s=r.responseType||"json",o=i?0:r.timeout!=null?r.timeout:dn.timeout;let a=!1;if(!i){e.useSSL&&(t=J$(t));let m={...r.query};e.credentialToken&&(m.token=e.credentialToken);let y=_p(m);I("esri-url-encodes-apostrophe")&&(y=y.replaceAll("'","%27"));const g=t.length+1+y.length;let v;a=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||g>dn.maxUrlLength;const S=r.useProxy||!!Q0(t);if(S){const w=yV(t);v=w.path,!a&&v.length+1+g>dn.maxUrlLength&&(a=!0),w.query&&(m={...w.query,...m})}if(n.method==="HEAD"&&(a||S)){if(a)throw g>dn.maxUrlLength?Ai("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Ai("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(S)throw Ai("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(a?(n.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=b1(t,m):(n.body=_p(m),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=b1(t,m),S&&(e.useProxy=!0,t=`${v}?${t}`),m.token&&AA&&n.body instanceof FormData&&!nV(t)&&n.body.set("token",m.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!Rc(t,V$())){if(B$(t))e.withCredentials=!0;else if(Ie){const w=Ie.findServerInfo(t);w!=null&&w.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(n.credentials="include",FV(t)&&await jV(a?b1(t,m):t))}let l,d,p=0,f=!1;o>0&&(p=setTimeout(()=>{f=!0,e.controller.abort()},o));try{if(r.responseType==="native-request-init")d=n,d.url=t;else if(r.responseType!=="image"||n.cache!=="default"||n.method!=="GET"||a||qV(r.headers)||!i&&!e.useProxy&&dn.proxyUrl&&!R3(t)){if(at._beforeFetch&&await at._beforeFetch(t,n),l=await fetch(t,n),at._afterFetch&&await at._afterFetch(l),e.useProxy||GV(t),r.responseType==="native")d=l;else if(n.method!=="HEAD")if(l.ok){switch(s){case"array-buffer":d=await l.arrayBuffer();break;case"blob":case"image":d=await l.blob();break;default:d=await l.text()}if(p&&(clearTimeout(p),p=0),s==="json"||s==="xml"||s==="document")if(d)switch(s){case"json":d=JSON.parse(d);break;case"xml":d=N3(d,"application/xml");break;case"document":d=N3(d,"text/html")}else d=null;if(d){if(s==="array-buffer"||s==="blob"){const m=l.headers.get("Content-Type");if(m&&/application\/json|text\/plain/i.test(m)&&d[s==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(d).json();y.error&&(d=y)}catch{}}s==="image"&&d instanceof Blob&&(d=await D3(URL.createObjectURL(d),e,!0))}}else{d=await l.text();try{d=JSON.parse(d)}catch{}}}else d=await D3(t,e)}catch(m){if(m.name==="AbortError")throw f?NV():mt("Request canceled");if(!(!l&&m instanceof TypeError&&dn.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||R3(t))throw m;e.redoRequest=!0,gV({proxyUrl:dn.proxyUrl,urlPrefix:bn(t)??""})}finally{p&&clearTimeout(p)}return[l,d]}async function L3(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(i){r=Ai("request:interceptor",i,t)}if((n instanceof Error||n instanceof j)&&(r=Ai("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}function qV(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function N3(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function ZV(e){var s,o;let t,r;await BV(e);try{do[t,r]=await HV(e);while(!await JV(e,t,r))}catch(a){const l=Ai("request:server",a,e.params,t);throw l.details.ssl=e.useSSL,(s=e.interceptor)!=null&&s.error&&e.interceptor.error(l),l}const n=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)){if(!e.hasToken&&!e.credentialToken&&((o=r.user)!=null&&o.username)&&!B$(n)){const a=bn(n,!0);a&&dn.trustedServers.push(a)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&DV(r.authorizedCrossOriginNoCorsDomains)}const i=e.credential;if(i&&Ie){const a=Ie.findServerInfo(i.server);let l=a==null?void 0:a.owningSystemUrl;if(l){l=l.replace(/\/?$/,"/sharing");const d=Ie.findCredential(l,i.userId);d&&Ie._getIdenticalSvcIdx(l,d)===-1&&d.resources.unshift(l)}}return{data:r,getAllHeaders:t?()=>Array.from(t.headers):Lc,getHeader:t?a=>t.headers.get(a):Lc,httpStatus:(t==null?void 0:t.status)??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function JV(e,t,r){var d;if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||n.responseType==="native"||n.responseType==="native-request-init")return!0;let i,s;if(r&&(r.error&&typeof r.error=="object"?i=r.error:r.status==="error"&&Array.isArray(r.messages)&&(i={...r},i[Cg]=r,i.details=r.messages)),!i&&!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[Cg]=r,i;let o,a=null;i&&(s=Number(i.code),a=i.hasOwnProperty("subcode")?Number(i.subcode):null,o=i.messageCode,o=o==null?void 0:o.toUpperCase());const l=n.authMode;if(s===403&&(a===4||(d=i.message)!=null&&d.toLowerCase().includes("ssl")&&!i.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&zV.has(s)&&!RA(e.params.url)&&(s!==403||(!o||!UV.has(o))&&(a==null||a===2&&e.credentialToken))){await G_();try{const p=await Ie.getCredential(e.params.url,{error:Ai("request:server",i,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=p,e.credentialToken=p.token,e.useSSL=e.useSSL||p.ssl,!1}catch(p){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;i=p}}if(i)throw i;return!0}function D3(e,t,r=!1){const n=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=dn.priority,i.src=e,LV(i,e,r,n)}at._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],at._beforeFetch=void 0,at._afterFetch=void 0;function be(e){if(!ye.assetsPath)throw z.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new j("assets:path-not-set","config.assetsPath is not set");return X0(ye.assetsPath,e)}let S1,k=null;function Y$(){return!!k}function KV(){return!!I("esri-wasm")}function LA(){return S1||(S1=U(()=>import("./pe-wasm-BHDpgEm-.js"),[]).then(e=>e.p).then(({default:e})=>e({locateFile:t=>be(`esri/geometry/support/${t}`)})).then(e=>{DA(e)}),S1)}var W_,Be,B_;(function(e){function t(s,o,a){k.ensureCache.prepare();const l=ol(a),d=a===l,p=k.ensureFloat64(l),f=k._pe_geog_to_proj(k.getPointer(s),o,p);return f&&ko(a,o,p,d),f}function r(s,o,a,l){switch(l){case Be.PE_TRANSFORM_P_TO_G:return n(s,o,a);case Be.PE_TRANSFORM_G_TO_P:return t(s,o,a)}return 0}function n(s,o,a){return i(s,o,a,0)}function i(s,o,a,l){k.ensureCache.prepare();const d=ol(a),p=a===d,f=k.ensureFloat64(d),m=k._pe_proj_to_geog_center(k.getPointer(s),o,f,l);return m&&ko(a,o,f,p),m}e.geogToProj=t,e.projGeog=r,e.projToGeog=n,e.projToGeogCenter=i})(W_||(W_={})),function(e){function t(){e.PE_BUFFER_MAX=k.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=k.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=k.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=k.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=k.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=k.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=k.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=k.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=k.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=k.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=k.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=k.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=k.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=k.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=k.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=k.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=k.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=k.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=k.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=k.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=k.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=k.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=k.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=k.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=k.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=k.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=k.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=k.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=k.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=k.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=k.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=k.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Be||(Be={})),function(e){const t={},r={},n=y=>{if(y){const g=y.getType();switch(g){case Be.PE_TYPE_GEOGCS:y=k.castObject(y,k.PeGeogcs);break;case Be.PE_TYPE_PROJCS:y=k.castObject(y,k.PeProjcs);break;case Be.PE_TYPE_GEOGTRAN:y=k.castObject(y,k.PeGeogtran);break;default:g&Be.PE_TYPE_UNIT&&(y=k.castObject(y,k.PeUnit))}}return y};function i(){k.PeFactory.prototype.initialize(null)}function s(y){return o(Be.PE_TYPE_COORDSYS,y)}function o(y,g){let v=null,S=t[y];if(S||(S={},t[y]=S),S.hasOwnProperty(String(g)))v=S[g];else{const w=k.PeFactory.prototype.factoryByType(y,g);k.compare(w,k.NULL)||(v=w,S[g]=v)}return v=n(v),v}function a(y,g){let v=null,S=r[y];if(S||(S={},r[y]=S),S.hasOwnProperty(g))v=S[g];else{const w=k.PeFactory.prototype.fromString(y,g);k.compare(w,k.NULL)||(v=w,S[g]=v)}return v=n(v),v}function l(y){return o(Be.PE_TYPE_GEOGCS,y)}function d(y){return o(Be.PE_TYPE_GEOGTRAN,y)}function p(y){return k.PeFactory.prototype.getCode(y)}function f(y){return o(Be.PE_TYPE_PROJCS,y)}function m(y){return o(Be.PE_TYPE_UNIT,y)}e.initialize=i,e.coordsys=s,e.factoryByType=o,e.fromString=a,e.geogcs=l,e.geogtran=d,e.getCode=p,e.projcs=f,e.unit=m}(B_||(B_={}));let NA=null;var Og,H_,q_,Z_,Ig,J_,Ag,Rg,K_;function DA(e){function t(s,o,a){s[o]=a(s[o])}k=e,Be.init(),Og.init(),Ig.init(),Ag.init(),Rg.init(),NA=class extends k.PeGCSExtent{destroy(){k.destroy(this)}};const r=[k.PeDatum,k.PeGeogcs,k.PeGeogtran,k.PeObject,k.PeParameter,k.PePrimem,k.PeProjcs,k.PeSpheroid,k.PeUnit];for(const s of r)t(s.prototype,"getName",o=>function(){return o.call(this,new Array(Be.PE_NAME_MAX))});for(const s of[k.PeGeogtran,k.PeProjcs])t(s.prototype,"getParameters",o=>function(){const a=new Array(Be.PE_PARM_MAX);let l=o.call(this);for(let d=0;d<a.length;d++){const p=k.getValue(l,"*");a[d]=p?k.wrapPointer(p,k.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(k.PeHorizon.prototype,"getCoord",s=>function(){const o=this.getSize();if(!o)return null;const a=[];return ko(a,o,s.call(this)),a}),t(k.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=k._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!k.compare(l,k.NULL)){a=[l];const d=this.getSteps();if(d>1){const p=k.getPointer(l);for(let f=1;f<d;f++)a.push(k.wrapPointer(p+o*f,k.PeGTlistExtendedGTs))}}return a}});const n=k._pe_getPeHorizonSize(),i=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!k.compare(l,k.NULL)){a=[l];const d=l.getNump();if(d>1){const p=k.getPointer(l);for(let f=1;f<d;f++)a.push(k.wrapPointer(p+n*f,k.PeHorizon))}}return o.set(s,a),a};t(k.PeProjcs.prototype,"horizonGcsGenerate",i),t(k.PeProjcs.prototype,"horizonPcsGenerate",i),k.PeObject.prototype.toString=function(s=Be.PE_STR_OPTS_NONE){k.ensureCache.prepare();const o=k.getPointer(this),a=k.ensureInt8(new Array(Be.PE_BUFFER_MAX));return k.UTF8ToString(k._pe_object_to_string_ext(o,s,a))}}function Bi(e){if(!e)return;const t=k.getClass(e);if(!t)return;const r=k.getCache(t);if(!r)return;const n=k.getPointer(e);n&&delete r[n]}function Hf(e,t){const r=[],n=new Array(t);for(let i=0;i<e;i++)r.push(k.ensureInt8(n));return r}function ol(e){let t;return Array.isArray(e[0])?(t=[],e.forEach(r=>{t.push(r[0],r[1])})):t=e,t}function ko(e,t,r,n=!1){if(n)for(let i=0;i<2*t;i++)e[i]=k.getValue(r+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const i=e.length===0;for(let s=0;s<t;s++)i&&(e[s]=new Array(2)),e[s][0]=k.getValue(r,"double"),e[s][1]=k.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=k.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=k._pe_getPeGTlistExtendedEntrySize()}function n(i,s,o,a,l,d){let p=null;const f=new k.PeInteger(d);try{const m=k.PeGTlistExtended.prototype.getGTlist(i,s,o,a,l,f);if((d=f.val)&&(p=[m],d>1)){const y=k.getPointer(m);for(let g=1;g<d;g++)p.push(k.wrapPointer(y+t*g,k.PeGTlistExtendedEntry))}}finally{k.destroy(f)}return p}e.init=r,e.getGTlist=n})(Og||(Og={})),function(e){function t(r){if(r!=null&&r.length){for(const n of r)Bi(n),n.getEntries().forEach(i=>{Bi(i);const s=i.getGeogtran();Bi(s),s.getParameters().forEach(Bi),[s.getGeogcs1(),s.getGeogcs2()].forEach(o=>{Bi(o);const a=o.getDatum();Bi(a),Bi(a.getSpheroid()),Bi(o.getPrimem()),Bi(o.getUnit())})});k.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t}(H_||(H_={})),function(e){function t(r,n,i,s,o){k.ensureCache.prepare();const a=ol(i),l=i===a,d=k.ensureFloat64(a);let p=0;s&&(p=k.ensureFloat64(s));const f=k._pe_geog_to_geog(k.getPointer(r),n,d,p,o);return f&&ko(i,n,d,l),f}e.geogToGeog=t}(q_||(q_={})),function(e){const t=(d,p,f,m,y,g)=>{let v,S;switch(k.ensureCache.prepare(),d){case"dd":v=k._pe_geog_to_dd,S=Be.PE_DD_MAX;break;case"ddm":v=k._pe_geog_to_ddm,S=Be.PE_DDM_MAX;break;case"dms":v=k._pe_geog_to_dms,S=Be.PE_DMS_MAX}let w=0;p&&(w=k.getPointer(p));const _=ol(m),$=k.ensureFloat64(_),x=Hf(f,S),T=v(w,f,$,y,k.ensureInt32(x));if(T)for(let E=0;E<f;E++)g[E]=k.UTF8ToString(x[E]);return T},r=(d,p,f,m,y)=>{let g;switch(k.ensureCache.prepare(),d){case"dd":g=k._pe_dd_to_geog;break;case"ddm":g=k._pe_ddm_to_geog;break;case"dms":g=k._pe_dms_to_geog}let v=0;p&&(v=k.getPointer(p));const S=m.map(x=>k.ensureString(x)),w=k.ensureInt32(S),_=k.ensureFloat64(new Array(2*f)),$=g(v,f,w,_);return $&&ko(y,f,_),$};function n(d,p,f,m,y){return t("dms",d,p,f,m,y)}function i(d,p,f,m){return r("dms",d,p,f,m)}function s(d,p,f,m,y){return t("ddm",d,p,f,m,y)}function o(d,p,f,m){return r("ddm",d,p,f,m)}function a(d,p,f,m,y){return t("dd",d,p,f,m,y)}function l(d,p,f,m){return r("dd",d,p,f,m)}e.geogToDms=n,e.dmsToGeog=i,e.geogToDdm=s,e.ddmToGeog=o,e.geogToDd=a,e.ddToGeog=l}(Z_||(Z_={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=k.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=k.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=k.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=k.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=k.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(i,s,o,a,l,d,p){k.ensureCache.prepare();let f=0;i&&(f=k.getPointer(i));const m=ol(o),y=k.ensureFloat64(m),g=Hf(s,Be.PE_MGRS_MAX),v=k.ensureInt32(g),S=k._pe_geog_to_mgrs_extended(f,s,y,a,l,d,v);if(S)for(let w=0;w<s;w++)p[w]=k.UTF8ToString(g[w]);return S}function n(i,s,o,a,l){k.ensureCache.prepare();let d=0;i&&(d=k.getPointer(i));const p=o.map(g=>k.ensureString(g)),f=k.ensureInt32(p),m=k.ensureFloat64(new Array(2*s)),y=k._pe_mgrs_to_geog_extended(d,s,f,a,m);return y&&ko(l,s,m),y}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=n}(Ig||(Ig={})),function(e){function t(n,i,s,o,a,l,d){k.ensureCache.prepare();let p=0;n&&(p=k.getPointer(n));const f=ol(s),m=k.ensureFloat64(f),y=Hf(i,Be.PE_MGRS_MAX),g=k.ensureInt32(y),v=k._pe_geog_to_usng(p,i,m,o,a,l,g);if(v)for(let S=0;S<i;S++)d[S]=k.UTF8ToString(y[S]);return v}function r(n,i,s,o){k.ensureCache.prepare();let a=0;n&&(a=k.getPointer(n));const l=s.map(m=>k.ensureString(m)),d=k.ensureInt32(l),p=k.ensureFloat64(new Array(2*i)),f=k._pe_usng_to_geog(a,i,d,p);return f&&ko(o,i,p),f}e.geogToUsng=t,e.usngToGeog=r}(J_||(J_={})),function(e){function t(){e.PE_UTM_OPTS_NONE=k.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=k.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=k.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(i,s,o,a,l){k.ensureCache.prepare();let d=0;i&&(d=k.getPointer(i));const p=ol(o),f=k.ensureFloat64(p),m=Hf(s,Be.PE_UTM_MAX),y=k.ensureInt32(m),g=k._pe_geog_to_utm(d,s,f,a,y);if(g)for(let v=0;v<s;v++)l[v]=k.UTF8ToString(m[v]);return g}function n(i,s,o,a,l){k.ensureCache.prepare();let d=0;i&&(d=k.getPointer(i));const p=o.map(g=>k.ensureString(g)),f=k.ensureInt32(p),m=k.ensureFloat64(new Array(2*s)),y=k._pe_utm_to_geog(d,s,f,a,m);return y&&ko(l,s,m),y}e.init=t,e.geogToUtm=r,e.utmToGeog=n}(Ag||(Ag={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=k.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=k.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=k.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=k.PePCSInfo.prototype.PE_POLE_POINT}function n(i,s=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return t.has(i)&&(a=t.get(i),a[s]&&(o=a[s])),o||(o=k.PePCSInfo.prototype.generate(i,s),a||(a=[],t.set(i,a)),a[s]=o),o}e.init=r,e.generate=n}(Rg||(Rg={})),function(e){function t(){return k.PeVersion.prototype.version_string()}e.versionString=t}(K_||(K_={}));const YV=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return W_},get PeDefs(){return Be},get PeFactory(){return B_},get PeGCSExtent(){return NA},get PeGTTransformations(){return q_},get PeGTlistExtended(){return Og},get PeGTlistExtendedEntry(){return H_},get PeNotationDms(){return Z_},get PeNotationMgrs(){return Ig},get PeNotationUsng(){return J_},get PeNotationUtm(){return Ag},get PePCSInfo(){return Rg},get PeVersion(){return K_},_init:DA,get _pe(){return k},isLoaded:Y$,isSupported:KV,load:LA},Symbol.toStringTag,{value:"Module"}));var Rl;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Rl||(Rl={}));let u;const b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(u=2e3;u<=2045;u++)b[u]=0;for(u=2056;u<=2065;u++)b[u]=0;for(u=2067;u<=2135;u++)b[u]=0;for(u=2137;u<=2154;u++)b[u]=0;for(u=2161;u<=2170;u++)b[u]=0;for(u=2172;u<=2193;u++)b[u]=0;for(u=2195;u<=2198;u++)b[u]=0;for(u=2200;u<=2203;u++)b[u]=0;for(u=2205;u<=2217;u++)b[u]=0;for(u=2222;u<=2224;u++)b[u]=1;for(u=2225;u<=2250;u++)b[u]=2;for(u=2251;u<=2253;u++)b[u]=1;for(u=2257;u<=2264;u++)b[u]=2;for(u=2274;u<=2279;u++)b[u]=2;for(u=2280;u<=2282;u++)b[u]=1;for(u=2283;u<=2289;u++)b[u]=2;for(u=2290;u<=2292;u++)b[u]=0;for(u=2308;u<=2313;u++)b[u]=0;for(u=2315;u<=2491;u++)b[u]=0;for(u=2494;u<=2866;u++)b[u]=0;for(u=2867;u<=2869;u++)b[u]=1;for(u=2870;u<=2888;u++)b[u]=2;for(u=2891;u<=2895;u++)b[u]=2;for(u=2896;u<=2898;u++)b[u]=1;for(u=2902;u<=2908;u++)b[u]=2;for(u=2915;u<=2920;u++)b[u]=2;for(u=2921;u<=2923;u++)b[u]=1;for(u=2924;u<=2930;u++)b[u]=2;for(u=2931;u<=2962;u++)b[u]=0;for(u=2964;u<=2968;u++)b[u]=2;for(u=2969;u<=2973;u++)b[u]=0;for(u=2975;u<=2991;u++)b[u]=0;for(u=2995;u<=3051;u++)b[u]=0;for(u=3054;u<=3079;u++)b[u]=0;for(u=3081;u<=3088;u++)b[u]=0;for(u=3092;u<=3101;u++)b[u]=0;for(u=3106;u<=3138;u++)b[u]=0;for(u=3146;u<=3151;u++)b[u]=0;for(u=3153;u<=3166;u++)b[u]=0;for(u=3168;u<=3172;u++)b[u]=0;for(u=3174;u<=3203;u++)b[u]=0;for(u=3294;u<=3358;u++)b[u]=0;for(u=3367;u<=3403;u++)b[u]=0;for(u=3408;u<=3416;u++)b[u]=0;for(u=3417;u<=3438;u++)b[u]=2;for(u=3441;u<=3446;u++)b[u]=2;for(u=3447;u<=3450;u++)b[u]=0;for(u=3451;u<=3459;u++)b[u]=2;for(u=3460;u<=3478;u++)b[u]=0;for(u=3554;u<=3559;u++)b[u]=0;for(u=3560;u<=3570;u++)b[u]=2;for(u=3571;u<=3581;u++)b[u]=0;for(u=3594;u<=3597;u++)b[u]=0;for(u=3601;u<=3604;u++)b[u]=0;for(u=3637;u<=3639;u++)b[u]=0;for(u=3665;u<=3667;u++)b[u]=0;for(u=3693;u<=3695;u++)b[u]=0;for(u=3701;u<=3727;u++)b[u]=0;for(u=3728;u<=3739;u++)b[u]=2;for(u=3740;u<=3751;u++)b[u]=0;for(u=3753;u<=3760;u++)b[u]=2;for(u=3761;u<=3773;u++)b[u]=0;for(u=3775;u<=3777;u++)b[u]=0;for(u=3779;u<=3781;u++)b[u]=0;for(u=3783;u<=3785;u++)b[u]=0;for(u=3788;u<=3791;u++)b[u]=0;for(u=3797;u<=3802;u++)b[u]=0;for(u=3814;u<=3816;u++)b[u]=0;for(u=3825;u<=3829;u++)b[u]=0;for(u=3832;u<=3841;u++)b[u]=0;for(u=3844;u<=3852;u++)b[u]=0;for(u=3873;u<=3885;u++)b[u]=0;for(u=3890;u<=3893;u++)b[u]=0;for(u=3907;u<=3912;u++)b[u]=0;for(u=3942;u<=3950;u++)b[u]=0;for(u=3968;u<=3970;u++)b[u]=0;for(u=3973;u<=3976;u++)b[u]=0;for(u=3986;u<=3989;u++)b[u]=0;for(u=3994;u<=3997;u++)b[u]=0;for(u=4048;u<=4051;u++)b[u]=0;for(u=4056;u<=4063;u++)b[u]=0;for(u=4093;u<=4096;u++)b[u]=0;for(u=4390;u<=4398;u++)b[u]=0;for(u=4399;u<=4413;u++)b[u]=2;for(u=4418;u<=4433;u++)b[u]=2;for(u=4455;u<=4457;u++)b[u]=2;for(u=4484;u<=4489;u++)b[u]=0;for(u=4491;u<=4554;u++)b[u]=0;for(u=4568;u<=4589;u++)b[u]=0;for(u=4652;u<=4656;u++)b[u]=0;for(u=4766;u<=4800;u++)b[u]=0;for(u=5014;u<=5016;u++)b[u]=0;for(u=5069;u<=5072;u++)b[u]=0;for(u=5105;u<=5130;u++)b[u]=0;for(u=5167;u<=5188;u++)b[u]=0;for(u=5253;u<=5259;u++)b[u]=0;for(u=5269;u<=5275;u++)b[u]=0;for(u=5292;u<=5311;u++)b[u]=0;for(u=5329;u<=5331;u++)b[u]=0;for(u=5343;u<=5349;u++)b[u]=0;for(u=5355;u<=5357;u++)b[u]=0;for(u=5387;u<=5389;u++)b[u]=0;for(u=5459;u<=5463;u++)b[u]=0;for(u=5479;u<=5482;u++)b[u]=0;for(u=5518;u<=5520;u++)b[u]=0;for(u=5530;u<=5539;u++)b[u]=0;for(u=5550;u<=5552;u++)b[u]=0;for(u=5562;u<=5583;u++)b[u]=0;for(u=5623;u<=5625;u++)b[u]=2;for(u=5631;u<=5639;u++)b[u]=0;for(u=5649;u<=5653;u++)b[u]=0;for(u=5663;u<=5680;u++)b[u]=0;for(u=5682;u<=5685;u++)b[u]=0;for(u=5875;u<=5877;u++)b[u]=0;for(u=5896;u<=5899;u++)b[u]=0;for(u=5921;u<=5940;u++)b[u]=0;for(u=6050;u<=6125;u++)b[u]=0;for(u=6244;u<=6275;u++)b[u]=0;for(u=6328;u<=6348;u++)b[u]=0;for(u=6350;u<=6356;u++)b[u]=0;for(u=6366;u<=6372;u++)b[u]=0;for(u=6381;u<=6387;u++)b[u]=0;for(u=6393;u<=6404;u++)b[u]=0;for(u=6480;u<=6483;u++)b[u]=0;for(u=6511;u<=6514;u++)b[u]=0;for(u=6579;u<=6581;u++)b[u]=0;for(u=6619;u<=6624;u++)b[u]=0;for(u=6625;u<=6627;u++)b[u]=2;for(u=6628;u<=6632;u++)b[u]=0;for(u=6634;u<=6637;u++)b[u]=0;for(u=6669;u<=6692;u++)b[u]=0;for(u=6707;u<=6709;u++)b[u]=0;for(u=6720;u<=6723;u++)b[u]=0;for(u=6732;u<=6738;u++)b[u]=0;for(u=6931;u<=6933;u++)b[u]=0;for(u=6956;u<=6959;u++)b[u]=0;for(u=7005;u<=7007;u++)b[u]=0;for(u=7057;u<=7070;u++)b[u]=2;for(u=7074;u<=7082;u++)b[u]=0;for(u=7109;u<=7118;u++)b[u]=0;for(u=7119;u<=7127;u++)b[u]=1;for(u=7374;u<=7376;u++)b[u]=0;for(u=7528;u<=7586;u++)b[u]=0;for(u=7587;u<=7645;u++)b[u]=2;for(u=7692;u<=7696;u++)b[u]=0;for(u=7755;u<=7787;u++)b[u]=0;for(u=7791;u<=7795;u++)b[u]=0;for(u=7799;u<=7801;u++)b[u]=0;for(u=7803;u<=7805;u++)b[u]=0;for(u=7825;u<=7831;u++)b[u]=0;for(u=7845;u<=7859;u++)b[u]=0;for(u=8013;u<=8032;u++)b[u]=0;for(u=8065;u<=8068;u++)b[u]=1;for(u=8518;u<=8529;u++)b[u]=2;for(u=8533;u<=8536;u++)b[u]=2;for(u=8538;u<=8540;u++)b[u]=2;for(u=8677;u<=8679;u++)b[u]=0;for(u=8836;u<=8840;u++)b[u]=0;for(u=8857;u<=8859;u++)b[u]=0;for(u=8908;u<=8910;u++)b[u]=0;for(u=9154;u<=9159;u++)b[u]=0;for(u=9205;u<=9218;u++)b[u]=0;for(u=9271;u<=9273;u++)b[u]=0;for(u=9295;u<=9297;u++)b[u]=0;for(u=9356;u<=9360;u++)b[u]=0;for(u=9404;u<=9407;u++)b[u]=0;for(u=9476;u<=9482;u++)b[u]=0;for(u=9487;u<=9494;u++)b[u]=0;for(u=9697;u<=9699;u++)b[u]=0;for(u=9821;u<=9865;u++)b[u]=0;for(u=10285;u<=10291;u++)b[u]=0;for(u=10314;u<=10317;u++)b[u]=0;for(u=10448;u<=10465;u++)b[u]=0;for(u=10731;u<=10733;u++)b[u]=0;for(u=11114;u<=11118;u++)b[u]=0;for(u=20004;u<=20032;u++)b[u]=0;for(u=20047;u<=20049;u++)b[u]=0;for(u=20062;u<=20092;u++)b[u]=0;for(u=20135;u<=20138;u++)b[u]=0;for(u=20248;u<=20258;u++)b[u]=0;for(u=20348;u<=20358;u++)b[u]=0;for(u=20436;u<=20440;u++)b[u]=0;for(u=20822;u<=20824;u++)b[u]=0;for(u=20904;u<=20932;u++)b[u]=0;for(u=20934;u<=20936;u++)b[u]=0;for(u=21004;u<=21032;u++)b[u]=0;for(u=21035;u<=21037;u++)b[u]=0;for(u=21095;u<=21097;u++)b[u]=0;for(u=21148;u<=21150;u++)b[u]=0;for(u=21207;u<=21264;u++)b[u]=0;for(u=21307;u<=21364;u++)b[u]=0;for(u=21413;u<=21423;u++)b[u]=0;for(u=21453;u<=21463;u++)b[u]=0;for(u=21473;u<=21483;u++)b[u]=0;for(u=21780;u<=21782;u++)b[u]=0;for(u=21891;u<=21894;u++)b[u]=0;for(u=21896;u<=21899;u++)b[u]=0;for(u=22171;u<=22177;u++)b[u]=0;for(u=22181;u<=22187;u++)b[u]=0;for(u=22191;u<=22197;u++)b[u]=0;for(u=22207;u<=22222;u++)b[u]=0;for(u=22229;u<=22232;u++)b[u]=0;for(u=22234;u<=22236;u++)b[u]=0;for(u=22243;u<=22250;u++)b[u]=0;for(u=22262;u<=22265;u++)b[u]=0;for(u=22307;u<=22322;u++)b[u]=0;for(u=22348;u<=22357;u++)b[u]=0;for(u=22407;u<=22422;u++)b[u]=0;for(u=22462;u<=22465;u++)b[u]=0;for(u=22521;u<=22525;u++)b[u]=0;for(u=22607;u<=22622;u++)b[u]=0;for(u=22641;u<=22646;u++)b[u]=0;for(u=22648;u<=22657;u++)b[u]=0;for(u=22707;u<=22722;u++)b[u]=0;for(u=22762;u<=22765;u++)b[u]=0;for(u=22807;u<=22822;u++)b[u]=0;for(u=22991;u<=22994;u++)b[u]=0;for(u=23028;u<=23038;u++)b[u]=0;for(u=23301;u<=23333;u++)b[u]=2;for(u=23830;u<=23853;u++)b[u]=0;for(u=23866;u<=23872;u++)b[u]=0;for(u=23877;u<=23884;u++)b[u]=0;for(u=23886;u<=23894;u++)b[u]=0;for(u=23946;u<=23948;u++)b[u]=0;for(u=24311;u<=24313;u++)b[u]=0;for(u=24342;u<=24347;u++)b[u]=0;for(u=24370;u<=24374;u++)b[u]=10;for(u=24375;u<=24381;u++)b[u]=0;for(u=24718;u<=24721;u++)b[u]=0;for(u=24817;u<=24821;u++)b[u]=0;for(u=24877;u<=24882;u++)b[u]=0;for(u=24891;u<=24893;u++)b[u]=0;for(u=25391;u<=25395;u++)b[u]=0;for(u=25828;u<=25838;u++)b[u]=0;for(u=26191;u<=26195;u++)b[u]=0;for(u=26391;u<=26393;u++)b[u]=0;for(u=26701;u<=26722;u++)b[u]=0;for(u=26729;u<=26799;u++)b[u]=2;for(u=26801;u<=26803;u++)b[u]=2;for(u=26811;u<=26813;u++)b[u]=2;for(u=26847;u<=26870;u++)b[u]=2;for(u=26891;u<=26899;u++)b[u]=0;for(u=26901;u<=26923;u++)b[u]=0;for(u=26929;u<=26946;u++)b[u]=0;for(u=26948;u<=26998;u++)b[u]=0;for(u=27037;u<=27040;u++)b[u]=0;for(u=27205;u<=27232;u++)b[u]=0;for(u=27258;u<=27260;u++)b[u]=0;for(u=27391;u<=27398;u++)b[u]=0;for(u=27561;u<=27564;u++)b[u]=0;for(u=27571;u<=27574;u++)b[u]=0;for(u=27581;u<=27584;u++)b[u]=0;for(u=27591;u<=27594;u++)b[u]=0;for(u=27700;u<=27707;u++)b[u]=0;for(u=28191;u<=28193;u++)b[u]=0;for(u=28348;u<=28358;u++)b[u]=0;for(u=28402;u<=28432;u++)b[u]=0;for(u=28462;u<=28492;u++)b[u]=0;for(u=29118;u<=29122;u++)b[u]=0;for(u=29168;u<=29172;u++)b[u]=0;for(u=29177;u<=29185;u++)b[u]=0;for(u=29187;u<=29195;u++)b[u]=0;for(u=29900;u<=29903;u++)b[u]=0;for(u=30161;u<=30179;u++)b[u]=0;for(u=30491;u<=30494;u++)b[u]=0;for(u=30729;u<=30732;u++)b[u]=0;for(u=31251;u<=31259;u++)b[u]=0;for(u=31265;u<=31268;u++)b[u]=0;for(u=31275;u<=31279;u++)b[u]=0;for(u=31281;u<=31297;u++)b[u]=0;for(u=31461;u<=31469;u++)b[u]=0;for(u=31491;u<=31495;u++)b[u]=0;for(u=31917;u<=31922;u++)b[u]=0;for(u=31965;u<=32e3;u++)b[u]=0;for(u=32001;u<=32003;u++)b[u]=2;for(u=32005;u<=32031;u++)b[u]=2;for(u=32033;u<=32060;u++)b[u]=2;for(u=32064;u<=32067;u++)b[u]=2;for(u=32074;u<=32077;u++)b[u]=2;for(u=32081;u<=32086;u++)b[u]=0;for(u=32107;u<=32130;u++)b[u]=0;for(u=32133;u<=32159;u++)b[u]=0;for(u=32164;u<=32167;u++)b[u]=2;for(u=32180;u<=32199;u++)b[u]=0;for(u=32201;u<=32260;u++)b[u]=0;for(u=32301;u<=32360;u++)b[u]=0;for(u=32401;u<=32460;u++)b[u]=0;for(u=32501;u<=32560;u++)b[u]=0;for(u=32601;u<=32662;u++)b[u]=0;for(u=32664;u<=32667;u++)b[u]=2;for(u=32701;u<=32761;u++)b[u]=0;for(u=53001;u<=53004;u++)b[u]=0;for(u=53008;u<=53019;u++)b[u]=0;for(u=53021;u<=53032;u++)b[u]=0;for(u=53034;u<=53037;u++)b[u]=0;for(u=53042;u<=53046;u++)b[u]=0;for(u=53074;u<=53080;u++)b[u]=0;for(u=54001;u<=54004;u++)b[u]=0;for(u=54008;u<=54019;u++)b[u]=0;for(u=54021;u<=54032;u++)b[u]=0;for(u=54034;u<=54037;u++)b[u]=0;for(u=54042;u<=54046;u++)b[u]=0;for(u=54048;u<=54053;u++)b[u]=0;for(u=54074;u<=54080;u++)b[u]=0;for(u=54098;u<=54101;u++)b[u]=0;for(u=102001;u<=102040;u++)b[u]=0;for(u=102042;u<=102063;u++)b[u]=0;for(u=102065;u<=102067;u++)b[u]=0;for(u=102070;u<=102117;u++)b[u]=0;for(u=102122;u<=102216;u++)b[u]=0;for(u=102221;u<=102377;u++)b[u]=0;for(u=102382;u<=102388;u++)b[u]=0;for(u=102389;u<=102398;u++)b[u]=2;for(u=102399;u<=102444;u++)b[u]=0;for(u=102445;u<=102447;u++)b[u]=2;for(u=102448;u<=102458;u++)b[u]=0;for(u=102459;u<=102468;u++)b[u]=2;for(u=102469;u<=102499;u++)b[u]=0;for(u=102500;u<=102519;u++)b[u]=1;for(u=102520;u<=102524;u++)b[u]=0;for(u=102525;u<=102529;u++)b[u]=2;for(u=102530;u<=102588;u++)b[u]=0;for(u=102590;u<=102598;u++)b[u]=0;for(u=102601;u<=102603;u++)b[u]=0;for(u=102605;u<=102628;u++)b[u]=0;for(u=102629;u<=102646;u++)b[u]=2;for(u=102648;u<=102700;u++)b[u]=2;for(u=102701;u<=102703;u++)b[u]=0;for(u=102707;u<=102730;u++)b[u]=2;for(u=102733;u<=102758;u++)b[u]=2;for(u=102767;u<=102900;u++)b[u]=0;for(u=102901;u<=102933;u++)b[u]=2;for(u=102934;u<=102950;u++)b[u]=13;for(u=102951;u<=102963;u++)b[u]=0;for(u=102965;u<=102969;u++)b[u]=0;for(u=102971;u<=102973;u++)b[u]=0;for(u=102975;u<=102989;u++)b[u]=0;for(u=102990;u<=102992;u++)b[u]=1;for(u=102997;u<=103002;u++)b[u]=0;for(u=103003;u<=103008;u++)b[u]=2;for(u=103009;u<=103011;u++)b[u]=0;for(u=103012;u<=103014;u++)b[u]=2;for(u=103019;u<=103021;u++)b[u]=0;for(u=103022;u<=103024;u++)b[u]=2;for(u=103029;u<=103031;u++)b[u]=0;for(u=103032;u<=103034;u++)b[u]=2;for(u=103065;u<=103068;u++)b[u]=0;for(u=103074;u<=103076;u++)b[u]=0;for(u=103077;u<=103079;u++)b[u]=1;for(u=103080;u<=103082;u++)b[u]=0;for(u=103083;u<=103085;u++)b[u]=2;for(u=103090;u<=103093;u++)b[u]=0;for(u=103097;u<=103099;u++)b[u]=0;for(u=103100;u<=103102;u++)b[u]=2;for(u=103107;u<=103109;u++)b[u]=0;for(u=103110;u<=103112;u++)b[u]=2;for(u=103113;u<=103116;u++)b[u]=0;for(u=103117;u<=103120;u++)b[u]=2;for(u=103153;u<=103157;u++)b[u]=0;for(u=103158;u<=103162;u++)b[u]=2;for(u=103163;u<=103165;u++)b[u]=0;for(u=103166;u<=103168;u++)b[u]=1;for(u=103169;u<=103171;u++)b[u]=2;for(u=103186;u<=103188;u++)b[u]=0;for(u=103189;u<=103191;u++)b[u]=2;for(u=103192;u<=103195;u++)b[u]=0;for(u=103196;u<=103199;u++)b[u]=2;for(u=103200;u<=103224;u++)b[u]=0;for(u=103225;u<=103227;u++)b[u]=1;for(u=103232;u<=103237;u++)b[u]=0;for(u=103238;u<=103243;u++)b[u]=2;for(u=103244;u<=103246;u++)b[u]=0;for(u=103247;u<=103249;u++)b[u]=2;for(u=103254;u<=103256;u++)b[u]=0;for(u=103257;u<=103259;u++)b[u]=2;for(u=103264;u<=103266;u++)b[u]=0;for(u=103267;u<=103269;u++)b[u]=2;for(u=103300;u<=103375;u++)b[u]=0;for(u=103381;u<=103383;u++)b[u]=0;for(u=103384;u<=103386;u++)b[u]=1;for(u=103387;u<=103389;u++)b[u]=0;for(u=103390;u<=103392;u++)b[u]=2;for(u=103397;u<=103399;u++)b[u]=0;for(u=103400;u<=103471;u++)b[u]=2;for(u=103476;u<=103478;u++)b[u]=0;for(u=103479;u<=103481;u++)b[u]=2;for(u=103486;u<=103488;u++)b[u]=0;for(u=103489;u<=103491;u++)b[u]=2;for(u=103492;u<=103495;u++)b[u]=0;for(u=103496;u<=103499;u++)b[u]=2;for(u=103528;u<=103543;u++)b[u]=0;for(u=103544;u<=103548;u++)b[u]=2;for(u=103549;u<=103551;u++)b[u]=0;for(u=103552;u<=103554;u++)b[u]=1;for(u=103555;u<=103557;u++)b[u]=2;for(u=103558;u<=103560;u++)b[u]=0;for(u=103571;u<=103573;u++)b[u]=0;for(u=103574;u<=103576;u++)b[u]=2;for(u=103577;u<=103580;u++)b[u]=0;for(u=103581;u<=103583;u++)b[u]=2;for(u=103595;u<=103694;u++)b[u]=0;for(u=103696;u<=103699;u++)b[u]=0;for(u=103700;u<=103793;u++)b[u]=2;for(u=103794;u<=103890;u++)b[u]=0;for(u=103891;u<=103896;u++)b[u]=2;for(u=103900;u<=103971;u++)b[u]=2;for(u=103972;u<=103977;u++)b[u]=0;for(u=112e3;u<=112101;u++)b[u]=0;const FA=[102100,102113,3857,3785],QV=[104905,104971],XV=[4326,...FA,...QV],F3='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',qf=[-20037508342788905e-9,20037508342788905e-9],Zf=[-20037508342787e-6,20037508342787e-6],jA={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:qf,origin:Zf,dx:1e-5},102100:{wkTemplate:F3,valid:qf,origin:Zf,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:qf,origin:Zf,dx:1e-5},3857:{wkTemplate:F3,valid:qf,origin:Zf,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function Et(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const r=e.wkid,n=t.wkid;if(r!=null||n!=null){if(r===n||Ni(e)&&Ni(t))return!0;const o=e.latestWkid;if(o!=null&&n===o)return!0;const a=t.latestWkid;return a!=null&&r===a}let i,s;return e.wkt2&&t.wkt2?(i=e.wkt2,s=t.wkt2):e.wkt&&t.wkt&&(i=e.wkt,s=t.wkt),!(!i||!s)&&i.toUpperCase()===s.toUpperCase()}function Or(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&jA[t]||null}function Lg(e){if(!e)return;const{wkid:t,vcsWkid:r}=e;if(t)return r?JSON.stringify({wkid:t,vcsWkid:r}):String(t);const n=e.wkt||e.wkt2;return JSON.stringify(n?r?{wkt:n,vcsWkid:r}:{wkt:n}:{})}function ef(e){if(!Wr(e))return!1;const{wkid:t}=e;if(t)return b[t]==null;const r=e.wkt2||e.wkt;return!!r&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(r)}function eG(e){return!(zA(e)||UA(e))}function Ll(e){return(e==null?void 0:e.wkid)===4326}function Xce(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function j3(e){return(e==null?void 0:e.wkid)===Rl.CGCS2000}function Ni(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&FA.includes(t)}function tG(e){return(e==null?void 0:e.wkid)===32662}function ev(e){return e===Rl.GCSMARS2000||e===Rl.GCSMARS2000_SPHERE}function zA(e){return ev(e==null?void 0:e.wkid)}function tv(e){return e===Rl.GCSMOON2000}function UA(e){return tv(e==null?void 0:e.wkid)}function rG(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&XV.includes(t)}function Wr(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const VA={wkid:4326,wkt:T$(jA[4326].wkTemplate,{Central_Meridian:"0.0"})},GA={wkid:102100,latestWkid:3857},nG={wkid:32662};function Q$(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const iG=Q$(ut),X$=Q$(Ii),ex=Q$(Qo),sG={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${ut.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},oG=X$.wkt.toUpperCase(),aG=ex.wkt.toUpperCase();function lG(e){if(e!=null&&Wr(e)){const t=e.wkid,r=e.wkt2??e.wkt;if(ev(t))return Ii;const n=r==null?void 0:r.toUpperCase();if(r&&n===oG)return Ii;if(tv(t)||n&&n===aG)return Qo}return ut}function ede(e){return ev(e)?Ii:tv(e)?Qo:ut}function Ng(e){return Et(e,iG)}function Xo(e){return Ng(e)||Et(e,X$)||Et(e,ex)}const WA=39.37,uG=ut.radius*Math.PI/200,BA=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,bl=b,HA=/UNIT\[([^\]]+)]/i,cG=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),dG=Ir()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),ai=e=>e*e,Fs=e=>e*e*e,Sp={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:ai(.001)},"square-centimeters":{inBaseUnits:ai(.01)},"square-decimeters":{inBaseUnits:ai(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:ai(1e3)},"square-inches":{inBaseUnits:ai(.0254)},"square-feet":{inBaseUnits:ai(.3048)},"square-yards":{inBaseUnits:ai(.9144)},"square-miles":{inBaseUnits:ai(1609.344)},"square-us-feet":{inBaseUnits:ai(1200/3937)},acres:{inBaseUnits:.0015625*ai(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Fs(.001)},"cubic-centimeters":{inBaseUnits:1e3*Fs(.01)},"cubic-decimeters":{inBaseUnits:1e3*Fs(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Fs(1e3)},"cubic-inches":{inBaseUnits:1e3*Fs(.0254)},"cubic-feet":{inBaseUnits:1e3*Fs(.3048)},"cubic-yards":{inBaseUnits:1e3*Fs(.9144)},"cubic-miles":{inBaseUnits:1e3*Fs(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},hG=(()=>{const e={};for(const t in Sp)for(const r in Sp[t].units)e[r]=t;return e})();function pG(e,t,r){return e*Sp[r].units[t].inBaseUnits}function fG(e,t,r){return e/Sp[r].units[t].inBaseUnits}function Y_(e){const t=hG[e];if(!t)throw new Error("unknown type");return t}function z3(e,t=null){return t=t||Y_(e),Sp[t].baseUnit===e}function qA(e,t,r){if(t===r)return e;const n=Y_(t);if(n!==Y_(r))throw new Error("incompatible units");const i=z3(t,n)?e:pG(e,t,n);return z3(r,n)?i:fG(i,r,n)}function tde(e,t,r){return qA(e,t,"meters")/(r*Math.PI/180)}function ZA(e){return dG.fromJSON(e.toLowerCase())||null}function U3(e){if(e!=null&&!eG(e))return 1;const t=Vi(e);return t>1e5?1:t}function mG(e){return Vi(e)>=lG(e).metersPerDegree?"meters":KA(e)}function Vi(e,t=ut.metersPerDegree){return yG(e,!0)??t}function yG(e,t=!1){const r=(e==null?void 0:e.wkid)??null,n=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let i=null;if(r){if(ev(r))return Ii.metersPerDegree;if(tv(r))return Qo.metersPerDegree;i=bl.values[bl[r]],!i&&t&&cG.has(r)&&(i=uG)}else n&&(QA(n)?i=V3(BA.exec(n),i):YA(n)&&(i=V3(HA.exec(n),i)));return i}function rde(e){return ef(e)?1:Vi(e)}function V3(e,t){return e!=null&&e[1]?JA(e[1]):t}function JA(e){return parseFloat(e.split(",")[1])}function KA(e){const t=(e==null?void 0:e.wkid)??null,r=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let n=null;if(t)n=bl.units[bl[t]];else if(r){const i=QA(r)?BA:YA(r)?HA:null;if(i){const s=i.exec(r);s!=null&&s[1]&&(n=vG(s[1]))}}return n!=null?ZA(n):null}function YA(e){return/^GEOCCS/i.test(e)}function QA(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const gG=1e-7;function vG(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let r=t==null?void 0:t[1];if(!r||!bl.units.includes(r)){const n=JA(e);r=null;const i=bl.values;for(let s=0;s<i.length;++s)if(Math.abs(n-i[s])<gG){r=bl.units[s];break}}return r}const wG={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},_G={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},bG={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},nde=Ir()(wG),ide=Ir()(_G),sde=Ir()(bG);var ci;let we=ci=class extends B{static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return ci.WebMercator;if(e.wkid===4326)return ci.WGS84}const t=new ci;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Ll(this)}get isWebMercator(){return Ni(this)}get isGeographic(){return ef(this)}get isWrappable(){return rG(this)}get metersPerUnit(){return Vi(this)}get unit(){return KA(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===ci.WGS84)return new ci(VA);if(this===ci.WebMercator)return new ci(GA);const e=new ci;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=L(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return t==null||n?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):r?i.id===t&&i.referenceServiceName===r:i.id===t}return Et(this,e)}toJSON(e){return this.write(void 0,e)}};we.GCS_NAD_1927=null,we.WGS84=null,we.WebMercator=null,we.PlateCarree=null,c([h({readOnly:!0})],we.prototype,"isWGS84",null),c([h({readOnly:!0})],we.prototype,"isWebMercator",null),c([h({readOnly:!0})],we.prototype,"isGeographic",null),c([h({readOnly:!0})],we.prototype,"isWrappable",null),c([h({type:Qe,json:{write:!0}})],we.prototype,"latestWkid",void 0),c([h({readOnly:!0})],we.prototype,"metersPerUnit",null),c([h({readOnly:!0})],we.prototype,"unit",null),c([h({type:Qe,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],we.prototype,"wkid",void 0),c([h({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],we.prototype,"wkt",void 0),c([ge("wkt"),ge("web-scene","wkt")],we.prototype,"writeWkt",null),c([h({type:String,json:{write:!1}})],we.prototype,"wkt2",void 0),c([h({type:Qe,json:{write:!0}})],we.prototype,"vcsWkid",void 0),c([h({type:Qe,json:{write:!0}})],we.prototype,"latestVcsWkid",void 0),c([h()],we.prototype,"imageCoordinateSystem",void 0),we=ci=c([M("esri.geometry.SpatialReference")],we),we.prototype.toJSON.isDefaultToJSON=!0,we.GCS_NAD_1927=new we({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),we.WGS84=new we(VA),we.WebMercator=new we(GA),we.PlateCarree=new we(nG),Object.freeze&&(Object.freeze(we.GCS_NAD_1927),Object.freeze(we.WGS84),Object.freeze(we.WebMercator),Object.freeze(we.PlateCarree));const he=we;let di=class extends B{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=he.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,r){if(t instanceof he)return t;if(t!=null){const n=new he;return n.read(t,r),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,r){this.cache[t]=r}};c([h()],di.prototype,"type",void 0),c([h({readOnly:!0})],di.prototype,"cache",null),c([h({readOnly:!0})],di.prototype,"extent",null),c([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],di.prototype,"hasM",void 0),c([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],di.prototype,"hasZ",void 0),c([h({type:he,json:{write:!0},value:he.WGS84})],di.prototype,"spatialReference",void 0),c([Me("spatialReference")],di.prototype,"readSpatialReference",null),di=c([M("esri.geometry.Geometry")],di);const Ls=di,SG=57.29577951308232,$G=.017453292519943;function G3(e){return e*SG}function W3(e){return e*$G}function ade(e){return Math.PI/2-2*Math.atan(Math.exp(-e/ut.radius))}function Q_(e){return e.wkid!=null||e.wkt!=null}const $1=[0,0];function Dg(e,t,r,n,i){const s=e,o=i;if(o.spatialReference=r,"x"in s&&"x"in o)[o.x,o.y]=t(s.x,s.y,$1,n);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=t(s.xmin,s.ymin,$1,n),[o.xmax,o.ymax]=t(s.xmax,s.ymax,$1,n);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let d;for(let p=0;p<a.length;p++){const f=a[p];d=[],l.push(d);for(let m=0;m<f.length;m++)d.push(t(f[m][0],f[m][1],[0,0],n)),f[m].length>2&&d[m].push(f[m][2]),f[m].length>3&&d[m].push(f[m][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let d=0;d<a.length;d++)l[d]=t(a[d][0],a[d][1],[0,0],n),a[d].length>2&&l[d].push(a[d][2]),a[d].length>3&&l[d].push(a[d][3]);o.points=l}return i}function Jm(e,t){const r=e&&(Q_(e)?e:e.spatialReference),n=t&&(Q_(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!n)&&(!!Et(n,r)||Ni(n)&&Ll(r)||Ni(r)&&Ll(n))}function rv(e,t){if(e==null)return null;const r=e.spatialReference,n=t&&(Q_(t)?t:t.spatialReference);return Jm(r,n)?Et(r,n)?L(e):Ni(n)?Dg(e,Qu,he.WebMercator,!1,L(e)):Ll(n)?Dg(e,nv,he.WGS84,!1,L(e)):null:null}function Qu(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=W3(t);return r[0]=W3(e)*ut.radius,r[1]=ut.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),r}function nv(e,t,r=[0,0],n=!1){const i=G3(e/ut.radius);return r[0]=n?i:i-360*Math.floor((i+180)/360),r[1]=G3(Math.PI/2-2*Math.atan(Math.exp(-t/ut.radius))),r}function Ho(e,t=!1,r=L(e)){return Dg(e,Qu,he.WebMercator,t,r)}function Ud(e,t=!1,r=L(e)){return Dg(e,nv,he.WGS84,t,r)}function XA(e,t){const r=e.x-t.x,n=e.y-t.y,i=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(r*r+n*n+i*i)}function xG(e){var t;return((t=eR(e,tR))==null?void 0:t[0])??null}function TG(e){var t;return((t=eR(e,tR))==null?void 0:t[1])??null}function eR({x:e,y:t,spatialReference:r},n=[0,0]){if(r){if(Ni(r))return nv(e,t,n);if(ef(r))return n[0]=e,n[1]=t,n}return null}const tR=[0,0];var Km;const x1=[0,0];function B3(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let ar=Km=class extends Ls{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,n,i){let s;if(Array.isArray(e))s=e,i=t,e=s[0],t=s[1],r=s[2],n=s[3];else if(e&&typeof e=="object"){if(s=e,e=s.x!=null?s.x:s.longitude,t=s.y!=null?s.y:s.latitude,r=s.z,n=s.m,(i=s.spatialReference)&&i.declaredClass!=="esri.geometry.SpatialReference"&&(i=new he(i)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)z.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)z.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&(i!=null&&i.isWebMercator)){const a=Qu(s.longitude,s.latitude,x1);e=a[0],t=a[1]}}}else B3(r)?(i=r,r=null):B3(n)&&(i=n,n=null);const o={x:e,y:t};return o.x==null&&o.y!=null?z.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&z.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),i!=null&&(o.spatialReference=i),r!=null&&(o.z=r),n!=null&&(o.m=n),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return TG(this)}set latitude(e){const{spatialReference:t,x:r}=this;e!=null&&t&&(t.isWebMercator?this._set("y",Qu(r,e,x1)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return xG(this)}set longitude(e){const{y:t,spatialReference:r}=this;e!=null&&r&&(r.isWebMercator?this._set("x",Qu(e,t,x1)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new Km;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return Km.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:r,z:n,m:i,spatialReference:s}=this,{z:o,m:a}=e;let{x:l,y:d,spatialReference:p}=e;if(!s.equals(p))if(s.isWebMercator&&p.isWGS84)[l,d]=Qu(l,d),p=s;else{if(!s.isWGS84||!p.isWebMercator)return!1;[l,d]=nv(l,d),p=s}return t===l&&r===d&&n===o&&i===a&&s.wkid===p.wkid}offset(e,t,r){return this.x+=e,this.y+=t,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=Or(this.spatialReference);if(!e)return this;let t=this.x;const[r,n]=e.valid,i=2*n;let s;return t>n?(s=Math.ceil(Math.abs(t-n)/i),t-=s*i):t<r&&(s=Math.ceil(Math.abs(t-r)/i),t+=s*i),this._set("x",t),this}distance(e){return XA(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};c([h({readOnly:!0})],ar.prototype,"cache",null),c([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ar.prototype,"hasM",null),c([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ar.prototype,"hasZ",null),c([h({type:Number})],ar.prototype,"latitude",null),c([h({type:Number})],ar.prototype,"longitude",null),c([h({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Lt(e=>isNaN(e)?e:Hn(e))],ar.prototype,"x",void 0),c([ge("x")],ar.prototype,"writeX",null),c([Me("x")],ar.prototype,"readX",null),c([h({type:Number,json:{write:!0}})],ar.prototype,"y",void 0),c([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ar.prototype,"z",void 0),c([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],ar.prototype,"m",void 0),ar=Km=c([M("esri.geometry.Point")],ar),ar.prototype.toJSON.isDefaultToJSON=!0;const Q=ar;let hi=class extends Ui(B){constructor(...t){super(...t),this.position=new Q([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new X4}normalizeCtorArgs(t,r,n,i){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const s={position:t};return r!=null&&(s.heading=r),n!=null&&(s.tilt=n),i!=null&&(s.fov=i),s}return t}writePosition(t,r,n,i){const s=t.clone();s.x=Hn(t.x||0),s.y=Hn(t.y||0),s.z=t.hasZ?Hn(t.z||0):t.z,r[n]=s.write({},i)}readPosition(t,r){const n=new Q;return n.read(t,r),n.x=Hn(n.x||0),n.y=Hn(n.y||0),n.z=n.hasZ?Hn(n.z||0):n.z,n}equals(t){return t!=null&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};c([h({type:Q,json:{write:{isRequired:!0}}})],hi.prototype,"position",void 0),c([ge("position")],hi.prototype,"writePosition",null),c([Me("position")],hi.prototype,"readPosition",null),c([h({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Lt(e=>DU.normalize(Hn(e)))],hi.prototype,"heading",void 0),c([h({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Lt(e=>Ri(Hn(e),-180,180))],hi.prototype,"tilt",void 0),c([h({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],hi.prototype,"fov",void 0),c([h({type:X4,nonNullable:!0,json:{read:!1,write:!1}})],hi.prototype,"layout",void 0),hi=c([M("esri.Camera")],hi);const MG=hi,T1=[0,0];function tf(e,t){return t!=null&&hr(e,t.x,t.y,t.z)}function ude(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!Nc(e,r))return!1;return!0}function EG(e,t){const{xmin:r,ymin:n,zmin:i,xmax:s,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?hr(e,r,n,i)&&hr(e,r,o,i)&&hr(e,s,o,i)&&hr(e,s,n,i)&&hr(e,r,n,a)&&hr(e,r,o,a)&&hr(e,s,o,a)&&hr(e,s,n,a):hr(e,r,n)&&hr(e,r,o)&&hr(e,s,o)&&hr(e,s,n)}function Nc(e,t){return hr(e,t[0],t[1])}function kG(e,t){return hr(e,t[0],t[1],t[2])}function hr(e,t,r,n){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(n==null||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function tx(e,t){return T1[1]=t.y,T1[0]=t.x,PG(e,T1)}function PG(e,t){return rx(e.rings,t)}function rx(e,t){if(!e)return!1;if(CG(e))return H3(!1,e,t);let r=!1;for(let n=0,i=e.length;n<i;n++)r=H3(r,e[n],t);return r}function CG(e){return!Array.isArray(e[0][0])}function H3(e,t,r){const[n,i]=r;let s=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[d,p]=t[a],[f,m]=t[o];(p<i&&m>=i||m<i&&p>=i)&&d+(i-p)/(m-p)*(f-d)<n&&(s=!s)}return s}function OG(e,t){return tf(e,t)}function IG(e,t){const r=e.hasZ&&t.hasZ;let n,i,s;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1}return!0}function AG(e,t){const{points:r,hasZ:n}=t,i=n?kG:Nc;for(const s of r)if(i(e,s))return!0;return!1}const Nl=[0,0],Dl=[0,0],Fl=[0,0],jl=[0,0],RG=[Nl,Dl,Fl,jl],rR=[[Fl,Nl],[Nl,Dl],[Dl,jl],[jl,Fl]];function LG(e,t){return NG(e,t.rings)}function NG(e,t){Nl[0]=e.xmin,Nl[1]=e.ymax,Dl[0]=e.xmax,Dl[1]=e.ymax,Fl[0]=e.xmin,Fl[1]=e.ymin,jl[0]=e.xmax,jl[1]=e.ymin;for(const r of RG)if(rx(t,r))return!0;for(const r of t){if(!r.length)continue;let n=r[0];if(Nc(e,n))return!0;for(let i=1;i<r.length;i++){const s=r[i];if(Nc(e,s)||nR(n,s,rR))return!0;n=s}}return!1}function DG(e,t){Nl[0]=e.xmin,Nl[1]=e.ymax,Dl[0]=e.xmax,Dl[1]=e.ymax,Fl[0]=e.xmin,Fl[1]=e.ymin,jl[0]=e.xmax,jl[1]=e.ymin;const r=t.paths;for(const n of r){if(!r.length)continue;let i=n[0];if(Nc(e,i))return!0;for(let s=1;s<n.length;s++){const o=n[s];if(Nc(e,o)||nR(i,o,rR))return!0;i=o}}return!1}const Pt=[0,0];function FG(e){for(let t=0;t<e.length;t++){const r=e[t];for(let i=0;i<r.length-1;i++){const s=r[i],o=r[i+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const d=e[a][l],p=e[a][l+1];if(X_(s,o,d,p,Pt)&&!(Pt[0]===s[0]&&Pt[1]===s[1]||Pt[0]===d[0]&&Pt[1]===d[1]||Pt[0]===o[0]&&Pt[1]===o[1]||Pt[0]===p[0]&&Pt[1]===p[1]))return!0}}const n=r.length;if(!(n<=4))for(let i=0;i<n-3;i++){let s=n-1;i===0&&(s=n-2);const o=r[i],a=r[i+1];for(let l=i+2;l<s;l++){const d=r[l],p=r[l+1];if(X_(o,a,d,p,Pt)&&!(Pt[0]===o[0]&&Pt[1]===o[1]||Pt[0]===d[0]&&Pt[1]===d[1]||Pt[0]===a[0]&&Pt[1]===a[1]||Pt[0]===p[0]&&Pt[1]===p[1]))return!0}}}return!1}function nR(e,t,r){for(let n=0;n<r.length;n++)if(X_(e,t,r[n][0],r[n][1]))return!0;return!1}function X_(e,t,r,n,i){const[s,o]=e,[a,l]=t,[d,p]=r,[f,m]=n,y=f-d,g=s-d,v=a-s,S=m-p,w=o-p,_=l-o,$=S*v-y*_;if($===0)return!1;const x=(y*w-S*g)/$,T=(v*w-_*g)/$;return x>=0&&x<=1&&T>=0&&T<=1&&(i&&(i[0]=s+x*(a-s),i[1]=o+x*(l-o)),!0)}function jG(e){switch(e){case"esriGeometryEnvelope":case"extent":return IG;case"esriGeometryMultipoint":case"multipoint":return AG;case"esriGeometryPoint":case"point":return OG;case"esriGeometryPolygon":case"polygon":return LG;case"esriGeometryPolyline":case"polyline":return DG}}var nn;function zG(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function js(e,t,r){return t==null?r:r==null?t:e(t,r)}let _t=nn=class extends Ls{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,n,i){return zG(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?he.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:i??he.WGS84}}static fromBounds(e,t){return new nn({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new nn({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Q({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new nn;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Jm(t,r)&&(e=t.isWebMercator?Ho(e):Ud(e,!0)),e.type==="point"?tf(this,e):e.type==="extent"&&EG(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Jm(t,r)&&(e=t.isWebMercator?Ho(e):Ud(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,n=this.height*t;if(this.xmin+=r,this.ymin+=n,this.xmax-=r,this.ymax-=n,this.hasZ){const i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){const i=(this.mmax-this.mmin)*t;this.mmin+=i,this.mmax-=i}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!Et(t,r)&&Jm(t,r)&&(e=t.isWebMercator?Ho(e):Ud(e,!0)),jG(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=js(Math.min,this.zmin,e.zmin),this.zmax=js(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=js(Math.min,this.mmin,e.mmin),this.mmax=js(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=js(Math.max,this.zmin,e.zmin),this.zmax=js(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=js(Math.max,this.mmin,e.mmin),this.mmax=js(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=Or(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const n=t.isWebMercator?Ud(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(n.x=M1(n.x,e).x),this.spatialReference=new he(T$((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(e){let t=null;const[r,n]=e.valid,i=this.xmin,s=this.xmax;return i>=r&&i<=n&&s>=r&&s<=n||(t=this.center),t}_normalize(e,t,r){const n=this.spatialReference;if(!n)return this;const i=r??Or(n);if(i==null)return this;const s=this._getParts(i).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const d=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const p=(l.zmax-l.zmin)/2;for(let f=0;f<d.length;f++)d[f].push(p)}if(a){const p=(l.mmax-l.mmin)/2;for(let f=0;f<d.length;f++)d[f].push(p)}return d}),hasZ:o,hasM:a,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:i,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,d=this.xmax;let p;e=e||Or(o);const[f,m]=e.valid;p=M1(this.xmin,e);const y=p.x,g=p.frameId;p=M1(this.xmax,e);const v=p.x,S=p.frameId,w=y===v&&a>0;if(a>2*m){const _=new nn(l<d?y:v,i,m,s,o),$=new nn(f,i,l<d?v:y,s,o),x=new nn(0,i,m,s,o),T=new nn(f,i,0,s,o),E=[],P=[];_.contains(x)&&E.push(g),_.contains(T)&&P.push(g),$.contains(x)&&E.push(S),$.contains(T)&&P.push(S);for(let O=g+1;O<S;O++)E.push(O),P.push(O);t.push({extent:_,frameIds:[g]},{extent:$,frameIds:[S]},{extent:x,frameIds:E},{extent:T,frameIds:P})}else y>v||w?t.push({extent:new nn(y,i,m,s,o),frameIds:[g]},{extent:new nn(f,i,v,s,o),frameIds:[S]}):t.push({extent:new nn(y,i,v,s,o),frameIds:[g]});this.cache._parts=t}const r=this.hasZ,n=this.hasM;if(r||n){const i={};r&&(i.zmin=this.zmin,i.zmax=this.zmax),n&&(i.mmin=this.mmin,i.mmax=this.mmax);for(let s=0;s<t.length;s++)t[s].extent.set(i)}return t}};function M1(e,t){const[r,n]=t.valid,i=2*n;let s,o=0;return e>n?(s=Math.ceil(Math.abs(e-n)/i),e-=s*i,o=s):e<r&&(s=Math.ceil(Math.abs(e-r)/i),e+=s*i,o=-s),{x:e,frameId:o}}c([h({readOnly:!0})],_t.prototype,"cache",null),c([h({readOnly:!0})],_t.prototype,"center",null),c([h({readOnly:!0})],_t.prototype,"extent",null),c([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],_t.prototype,"hasM",null),c([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],_t.prototype,"hasZ",null),c([h({readOnly:!0})],_t.prototype,"height",null),c([h({readOnly:!0})],_t.prototype,"width",null),c([h({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],_t.prototype,"xmin",void 0),c([h({type:Number,json:{write:!0}})],_t.prototype,"ymin",void 0),c([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],_t.prototype,"mmin",void 0),c([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],_t.prototype,"zmin",void 0),c([h({type:Number,json:{write:!0}})],_t.prototype,"xmax",void 0),c([h({type:Number,json:{write:!0}})],_t.prototype,"ymax",void 0),c([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],_t.prototype,"mmax",void 0),c([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],_t.prototype,"zmax",void 0),_t=nn=c([M("esri.geometry.Extent")],_t),_t.prototype.toJSON.isDefaultToJSON=!0;const Le=_t;function Dc(e,t,r=!1){let{hasM:n,hasZ:i}=e;Array.isArray(t)?t.length!==4||n||i?t.length===3&&r&&!n?(i=!0,n=!1):t.length===3&&n&&i&&(n=!1,i=!1):(n=!0,i=!0):(i=!i&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=n}var e2;function q3(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function UG(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Zs=e2=class extends Ls{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){var i;if(!e&&!t)return{};const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):UG(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const n=(i=r.points)==null?void 0:i[0];return n&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=n.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=n.length>3:r.hasM===void 0&&(r.hasM=n.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Le,r=this.hasZ,n=this.hasM,i=r?3:2,s=e[0],o=q3(Math.min),a=q3(Math.max);let l,d,p,f,[m,y]=s,[g,v]=s;for(let S=0,w=e.length;S<w;S++){const _=e[S],[$,x]=_;if(m=o(m,$),y=o(y,x),g=a(g,$),v=a(v,x),r&&_.length>2){const T=_[2];l=o(l,T),p=a(p,T)}if(n&&_.length>i){const T=_[i];d=o(d,T),f=a(f,T)}}return t.xmin=m,t.ymin=y,t.xmax=g,t.ymax=v,t.spatialReference=this.spatialReference,r?(t.zmin=l,t.zmax=p):(t.zmin=void 0,t.zmax=void 0),n?(t.mmin=d,t.mmax=f):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=L(this.points)}addPoint(e){return Dc(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:L(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new e2(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(r.z=t[2],n=3),this.hasM&&(r.m=t[n]),new Q(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Q(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Dc(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};c([h({readOnly:!0})],Zs.prototype,"cache",null),c([h()],Zs.prototype,"extent",null),c([h({type:[[Number]],json:{write:{isRequired:!0}}})],Zs.prototype,"points",void 0),c([ge("points")],Zs.prototype,"writePoints",null),Zs=e2=c([M("esri.geometry.Multipoint")],Zs),Zs.prototype.toJSON.isDefaultToJSON=!0;const iv=Zs;function cde(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t}function VG(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var Fg;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(Fg||(Fg={}));function nx(e,t){const r=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}return Math.sqrt(r*r+n*n)}function GG(e,t,r){const n=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[n,i,e[2]+r*(t[2]-e[2])]:[n,i]}function WG(e,t,r,n){return BG(e,t,r[n],r[n+1])}function BG(e,t,r,n){const[i,s]=t,[o,a]=r,[l,d]=n,p=l-o,f=d-a,m=p*p+f*f,y=(i-o)*p+(s-a)*f,g=Math.min(1,Math.max(0,y/m));return e[0]=o+p*g,e[1]=a+f*g,e}function dde(e,t,r,n,i,s){let o=r,a=n,l=i-o,d=s-a;if(l!==0||d!==0){const p=((e-o)*l+(t-a)*d)/(l*l+d*d);p>1?(o=i,a=s):p>0&&(o+=l*p,a+=d*p)}return l=e-o,d=t-a,l*l+d*d}function iR(e,t){return GG(e,t,.5)}function hde(e){const t=e.length;let r=0;for(let n=0;n<t-1;++n)r+=nx(e[n],e[n+1]);return r}function sR(e,t=Fg.X,r=Fg.Y){let n=0;const i=e.length;let s=e[0];for(let o=1;o<i;o++){const a=e[o];n+=(a[t]-s[t])*(a[r]+s[r]),s=a}if(!oR(e)){const o=e[0];n+=(o[t]-s[t])*(o[r]+s[r])}return n>=0}function oR(e){const t=e.length;return t<3||U0(e[0],e[t-1])}function pde(e){"rings"in e&&(HG(e),qG(e))}function HG(e){if(!("rings"in e))return!1;let t=!1;for(const r of e.rings)oR(r)||(r.push(r[0].slice()),t=!0);return t}function qG(e){if(!("rings"in e)||e.rings.length===0||sR(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function fde(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function ZG(e){return e?JG(e.rings,e.hasZ??!1):null}function JG(e,t){if(!(e!=null&&e.length))return null;const r=[],n=[],i=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=e.length;s<o;s++){const a=aR(e[s],t,i);a&&n.push(a)}if(n.sort((s,o)=>{let a=s[2]-o[2];return a===0&&t&&(a=s[4]-o[4]),a}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<i[0]||r[0]>i[1]||r[1]<i[2]||r[1]>i[3]||t&&(r[2]<i[4]||r[2]>i[5]))&&(r.length=0)),!r.length){const s=e[0]&&e[0].length?KG(e[0],t):null;if(!s)return null;r[0]=s[0],r[1]=s[1],t&&s.length>2&&(r[2]=s[2])}return r}function aR(e,t,r){let n=0,i=0,s=0,o=0,a=0;const l=e.length?e[0][0]:0,d=e.length?e[0][1]:0,p=e.length&&t?e[0][2]:0;for(let m=0;m<e.length;m++){const y=e[m],g=e[(m+1)%e.length],[v,S,w]=y,_=v-l,$=S-d,[x,T,E]=g,P=x-l,O=T-d,A=_*O-P*$;if(o+=A,n+=(_+P)*A,i+=($+O)*A,t&&y.length>2&&g.length>2){const R=w-p,G=E-p,Z=_*G-P*R;s+=(R+G)*Z,a+=Z}v<r[0]&&(r[0]=v),v>r[1]&&(r[1]=v),S<r[2]&&(r[2]=S),S>r[3]&&(r[3]=S),t&&(w<r[4]&&(r[4]=w),w>r[5]&&(r[5]=w))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const f=[n/(6*o)+l,i/(6*o)+d,o];return t&&(r[4]===r[5]||a===0?(f[3]=(r[4]+r[5])/2,f[4]=0):(f[3]=s/(6*a)+p,f[4]=a)),f}function mde(e,t){let r=0,n=0,i=0;e.nextPoint();const s=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const d=[e.x,e.y],[p,f]=l,m=p-s,y=f-o,[g,v]=d,S=g-s,w=v-o,_=m*w-S*y;i+=_,r+=(m+S)*_,n+=(y+w)*_,p<t[0]&&(t[0]=p),p>t[1]&&(t[1]=p),f<t[2]&&(t[2]=f),f>t[3]&&(t[3]=f)}return i>0&&(i*=-1),i?(i*=.5,[r/(6*i)+s,n/(6*i)+o,i]):null}function KG(e,t){const r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let i=0,s=0,o=0,a=0;for(let l=0,d=e.length;l<d-1;l++){const p=e[l],f=e[l+1];if(p&&f){r[0]=p[0],r[1]=p[1],n[0]=f[0],n[1]=f[1],t&&p.length>2&&f.length>2&&(r[2]=p[2],n[2]=f[2]);const m=nx(r,n);if(m){i+=m;const y=iR(p,f);s+=m*y[0],o+=m*y[1],t&&y.length>2&&(a+=m*y[2])}}}return i>0?t?[s/i,o/i,a/i]:[s/i,o/i]:e.length?e[0]:null}function YG(e){const{hasZ:t,totalSize:r}=e;if(r===0)return null;const n=[],i=[],s=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=aR(VG(e),e.hasZ,s);o&&i.push(o)}if(i.sort((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l}),i.length&&(n[0]=i[0][0],n[1]=i[0][1],t&&(n[2]=i[0][3]),(n[0]<s[0]||n[0]>s[1]||n[1]<s[2]||n[1]>s[3]||t&&(n[2]<s[4]||n[2]>s[5]))&&(n.length=0)),!n.length){e.reset(),e.nextPath();const o=e.pathSize?QG(e):null;if(!o)return null;n[0]=o[0],n[1]=o[1],t&&o.length>2&&(n[2]=o[2])}return n}function QG(e){const{hasZ:t}=e,r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let i=0,s=0,o=0,a=0;if(e.nextPoint()){let l=e.x,d=e.y,p=e.z;for(;e.nextPoint();){const f=e.x,m=e.y,y=e.z;r[0]=l,r[1]=d,n[0]=f,n[1]=m,t&&(r[2]=p,n[2]=y);const g=nx(r,n);if(g){i+=g;const v=iR(r,n);s+=g*v[0],o+=g*v[1],t&&v.length>2&&(a+=g*v[2])}l=f,d=m,p=y}}return i>0?t?[s/i,o/i,a/i]:[s/i,o/i]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const XG=1e-6;function yde(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<XG){const i=YG(e);return i?[i[0],i[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const n=[e.x,e.y];for(e.reset();e.nextPath();)tW(r,n,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=n[0],r[1]+=n[1],r}const eW=1/3;function tW(e,t,r){if(!e||!r||r.pathSize<3)return null;r.nextPoint();const n=r.x,i=r.y;r.nextPoint();let s,o=r.x-n,a=r.y-i,l=0,d=0;for(;r.nextPoint();)l=r.x-n,d=r.y-i,s=.5*eW*(l*a-d*o),e[0]+=s*(o+l),e[1]+=s*(a+d),o=l,a=d;const p=r.getCurrentRingArea(),f=[n,i];return f[0]-=t[0],f[1]-=t[1],f[0]*=p,f[1]*=p,e[0]+=f[0],e[1]+=f[1],e}function Mr(e=nW){return[e[0],e[1],e[2],e[3]]}function lR(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function gde(e,t,r,n,i=Mr()){return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function vde(e,t=Mr()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function wde(e,t){return new Le({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function _de(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function bde(e,t,r){if(t!=null)if("length"in t)t2(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else lR(r,e)}function uR(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function cR(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function Sde(e){return uR(e)*cR(e)}function $de(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function xde(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function rW(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function Tde(e){return e?lR(e,Z3):Mr(Z3)}function t2(e){return e!=null&&e.length===4}function Mde(e,t){return t2(e)&&t2(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const Z3=[1/0,1/0,-1/0,-1/0],nW=[0,0,0,0];function dR(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function hR(e){return e.points!==void 0}function pR(e){return e.x!==void 0&&e.y!==void 0}function fR(e){return e.paths!==void 0}function mR(e){return e.rings!==void 0}function yR(e){function t(r,n){return r==null?n:n==null?r:e(r,n)}return t}const Ao=yR(Math.min),Ro=yR(Math.max);function Ede(e,t){return fR(t)?Fc(e,t.paths,!1,!1):mR(t)?Fc(e,t.rings,!1,!1):hR(t)?ix(e,t.points,!1,!1,!1,!1):dR(t)?gR(e,t):(pR(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function kde(e){let t,r,n,i;for(e.reset(),t=n=1/0,r=i=-1/0;e.nextPath();){const s=iW(e);t=Math.min(s[0],t),n=Math.min(s[1],n),r=Math.max(s[2],r),i=Math.max(s[3],i)}return Mr([t,n,r,i])}function iW(e){let t,r,n,i;for(t=n=1/0,r=i=-1/0;e.nextPoint();)t=Math.min(e.x,t),n=Math.min(e.y,n),r=Math.max(e.x,r),i=Math.max(e.y,i);return Mr([t,n,r,i])}function Pde(e,t){return fR(t)?Fc(e,t.paths,!0,!1):mR(t)?Fc(e,t.rings,!0,!1):hR(t)?ix(e,t.points,!0,!1,!0,!1):dR(t)?gR(e,t,!0,!1,!0,!1):(pR(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Fc(e,t,r,n){const i=r?3:2;if(!t.length||!t[0].length)return null;let s,o,a,l,[d,p]=t[0][0],[f,m]=t[0][0];for(let y=0;y<t.length;y++){const g=t[y];for(let v=0;v<g.length;v++){const S=g[v],[w,_]=S;if(d=Ao(d,w),p=Ao(p,_),f=Ro(f,w),m=Ro(m,_),r&&S.length>2){const $=S[2];s=Ao(s,$),o=Ro(o,$)}if(n&&S.length>i){const $=S[i];a=Ao(s,$),l=Ro(o,$)}}}return r?n?(e[0]=d,e[1]=p,e[2]=s,e[3]=a,e[4]=f,e[5]=m,e[6]=o,e[7]=l,e.length=8,e):(e[0]=d,e[1]=p,e[2]=s,e[3]=f,e[4]=m,e[5]=o,e.length=6,e):n?(e[0]=d,e[1]=p,e[2]=a,e[3]=f,e[4]=m,e[5]=l,e.length=6,e):(e[0]=d,e[1]=p,e[2]=f,e[3]=m,e.length=4,e)}function gR(e,t,r,n,i,s){const o=t.xmin,a=t.xmax,l=t.ymin,d=t.ymax;let p=t.zmin,f=t.zmax,m=t.mmin,y=t.mmax;return i?(p=p||0,f=f||0,s?(m=m||0,y=y||0,e[0]=o,e[1]=l,e[2]=p,e[3]=m,e[4]=a,e[5]=d,e[6]=f,e[7]=y,e):(e[0]=o,e[1]=l,e[2]=p,e[3]=a,e[4]=d,e[5]=f,e)):s?(m=m||0,y=y||0,e[0]=o,e[1]=l,e[2]=m,e[3]=a,e[4]=d,e[5]=y,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=d,e)}function ix(e,t,r,n,i,s){const o=r?3:2,a=n&&s,l=r&&i;if(!t.length||!t[0].length)return null;let d,p,f,m,[y,g]=t[0],[v,S]=t[0];for(let w=0;w<t.length;w++){const _=t[w],[$,x]=_;if(y=Ao(y,$),g=Ao(g,x),v=Ro(v,$),S=Ro(S,x),l&&_.length>2){const T=_[2];d=Ao(d,T),p=Ro(p,T)}if(a&&_.length>o){const T=_[o];f=Ao(d,T),m=Ro(p,T)}}return i?(d=d||0,p=p||0,s?(f=f||0,m=m||0,e[0]=y,e[1]=g,e[2]=d,e[3]=f,e[4]=v,e[5]=S,e[6]=p,e[7]=m,e):(e[0]=y,e[1]=g,e[2]=d,e[3]=v,e[4]=S,e[5]=p,e)):s?(f=f||0,m=m||0,e[0]=y,e[1]=g,e[2]=f,e[3]=v,e[4]=S,e[5]=m,e):(e[0]=y,e[1]=g,e[2]=v,e[3]=S,e)}function sW(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function oW(e){return e.points!==void 0}function aW(e){return e.x!==void 0&&e.y!==void 0}function lW(e){return e.paths!==void 0}function uW(e){return e.rings!==void 0}const sx=[];function vR(e,t,r,n){return{xmin:e,ymin:t,xmax:r,ymax:n}}function wR(e,t,r,n,i,s){return{xmin:e,ymin:t,zmin:r,xmax:n,ymax:i,zmax:s}}function _R(e,t,r,n,i,s){return{xmin:e,ymin:t,mmin:r,xmax:n,ymax:i,mmax:s}}function bR(e,t,r,n,i,s,o,a){return{xmin:e,ymin:t,zmin:r,mmin:n,xmax:i,ymax:s,zmax:o,mmax:a}}function ox(e,t=!1,r=!1){return t?r?bR(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):wR(e[0],e[1],e[2],e[3],e[4],e[5]):r?_R(e[0],e[1],e[2],e[3],e[4],e[5]):vR(e[0],e[1],e[2],e[3])}function Cde(e){return e?sW(e)?e:aW(e)?dW(e):uW(e)?SR(e):lW(e)?$R(e):oW(e)?cW(e):null:null}function cW(e){const{hasZ:t,hasM:r,points:n}=e;return ox(ix(sx,n,t??!1,r??!1),t,r)}function dW(e){const{x:t,y:r,z:n,m:i}=e,s=i!=null;return n!=null?s?bR(t,r,n,i,t,r,n,i):wR(t,r,n,t,r,n):s?_R(t,r,i,t,r,i):vR(t,r,t,r)}function SR(e){const{hasZ:t,hasM:r,rings:n}=e,i=Fc(sx,n,t??!1,r??!1);return i?ox(i,t,r):null}function $R(e){const{hasZ:t,hasM:r,paths:n}=e,i=Fc(sx,n,t??!1,r??!1);return i?ox(i,t,r):null}var Ym;function J3(e){return!Array.isArray(e[0])}let pi=Ym=class extends Ls{static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let n=!1,i=!1;for(const o of t)o.hasZ&&(n=!0),o.hasM&&(i=!0);const s={rings:t.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(n&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let d=0;d<a.length;d++)a[d].push(l)}if(i&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let d=0;d<a.length;d++)a[d].push(l)}return a}),spatialReference:r};return n&&(s.hasZ=!0),i&&(s.hasM=!0),new Ym(s)}constructor(...e){super(...e),this.rings=[],this.type="polygon"}normalizeCtorArgs(e,t){var o,a;let r,n,i=null,s=null;return e&&!Array.isArray(e)?(i=e.rings??null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,n=e.hasM):i=e,i=i||[],t=t||he.WGS84,i.length&&((o=i[0])==null?void 0:o[0])!=null&&typeof i[0][0]=="number"&&(i=[i]),s=(a=i[0])==null?void 0:a[0],s&&(r===void 0&&n===void 0?(r=s.length>2,n=s.length>3):r===void 0?r=n?s.length>3:s.length>2:n===void 0&&(n=r?s.length>3:s.length>2)),{rings:i,spatialReference:t,hasZ:r,hasM:n}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=ZG(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Q;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=SR(this);if(!t)return null;const r=new Le(t);return r.spatialReference=e,r}get isSelfIntersecting(){return FG(this.rings)}writeRings(e,t){t.rings=L(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(J3(e)){const n=[];for(let i=0,s=e.length;i<s;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new Ym;return e.spatialReference=this.spatialReference,e.rings=L(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;if(t!=null!=(r!=null)||t!=null&&r!=null&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const n=([i,s,o,a],[l,d,p,f])=>i===l&&s===d&&(o==null&&p==null||o===p)&&(a==null&&f==null||a===f);for(let i=0;i<this.rings.length;i++){const s=this.rings[i],o=e.rings[i];if(!U0(s,o,n))return!1}return!0}contains(e){if(!e)return!1;const t=rv(e,this.spatialReference);return tx(this,t??e)}isClockwise(e){const t=J3(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e;return sR(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new Q(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new Q(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new Q(r[0],r[1],r[2],r[3],this.spatialReference):new Q(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Dc(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new Q(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new Q(i,r));return this.notifyChange("rings"),n}setPoint(e,t,r){return this._validateInputs(e,t)?(Dc(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const n=this.rings[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};c([h({readOnly:!0})],pi.prototype,"cache",null),c([h({readOnly:!0})],pi.prototype,"centroid",null),c([h({readOnly:!0})],pi.prototype,"extent",null),c([h({readOnly:!0})],pi.prototype,"isSelfIntersecting",null),c([h({type:[[[Number]]],json:{write:{isRequired:!0}}})],pi.prototype,"rings",void 0),c([ge("rings")],pi.prototype,"writeRings",null),pi=Ym=c([M("esri.geometry.Polygon")],pi),pi.prototype.toJSON.isDefaultToJSON=!0;const Di=pi;var r2;function hW(e){return!Array.isArray(e[0])}let Js=r2=class extends Ls{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){var o,a;let r,n,i=null,s=null;return e&&!Array.isArray(e)?(i=e.paths??null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,n=e.hasM):i=e,i=i||[],t=t||he.WGS84,i.length&&((o=i[0])==null?void 0:o[0])!=null&&typeof i[0][0]=="number"&&(i=[i]),s=(a=i[0])==null?void 0:a[0],s&&(r===void 0&&n===void 0?(r=s.length>2,n=!1):r===void 0?r=!n&&s.length>3:n===void 0&&(n=!r&&s.length>3)),{paths:i,spatialReference:t,hasZ:r,hasM:n}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=$R(this);if(!t)return null;const r=new Le(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=L(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(hW(e)){const n=[];for(let i=0,s=e.length;i<s;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new r2;return e.spatialReference=this.spatialReference,e.paths=L(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new Q(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new Q(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new Q(r[0],r[1],r[2],r[3],this.spatialReference):new Q(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Dc(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new Q(i,r));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new Q(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(Dc(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const n=this.paths[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};c([h({readOnly:!0})],Js.prototype,"cache",null),c([h({readOnly:!0})],Js.prototype,"extent",null),c([h({type:[[[Number]]],json:{write:{isRequired:!0}}})],Js.prototype,"paths",void 0),c([ge("paths")],Js.prototype,"writePaths",null),Js=r2=c([M("esri.geometry.Polyline")],Js),Js.prototype.toJSON.isDefaultToJSON=!0;const Zn=Js,pW=Ir()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),Ode=Ir()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function xR(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function TR(e){return e.points!==void 0}function MR(e){return e.x!==void 0&&e.y!==void 0}function ER(e){return e.paths!==void 0}function ax(e){return e.rings!==void 0}function jc(e){return e==null?null:e instanceof Ls?e:MR(e)?Q.fromJSON(e):ER(e)?Zn.fromJSON(e):ax(e)?Di.fromJSON(e):TR(e)?iv.fromJSON(e):xR(e)?Le.fromJSON(e):null}function rf(e){return e?MR(e)?"esriGeometryPoint":ER(e)?"esriGeometryPolyline":ax(e)?"esriGeometryPolygon":xR(e)?"esriGeometryEnvelope":TR(e)?"esriGeometryMultipoint":null:null}const fW={esriGeometryPoint:Q,esriGeometryPolyline:Zn,esriGeometryPolygon:Di,esriGeometryEnvelope:Le,esriGeometryMultipoint:iv};function mW(e){return e&&fW[e]||null}const sv={base:Ls,key:"type",typeMap:{extent:Le,multipoint:iv,point:Q,polyline:Zn,polygon:Di}};Cs(sv);var n2;let Ks=n2=class extends B{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new n2({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};c([h({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:E1}}}}})],Ks.prototype,"rotation",void 0),c([Lt("rotation")],Ks.prototype,"castRotation",null),c([h({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:E1}}}}})],Ks.prototype,"scale",void 0),c([h({types:sv,json:{read:jc,write:!0,origins:{"web-scene":{read:jc,write:{overridePolicy:E1}}}}})],Ks.prototype,"targetGeometry",void 0),c([h({type:MG,json:{write:!0}})],Ks.prototype,"camera",void 0),Ks=n2=c([M("esri.Viewpoint")],Ks);const Qn=Ks;function E1(){return{enabled:!this.camera}}let Qm=class kR{constructor(){this._emitter=new kR.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(i=null){this._target=i,this._listenersMap=null}clear(){var i;(i=this._listenersMap)==null||i.clear(),this._listenersMap=null}destroy(){this.clear()}emit(i,s){var d;let o=(d=this._listenersMap)==null?void 0:d.get(i);if(!o)return!1;const a=this._target||this;let l=!1;for(const p of o.slice()){const f="deref"in p?p.deref():p;f?f==null||f.call(a,s):l=!0}return l&&(o=o.filter(p=>!("deref"in p)||p.deref()!=null),this._listenersMap.set(i,o)),o.length>0}on(i,s){if(Array.isArray(i)){const a=i.map(l=>this.on(l,s));return qp(a)}if(i.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const o=this._listenersMap.get(i)||[];return o.push(s),this._listenersMap.set(i,o),ke(()=>{var d;const a=(d=this._listenersMap)==null?void 0:d.get(i),l=(a==null?void 0:a.indexOf(s))??-1;l>=0&&a.splice(l,1)})}once(i,s){const o=this.on(i,a=>{o.remove();const l="deref"in s?s.deref():s;l==null||l.call(null,a)});return o}hasEventListener(i){var o;const s=(o=this._listenersMap)==null?void 0:o.get(i);return s!=null&&s.length>0}}e.EventEmitter=t,e.EventedMixin=n=>{let i=class extends n{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(s,o){return this._emitter.emit(s,o)}on(s,o){return this._emitter.on(s,o)}once(s,o){return this._emitter.once(s,o)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return i=c([M("esri.core.Evented")],i),i};let r=class extends ee{constructor(){super(...arguments),this._emitter=new Qm.EventEmitter(this)}destroy(){this._emitter.clear()}emit(n,i){return this._emitter.emit(n,i)}on(n,i){return this._emitter.on(n,i)}once(n,i){return this._emitter.once(n,i)}hasEventListener(n){return this._emitter.hasEventListener(n)}};r=c([M("esri.core.Evented.EventedAccessor")],r),e.EventedAccessor=r})(Qm||(Qm={}));const Ns=Qm;var xe;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(xe||(xe={}));function PR(e){return(t,r)=>{t[r]=e}}let nf=class extends p4{notify(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onInvalidated(),n.onCommitted()}}};var fs;let yW=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},gW=class{constructor(t,r,n,i,s){this.target=t,this.added=r,this.removed=n,this.start=i,this.deleteCount=s}};const tn=new Kl(yW,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function K3(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function k1(e){return e?e instanceof ds?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function P1(e){if(e!=null&&e.length)return e[0]}function vW(e,t,r,n){const i=Math.min(e.length-r,t.length-n);let s=0;for(;s<i&&e[r+s]===t[n+s];)s++;return s}function CR(e,t,r,n){t&&t.forEach((i,s,o)=>{e.push(i),CR(e,r.call(n,i,s,o),r,n)})}const zs=new Set,Us=new Set,Vs=new Set,C1=new Map;let wW=0,ds=fs=class extends Ns.EventedAccessor{static isCollection(e){return e!=null&&e instanceof fs}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new nf,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:wW++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof fs?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return K(this._observable),this._items}set items(e){this._emitBeforeChanges(xe.ADD)||(this._splice(0,this.length,k1(e)),this._emitAfterChanges(xe.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return ke();if(e==="change"){const r=this._chgListeners,n={removed:!1,callback:t};return r.push(n),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),ke(()=>{n.removed=!0,r.splice(r.indexOf(n),1)})}return this._emitter.on(e,t)}once(e,t){const r="deref"in t?()=>t.deref():()=>t,n=this.on(e,i=>{var s;(s=r())==null||s.call(null,i),n.remove()});return n}add(e,t){if(K(this._observable),this._emitBeforeChanges(xe.ADD))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(xe.ADD),this}addMany(e,t=this._items.length){if(K(this._observable),!(e!=null&&e.length))return this;if(this._emitBeforeChanges(xe.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,k1(e)),this._emitAfterChanges(xe.ADD),this}at(e){if(K(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(K(this._observable),!this.length||this._emitBeforeChanges(xe.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(xe.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return K(this._observable),this._createNewInstance({items:this._items.map(L)})}concat(...e){K(this._observable);const t=e.map(k1);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(K(this._observable),!this.length||this._emitBeforeChanges(xe.REMOVE))return;const r=this._splice(0,this.length),n=r.length;for(let i=0;i<n;i++)e.call(t,r[i],i,r);this._emitAfterChanges(xe.REMOVE)}destroyAll(){this.drain(K3)}destroyMany(e){const t=this.removeMany(e);return t.forEach(K3),t}every(e,t){return K(this._observable),this._items.every(e,t)}filter(e,t){let r;return K(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return K(this._observable),this._items.find(e,t)}findIndex(e,t){return K(this._observable),this._items.findIndex(e,t)}flatten(e,t){K(this._observable);const r=[];return CR(r,this,e,t),new fs(r)}forEach(e,t){return K(this._observable),this._items.forEach(e,t)}getItemAt(e){return K(this._observable),this._items[e]}getNextIndex(e){K(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return K(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return K(this._observable),this._items.indexOf(e,t)}join(e=","){return K(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return K(this._observable),this._items.lastIndexOf(e,t)}map(e,t){K(this._observable);const r=this._items.map(e,t);return new fs({items:r})}reorder(e,t=this.length-1){K(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(xe.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(xe.MOVE)}return e}}pop(){if(K(this._observable),!this.length||this._emitBeforeChanges(xe.REMOVE))return;const e=P1(this._splice(this.length-1,1));return this._emitAfterChanges(xe.REMOVE),e}push(...e){return K(this._observable),this._emitBeforeChanges(xe.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(xe.ADD)),this.length}reduce(e,t){K(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){K(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return K(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(K(this._observable),e<0||e>=this.length||this._emitBeforeChanges(xe.REMOVE))return;const t=P1(this._splice(e,1));return this._emitAfterChanges(xe.REMOVE),t}removeMany(e){if(K(this._observable),!(e!=null&&e.length)||this._emitBeforeChanges(xe.REMOVE))return[];const t=e instanceof fs?e.toArray():e,r=this._items,n=[],i=t.length;for(let s=0;s<i;s++){const o=t[s],a=r.indexOf(o);if(a>-1){const l=1+vW(t,r,s+1,a+1),d=this._splice(a,l);d&&d.length>0&&n.push.apply(n,d),s+=l-1}}return this._emitAfterChanges(xe.REMOVE),n}reverse(){if(K(this._observable),this._emitBeforeChanges(xe.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(xe.MOVE),this}shift(){if(K(this._observable),!this.length||this._emitBeforeChanges(xe.REMOVE))return;const e=P1(this._splice(0,1));return this._emitAfterChanges(xe.REMOVE),e}slice(e=0,t=this.length){return K(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return K(this._observable),this._items.some(e,t)}sort(e){if(K(this._observable),!this.length||this._emitBeforeChanges(xe.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(xe.MOVE),this}splice(e,t,...r){K(this._observable);const n=(t?xe.REMOVE:0)|(r.length?xe.ADD:0);if(this._emitBeforeChanges(n))return[];const i=this._splice(e,t,r)||[];return this._emitAfterChanges(n),i}toArray(){return K(this._observable),this._items.slice()}toJSON(){return K(this._observable),this.toArray()}toLocaleString(){return K(this._observable),this._items.toLocaleString()}toString(){return K(this._observable),this._items.toString()}unshift(...e){return K(this._observable),!e.length||this._emitBeforeChanges(xe.ADD)||(this._splice(0,0,e),this._emitAfterChanges(xe.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const n=this._items,i=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=Yp(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=n.splice(e,t),this.hasEventListener("before-remove")){const a=tn.acquire();a.target=this,a.cancellable=!0;for(let l=0,d=o.length;l<d;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),n.splice(e,0,s),e+=1,l-=1,d-=1);tn.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=tn.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let d=0;d<l;d++)a.reset(o[d]),this.emit("after-remove",a);tn.release(a)}}if(r!=null&&r.length){if(i){const p=[];for(const f of r){const m=i.ensureType(f);m==null&&f!=null||p.push(m)}r=p}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),d=e===this.length;if(a||l){const p=tn.acquire();p.target=this,p.cancellable=!0;const f=tn.acquire();f.target=this,f.cancellable=!1;for(const m of r)a?(p.reset(m),this.emit("before-add",p),p.defaultPrevented||(d?n.push(m):n.splice(e++,0,m),this._set("length",n.length),l&&(f.reset(m),this.emit("after-add",f)))):(d?n.push(m):n.splice(e++,0,m),this._set("length",n.length),f.reset(m),this.emit("after-add",f));tn.release(f),tn.release(p)}else{if(d)for(const p of r)n.push(p);else n.splice(e,0,...r);this._set("length",n.length)}}if((r!=null&&r.length||o!=null&&o.length)&&this._notifyChangeEvent(r,o),this.hasEventListener("after-splice")){const a=new gW(this,r,o,e,t);this.emit("after-splice",a)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=tn.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,tn.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=tn.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),tn.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;zs.clear(),Us.clear(),Vs.clear();for(const{added:l,removed:d}of r){if(l)if(Vs.size===0&&Us.size===0)for(const p of l)zs.add(p);else for(const p of l)Us.has(p)?(Vs.add(p),Us.delete(p)):Vs.has(p)||zs.add(p);if(d)if(Vs.size===0&&zs.size===0)for(const p of d)Us.add(p);else for(const p of d)zs.has(p)?zs.delete(p):(Vs.delete(p),Us.add(p))}const n=fr.acquire();zs.forEach(l=>{n.push(l)});const i=fr.acquire();Us.forEach(l=>{i.push(l)});const s=this._items,o=t.items,a=fr.acquire();if(Vs.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),t.listeners&&(n.length||i.length||a.length)){const l={target:this,added:n,removed:i,moved:a},d=t.listeners.length;for(let p=0;p<d;p++){const f=t.listeners[p];f.removed||f.callback.call(this,l)}}fr.release(n),fr.release(i),fr.release(a)}zs.clear(),Us.clear(),Vs.clear()}};ds.ofType=e=>{if(!e)return fs;if(C1.has(e))return C1.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const n in e.typeMap){const i=e.typeMap[n].prototype.declaredClass;t?t+=` | ${i}`:t=i}let r=class extends fs{};return c([PR({Type:e,ensureType:typeof e=="function"?Mt(e):Cs(e)})],r.prototype,"itemType",void 0),r=c([M(`esri.core.Collection<${t}>`)],r),C1.set(e,r),r},c([h()],ds.prototype,"_updating",void 0),c([h()],ds.prototype,"length",void 0),c([h()],ds.prototype,"items",null),c([h({readOnly:!0})],ds.prototype,"updating",null),ds=fs=c([M("esri.core.Collection")],ds);const X=ds;function Lde(e,t,r){return pl(e.map((n,i)=>t.apply(r,[n,i])))}async function _W(e,t,r){return(await pl(e.map((n,i)=>t.apply(r,[n,i])))).map(n=>n.value)}function lx(e){return{ok:!0,value:e}}function ux(e){return{ok:!1,error:e}}function bW(e){return e!=null&&e.ok===!0?e.value:null}function SW(e){return e!=null&&e.ok===!1?e.error:null}async function OR(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return lx(await e)}catch(t){return ux(t)}}async function Nde(e){try{return lx(await e)}catch(t){return E4(t),ux(t)}}function cx(e,t){return new Ys(e,t)}let Ys=class extends ee{get value(){return bW(this._result)}get error(){return SW(this._result)}get finished(){return this._result!=null}constructor(t,r){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Il(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=t(n),this.promise.then(i=>{this._result=lx(i),this._cleanup()},i=>{this._result=ux(i),this._cleanup()}),this._abortHandle=_n(r,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Ke(this._abortHandle),this._abortController=null}};c([h()],Ys.prototype,"value",null),c([h()],Ys.prototype,"error",null),c([h()],Ys.prototype,"finished",null),c([h()],Ys.prototype,"promise",void 0),c([h()],Ys.prototype,"_result",void 0),Ys=c([M("esri.core.asyncUtils.ReactiveTask")],Ys);let mu=class extends X{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(K7(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections!=null?this.getCollections():null;if(t==null)return void this.removeAll();let r=0;for(const n of t)n!=null&&(r=this._processCollection(r,n));this.splice(r,this.length)}_createNewInstance(t){return new X(t)}_processCollection(t,r){if(!r)return t;const n=this.itemFilterFunction??(i=>!!i);for(const i of r)if(i){if(n(i)){const s=this.indexOf(i,t);s>=0?s!==t&&this.reorder(i,t):this.add(i,t),++t}if(this.getChildrenFunction){const s=this.getChildrenFunction(i);if(Array.isArray(s))for(const o of s)t=this._processCollection(t,o);else t=this._processCollection(t,s)}}return t}};c([h()],mu.prototype,"getCollections",void 0),c([h()],mu.prototype,"getChildrenFunction",void 0),c([h()],mu.prototype,"itemFilterFunction",void 0),mu=c([M("esri.core.CollectionFlattener")],mu);const $p=mu;function re(e,t,r={}){return dx(e,t,r,IR)}function Is(e,t,r={}){return dx(e,t,r,AR)}function dx(e,t,r={},n){let i=null;const s=r.once?(o,a)=>{n(o)&&(Ke(i),t(o,a))}:(o,a)=>{n(o)&&t(o,a)};if(i=az(e,s,r.sync,r.equals),r.initial){const o=e();s(o,o)}return i}function ea(e,t,r,n={}){let i=null,s=null,o=null;function a(){var p;i&&s&&(s.remove(),(p=n.onListenerRemove)==null||p.call(n,i),i=null,s=null)}function l(p){n.once&&n.once&&Ke(o),r(p)}const d=re(e,(p,f)=>{var m;a(),B0(p)&&(i=p,s=Kp(p,t,l),(m=n.onListenerAdd)==null||m.call(n,p))},{sync:n.sync,initial:!0});return o=ke(()=>{d.remove(),a()}),o}function xp(e,t){return $W(e,AR,t)}function $W(e,t,r){if(Ps(r))return Promise.reject(mt());const n=e();if(t!=null&&t(n))return Promise.resolve(n);let i=null;function s(){i=Ke(i)}return new Promise((o,a)=>{i=qp([_n(r,()=>{s(),a(mt())}),dx(e,l=>{s(),o(l)},{sync:!1,once:!0},t??IR)])})}function IR(e){return!0}function AR(e){return!!e}const zl={sync:!0},Rt={initial:!0},fn={sync:!0,initial:!0};let jg=class{constructor(t=r=>r.values().next().value){this._peeker=t,this._observable=new nf,this._items=new Set}get length(){return K(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return K(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const r=this.length;return this._items.forEach(n=>{t(n)||this._items.delete(n)}),r!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){K(this._observable),yield*this._items}};const RR=new FinalizationRegistry(e=>{e.close()});function xW(e,t){RR.register(e,t,t)}function TW(e){RR.unregister(e)}function LR(e,t){return new Proxy({},{get:(r,n,i)=>(...s)=>{let o,a;const l=s[s.length-1];return MW(l)&&(o=l.signal,a=l.transferList,s.pop()),e.apply(t?`${t}.${n.toString()}`:n.toString(),s,{transferList:a,signal:o})}})}function MW(e){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&("signal"in e||"transferList"in e||Object.keys(e).length===0)}const EW={statsWorker:()=>U(()=>import("./statsWorker-Bgulmksh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])),geometryEngineWorker:()=>U(()=>import("./geometryEngineWorker-CNhBf5Vw.js"),__vite__mapDeps([9,10,11,12])),CSVSourceWorker:()=>U(()=>import("./CSVSourceWorker-CP8YuWxn.js"),__vite__mapDeps([13,14,12,15,16,17,18,19,20,21,22,23,24,25,26,27,2,1,3,4,5,6,7,8,28,29,30,31])),EdgeProcessingWorker:()=>U(()=>import("./EdgeProcessingWorker-0ADKndoO.js"),__vite__mapDeps([32,33,34,4,35,36,5,37,38,39,40,41,42])),ElevationSamplerWorker:()=>U(()=>import("./ElevationSamplerWorker-LGO8ebTa.js"),__vite__mapDeps([43,20,44,45,46,47,48,49,50,51,52,53,34,4,54])),FeatureServiceSnappingSourceWorker:()=>U(()=>import("./FeatureServiceSnappingSourceWorker-D_CsdZXW.js"),__vite__mapDeps([55,16,17,15,18,19,20,21,12,22,23,24,25,26,27,2,1,3,4,5,6,7,8,28,56,57,58,59,60,61,62])),GeoJSONSourceWorker:()=>U(()=>import("./GeoJSONSourceWorker-KGsH9BTw.js"),__vite__mapDeps([63,17,15,18,16,19,20,21,12,22,23,24,25,26,27,2,1,3,4,5,6,7,8,28,64,14,30,31,65])),LercWorker:()=>U(()=>import("./LercWorker-C1zsb9_i.js"),[]),MemorySourceWorker:()=>U(()=>import("./MemorySourceWorker-B45cqX1E.js"),__vite__mapDeps([66,17,15,18,67,16,19,20,21,12,22,23,24,25,26,27,2,1,3,4,5,6,7,8,28,30,31,65,14])),PBFDecoderWorker:()=>U(()=>import("./PBFDecoderWorker-aJeQ9eG6.js"),__vite__mapDeps([68,17,15,18,58,59])),FeaturePipelineWorker:()=>U(()=>import("./FeaturePipelineWorker-CsrNp65p.js"),__vite__mapDeps([69,70,71,72,73,74,75,41,76,42,77,78,15,79,80,81,82,31,83,36,4,5,84,85,28,26,25,21,17,18,12,86,87,88,89,90,91,92,22,23,24,27,2,1,3,6,7,8,60,58,59,61,93,64,14,30,65,94,95])),PointCloudWorker:()=>U(()=>import("./PointCloudWorker-2ZQpWm4s.js"),__vite__mapDeps([96,97,46,98,4,99,100,101,102,40,103,47,5,48,49,104])),RasterWorker:()=>U(()=>import("./RasterWorker-BqxC09dQ.js"),__vite__mapDeps([105,106,107,108,4,5,109,110,111])),SceneLayerSnappingSourceWorker:()=>U(()=>import("./SceneLayerSnappingSourceWorker-JU6H8Cdk.js"),__vite__mapDeps([112,113,114,4,5,104,46,47,98,36,37,38,39,33,34,35,40,41,42])),SceneLayerWorker:()=>U(()=>import("./SceneLayerWorker-CnoFNTXk.js"),__vite__mapDeps([115,53,44,51,5,114,4,104,46,47,98,116,48,102,40,117,118,119,83,103,97,49])),WFSSourceWorker:()=>U(()=>import("./WFSSourceWorker-Bl0N_qxw.js"),__vite__mapDeps([120,17,15,18,16,19,20,21,12,22,23,24,25,26,27,2,1,3,4,5,6,7,8,28,64,14,65,121,122])),WorkerTileHandler:()=>U(()=>import("./WorkerTileHandler-CKVaeZtd.js"),__vite__mapDeps([123,124,79,81,125,126,74,59,89,70,127,128,41,42,108,4,5,90,78])),Lyr3DWorker:()=>U(()=>import("./Lyr3DWorker-DJIY23M5.js"),[])},NR="worker:port-closed";var It;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(It||(It={}));let kW=0;function DR(){return kW++}function PW(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function Tp(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function hx(e,t,r,n){if(t.type===It.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==It.INVOKE&&t.type!==It.RESPONSE)return void e.postMessage(t);let i;if(PW(r)?(i=Y3(r.transferList),t.data=r.result):(i=Y3(n),t.data=r),i){if(I("ff")){for(const s of i)if("byteLength"in s&&s.byteLength>267386880){const o="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case It.INVOKE:throw o;case It.RESPONSE:return void hx(e,{type:It.RESPONSE,jobId:t.jobId,error:Tp(o)})}}}e.postMessage(t,i)}else e.postMessage(t)}function Mp(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function Y3(e){if(!(e!=null&&e.length))return null;if(I("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(r=>!CW(r));return t.length?t:null}function CW(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="ArrayBuffer"}async function zde(e){try{return await e}catch(t){const r=(t==null?void 0:t.name)===NR;if(!(Mn(t)||r))throw t;return}}const{CLOSE:Q3,ABORT:X3,INVOKE:eE,RESPONSE:vd,OPEN_PORT:tE,ON:OW}=It,IW=2;let AW=class{constructor(t){this._invoke=t,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(t){t.type===It.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},ta=class yu{static connect(t,r){const n=new MessageChannel;let i;i=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const s=new yu(n.port1,{channel:n,client:i,schedule:r});return typeof i=="object"&&"remoteClient"in i&&(i.remoteClient=s),yu.clients.set(s,i),n.port2}static loadWorker(t){const r=EW[t];return r?r():Promise.resolve(null)}constructor(t,r,n){this._port=t,this._jobQueue=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new AW(i=>this._onInvokeMessage(i)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:Q3}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,n){return this.apply(t,[r],n)}apply(t,r,n){const i=n==null?void 0:n.signal,s=n==null?void 0:n.transferList;if(!this._port)return Promise.reject(new j(NR,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));const o=DR();return new Promise((a,l)=>{if(Ps(i))return this._processWork(),void l(mt());const d=_n(i,()=>{const f=this._outJobs.get(o);f&&(this._outJobs.delete(o),this._processWork(),Ke(f.abortHandle),this._post({type:X3,jobId:o}),l(mt()))}),p={resolve:a,reject:l,abortHandle:d,debugInfo:t};this._outJobs.set(o,p),this._post({type:eE,jobId:o,methodName:t,abortable:i!=null},r,s)})}createInvokeProxy(t){return LR(this,t)}on(t,r){const n=new MessageChannel;function i(s){r(s.data)}return this._port.postMessage({type:It.ON,eventType:t,port:n.port2},[n.port2]),n.port1.addEventListener("message",i),n.port1.start(),ke(()=>{n.port1.postMessage({type:It.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",i)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:tE,port:t.port2}),t.port1}_processWork(){var o;if(this._outJobs.size>=IW)return;const t=(o=this._jobQueue)==null?void 0:o.pop();if(!t)return;const{methodName:r,data:n,invokeOptions:i,resolver:s}=t;this.apply(r,n,i).then(a=>s.resolve(a)).catch(a=>s.reject(a))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{Ke(t.abortHandle),t.reject(mt(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t,!0)):this._processMessage(t,!1)}_processMessage(t,r){const n=Mp(t);if(n)switch(n.type){case vd:this._onResponseMessage(n);break;case eE:r?this._onInvokeMessage(n):this._invokeQueue.push(n);break;case X3:this._onAbortMessage(n);break;case Q3:this._onCloseMessage();break;case tE:this._onOpenPortMessage(n);break;case OW:this._onOnMessage(n)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);this._invokeQueue.push(t),i&&(i.controller&&i.controller.abort(),r.delete(n))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&yu.clients.get(this)===t&&t.destroy(),yu.clients.delete(this),t!=null&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i=[],abortable:s}=t,o=s?new AbortController:null,a=this._inJobs;let l,d=this._client,p=d[r];try{if(!p&&r&&r.includes(".")){const f=r.split(".");for(let m=0;m<f.length-1;m++)d=d[f[m]],p=d[f[m+1]]}if(typeof p!="function")throw new TypeError(`${r} is not a function`);i.push({client:this,signal:o?o.signal:null}),l=p.apply(d,i)}catch(f){return void this._post({type:vd,jobId:n,error:Tp(f)})}ha(l)?(a.set(n,{controller:o,promise:l}),l.then(f=>{a.has(n)&&(a.delete(n),this._post({type:vd,jobId:n},f))},f=>{a.has(n)&&(a.delete(n),Mn(f)||this._post({type:vd,jobId:n,error:Tp(f||{message:`Error encountered at method ${r}`})}))})):this._post({type:vd,jobId:n},l)}_onOpenPortMessage(t){new yu(t.port,{client:this._client})}_onOnMessage(t){const{port:r}=t,n=this._client.on(t.eventType,s=>{r.postMessage(s)}),i=Kp(t.port,"message",s=>{const o=Mp(s);(o==null?void 0:o.type)===It.CLOSE&&(i.remove(),n.remove(),r.close())})}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,s=this._outJobs;if(!s.has(r))return;const o=s.get(r);s.delete(r),this._processWork(),Ke(o.abortHandle),n?o.reject(j.fromJSON(JSON.parse(n))):o.resolve(i)}_post(t,r,n){return hx(this._port,t,r,n)}};ta.kernelInfo={buildDate:PA,fullVersion:K$,revision:CA},ta.clients=new Map;let RW=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new jg}destroy(){this.close()}get closed(){var t;return!((t=this._clients)!=null&&t.length)}open(t,r){return new Promise((n,i)=>{let s=!0;const o=a=>{lt(r.signal),s&&(s=!1,a())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let a=0;a<t.length;++a){const l=t[a];ha(l)?this._clientPromises[a]=l.then(d=>(this._clients[a]=new ta(d,r,this._ongoingJobsQueue),o(n),this._clients[a]),()=>(o(i),null)):(this._clients[a]=new ta(l,r,this._ongoingJobsQueue),this._clientPromises[a]=Promise.resolve(this._clients[a]),o(n))}})}broadcast(t,r,n){const i=new Array(this._clientPromises.length);for(let s=0;s<this._clientPromises.length;++s){const o=this._clientPromises[s];i[s]=o.then(a=>a==null?void 0:a.invoke(t,r,n))}return i}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(mt(`Worker closing, aborting job calling '${t.methodName}'`));for(const r of this._clientPromises)r.then(n=>n==null?void 0:n.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,TW(this)}invoke(t,r,n){return this.apply(t,[r],n)}apply(t,r,n){const i=Tn();this._ongoingJobsQueue.push({methodName:t,data:r,invokeOptions:n,resolver:i});for(let s=0;s<this._clientPromises.length;s++){const o=this._clients[s];o?o.jobAdded():this._clientPromises[s].then(a=>a==null?void 0:a.jobAdded())}return i.promise}createInvokeProxy(t){return LR(this,t)}on(t,r){return Promise.all(this._clientPromises).then(()=>qp(this._clients.map(n=>n.on(t,r))))}openPorts(){return new Promise(t=>{const r=new Array(this._clientPromises.length);let n=r.length;for(let i=0;i<this._clientPromises.length;++i)this._clientPromises[i].then(s=>{s&&(r[i]=s.openPort()),--n==0&&t(r)})})}get test(){}};const LW={async request(e,t){var o,a;const r=e.options,n=r.responseType;r.signal=t==null?void 0:t.signal,r.responseType=n==="native"||n==="native-request-init"?"native-request-init":n&&["blob","json","text"].includes(n)&&((o=j_(e.url))!=null&&o.after)?n:"array-buffer";const i=await at(e.url,r),s={data:i.data,httpStatus:i.httpStatus,ssl:i.ssl};switch((a=i.requestOptions)==null?void 0:a.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=new TextEncoder().encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=new TextEncoder().encode(s.data).buffer}return{result:s,transferList:[s.data]}}};let jh;var MC,EC;const NW=((MC=globalThis.esriConfig)==null?void 0:MC.locale)??((EC=globalThis.dojoConfig)==null?void 0:EC.locale);function FR(){var e;return NW??((e=globalThis.navigator)==null?void 0:e.language)??"en"}function Zr(){return jh===void 0&&(jh=FR()),jh}function DW(e=Zr()){const t=/^([a-zA-Z]{2,3})(?:[_-]\w+)*$/.exec(e);return t==null?void 0:t[1].toLowerCase()}const Xm=[];function px(e){return Xm.push(e),ke(()=>Xm.splice(Xm.indexOf(e),1))}const ey=[];function fx(e){return ey.push(e),ke(()=>ey.splice(ey.indexOf(e),1))}function FW(){const e=FR();jh!==e&&([...ey].forEach(t=>t(e)),jh=e,[...Xm].forEach(t=>t(e)))}var kC;(kC=globalThis.addEventListener)==null||kC.call(globalThis,"languagechange",FW);const rE=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class Ql extends Error{}class jW extends Ql{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class zW extends Ql{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class UW extends Ql{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Xu extends Ql{}class jR extends Ql{constructor(t){super(`Invalid unit ${t}`)}}class xr extends Ql{}class Gs extends Ql{constructor(){super("Zone is an abstract class")}}const V="numeric",ni="short",Jr="long",zg={year:V,month:V,day:V},zR={year:V,month:ni,day:V},VW={year:V,month:ni,day:V,weekday:ni},UR={year:V,month:Jr,day:V},VR={year:V,month:Jr,day:V,weekday:Jr},GR={hour:V,minute:V},WR={hour:V,minute:V,second:V},BR={hour:V,minute:V,second:V,timeZoneName:ni},HR={hour:V,minute:V,second:V,timeZoneName:Jr},qR={hour:V,minute:V,hourCycle:"h23"},ZR={hour:V,minute:V,second:V,hourCycle:"h23"},JR={hour:V,minute:V,second:V,hourCycle:"h23",timeZoneName:ni},KR={hour:V,minute:V,second:V,hourCycle:"h23",timeZoneName:Jr},YR={year:V,month:V,day:V,hour:V,minute:V},QR={year:V,month:V,day:V,hour:V,minute:V,second:V},XR={year:V,month:ni,day:V,hour:V,minute:V},e5={year:V,month:ni,day:V,hour:V,minute:V,second:V},GW={year:V,month:ni,day:V,weekday:ni,hour:V,minute:V},t5={year:V,month:Jr,day:V,hour:V,minute:V,timeZoneName:ni},r5={year:V,month:Jr,day:V,hour:V,minute:V,second:V,timeZoneName:ni},n5={year:V,month:Jr,day:V,weekday:Jr,hour:V,minute:V,timeZoneName:Jr},i5={year:V,month:Jr,day:V,weekday:Jr,hour:V,minute:V,second:V,timeZoneName:Jr};class sf{get type(){throw new Gs}get name(){throw new Gs}get ianaName(){return this.name}get isUniversal(){throw new Gs}offsetName(t,r){throw new Gs}formatOffset(t,r){throw new Gs}offset(t){throw new Gs}equals(t){throw new Gs}get isValid(){throw new Gs}}let O1=null;class ov extends sf{static get instance(){return O1===null&&(O1=new ov),O1}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return p5(t,r,n)}formatOffset(t,r){return zh(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let ty={};function WW(e){return ty[e]||(ty[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ty[e]}const BW={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function HW(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,s,o,a,l,d,p]=n;return[o,i,s,a,l,d,p]}function qW(e,t){const r=e.formatToParts(t),n=[];for(let i=0;i<r.length;i++){const{type:s,value:o}=r[i],a=BW[s];s==="era"?n[a]=o:ae(a)||(n[a]=parseInt(o,10))}return n}let Jf={};class ii extends sf{static create(t){return Jf[t]||(Jf[t]=new ii(t)),Jf[t]}static resetCache(){Jf={},ty={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=ii.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return p5(t,r,n,this.name)}formatOffset(t,r){return zh(this.offset(t),r)}offset(t){const r=new Date(t);if(isNaN(r))return NaN;const n=WW(this.name);let[i,s,o,a,l,d,p]=n.formatToParts?qW(n,r):HW(n,r);a==="BC"&&(i=-Math.abs(i)+1);const m=lv({year:i,month:s,day:o,hour:l===24?0:l,minute:d,second:p,millisecond:0});let y=+r;const g=y%1e3;return y-=g>=0?g:1e3+g,(m-y)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let nE={};function ZW(e,t={}){const r=JSON.stringify([e,t]);let n=nE[r];return n||(n=new Intl.ListFormat(e,t),nE[r]=n),n}let i2={};function s2(e,t={}){const r=JSON.stringify([e,t]);let n=i2[r];return n||(n=new Intl.DateTimeFormat(e,t),i2[r]=n),n}let o2={};function JW(e,t={}){const r=JSON.stringify([e,t]);let n=o2[r];return n||(n=new Intl.NumberFormat(e,t),o2[r]=n),n}let a2={};function KW(e,t={}){const{base:r,...n}=t,i=JSON.stringify([e,n]);let s=a2[i];return s||(s=new Intl.RelativeTimeFormat(e,t),a2[i]=s),s}let Vd=null;function YW(){return Vd||(Vd=new Intl.DateTimeFormat().resolvedOptions().locale,Vd)}let iE={};function QW(e){let t=iE[e];if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,iE[e]=t}return t}function XW(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let n,i;try{n=s2(e).resolvedOptions(),i=e}catch{const l=e.substring(0,r);n=s2(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:o}=n;return[i,s,o]}}function eB(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function tB(e){const t=[];for(let r=1;r<=12;r++){const n=se.utc(2009,r,1);t.push(e(n))}return t}function rB(e){const t=[];for(let r=1;r<=7;r++){const n=se.utc(2016,11,13+r);t.push(e(n))}return t}function Kf(e,t,r,n){const i=e.listingMode();return i==="error"?null:i==="en"?r(t):n(t)}function nB(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class iB{constructor(t,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:s,...o}=n;if(!r||Object.keys(o).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=JW(t,a)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):vx(t,3);return gt(r,this.padTo)}}}class sB{constructor(t,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&ii.create(a).valid?(i=a,this.dt=t):(i="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,i=t.zone.name):(i="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=s2(r,s)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class oB{constructor(t,r,n){this.opts={style:"long",...n},!r&&d5()&&(this.rtf=KW(t,n))}format(t,r){return this.rtf?this.rtf.format(t,r):MB(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}const aB={firstDay:1,minimalDays:4,weekend:[6,7]};class Re{static fromOpts(t){return Re.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,n,i,s=!1){const o=t||pt.defaultLocale,a=o||(s?"en-US":YW()),l=r||pt.defaultNumberingSystem,d=n||pt.defaultOutputCalendar,p=l2(i)||pt.defaultWeekSettings;return new Re(a,l,d,p,o)}static resetCache(){Vd=null,i2={},o2={},a2={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:n,weekSettings:i}={}){return Re.create(t,r,n,i)}constructor(t,r,n,i,s){const[o,a,l]=XW(t);this.locale=o,this.numberingSystem=r||a||null,this.outputCalendar=n||l||null,this.weekSettings=i,this.intl=eB(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=nB(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Re.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,l2(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return Kf(this,t,y5,()=>{const n=r?{month:t,day:"numeric"}:{month:t},i=r?"format":"standalone";return this.monthsCache[i][t]||(this.monthsCache[i][t]=tB(s=>this.extract(s,n,"month"))),this.monthsCache[i][t]})}weekdays(t,r=!1){return Kf(this,t,w5,()=>{const n=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=r?"format":"standalone";return this.weekdaysCache[i][t]||(this.weekdaysCache[i][t]=rB(s=>this.extract(s,n,"weekday"))),this.weekdaysCache[i][t]})}meridiems(){return Kf(this,void 0,()=>_5,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[se.utc(2016,11,13,9),se.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Kf(this,t,b5,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[se.utc(-40,1,1),se.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[t]})}extract(t,r,n){const i=this.dtFormatter(t,r),s=i.formatToParts(),o=s.find(a=>a.type.toLowerCase()===n);return o?o.value:null}numberFormatter(t={}){return new iB(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new sB(t,this.intl,r)}relFormatter(t={}){return new oB(this.intl,this.isEnglish(),t)}listFormatter(t={}){return ZW(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:h5()?QW(this.locale):aB}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let I1=null;class nr extends sf{static get utcInstance(){return I1===null&&(I1=new nr(0)),I1}static instance(t){return t===0?nr.utcInstance:new nr(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new nr(uv(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${zh(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${zh(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return zh(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class lB extends sf{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Po(e,t){if(ae(e)||e===null)return t;if(e instanceof sf)return e;if(dB(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?ov.instance:r==="utc"||r==="gmt"?nr.utcInstance:nr.parseSpecifier(r)||ii.create(e)}else return Sl(e)?nr.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new lB(e)}let sE=()=>Date.now(),oE="system",aE=null,lE=null,uE=null,cE=60,dE,hE=null;class pt{static get now(){return sE}static set now(t){sE=t}static set defaultZone(t){oE=t}static get defaultZone(){return Po(oE,ov.instance)}static get defaultLocale(){return aE}static set defaultLocale(t){aE=t}static get defaultNumberingSystem(){return lE}static set defaultNumberingSystem(t){lE=t}static get defaultOutputCalendar(){return uE}static set defaultOutputCalendar(t){uE=t}static get defaultWeekSettings(){return hE}static set defaultWeekSettings(t){hE=l2(t)}static get twoDigitCutoffYear(){return cE}static set twoDigitCutoffYear(t){cE=t%100}static get throwOnInvalid(){return dE}static set throwOnInvalid(t){dE=t}static resetCaches(){Re.resetCache(),ii.resetCache()}}class Jn{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const s5=[0,31,59,90,120,151,181,212,243,273,304,334],o5=[0,31,60,91,121,152,182,213,244,274,305,335];function gn(e,t){return new Jn("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function mx(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function a5(e,t,r){return r+(of(e)?o5:s5)[t-1]}function l5(e,t){const r=of(e)?o5:s5,n=r.findIndex(s=>s<t),i=t-r[n];return{month:n+1,day:i}}function yx(e,t){return(e-t+7)%7+1}function Ug(e,t=4,r=1){const{year:n,month:i,day:s}=e,o=a5(n,i,s),a=yx(mx(n,i,s),r);let l=Math.floor((o-a+14-t)/7),d;return l<1?(d=n-1,l=Ep(d,t,r)):l>Ep(n,t,r)?(d=n+1,l=1):d=n,{weekYear:d,weekNumber:l,weekday:a,...cv(e)}}function pE(e,t=4,r=1){const{weekYear:n,weekNumber:i,weekday:s}=e,o=yx(mx(n,1,t),r),a=fc(n);let l=i*7+s-o-7+t,d;l<1?(d=n-1,l+=fc(d)):l>a?(d=n+1,l-=fc(n)):d=n;const{month:p,day:f}=l5(d,l);return{year:d,month:p,day:f,...cv(e)}}function A1(e){const{year:t,month:r,day:n}=e,i=a5(t,r,n);return{year:t,ordinal:i,...cv(e)}}function fE(e){const{year:t,ordinal:r}=e,{month:n,day:i}=l5(t,r);return{year:t,month:n,day:i,...cv(e)}}function mE(e,t){if(!ae(e.localWeekday)||!ae(e.localWeekNumber)||!ae(e.localWeekYear)){if(!ae(e.weekday)||!ae(e.weekNumber)||!ae(e.weekYear))throw new Xu("Cannot mix locale-based week fields with ISO-based week fields");return ae(e.localWeekday)||(e.weekday=e.localWeekday),ae(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),ae(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function uB(e,t=4,r=1){const n=av(e.weekYear),i=vn(e.weekNumber,1,Ep(e.weekYear,t,r)),s=vn(e.weekday,1,7);return n?i?s?!1:gn("weekday",e.weekday):gn("week",e.weekNumber):gn("weekYear",e.weekYear)}function cB(e){const t=av(e.year),r=vn(e.ordinal,1,fc(e.year));return t?r?!1:gn("ordinal",e.ordinal):gn("year",e.year)}function u5(e){const t=av(e.year),r=vn(e.month,1,12),n=vn(e.day,1,Vg(e.year,e.month));return t?r?n?!1:gn("day",e.day):gn("month",e.month):gn("year",e.year)}function c5(e){const{hour:t,minute:r,second:n,millisecond:i}=e,s=vn(t,0,23)||t===24&&r===0&&n===0&&i===0,o=vn(r,0,59),a=vn(n,0,59),l=vn(i,0,999);return s?o?a?l?!1:gn("millisecond",i):gn("second",n):gn("minute",r):gn("hour",t)}function ae(e){return typeof e>"u"}function Sl(e){return typeof e=="number"}function av(e){return typeof e=="number"&&e%1===0}function dB(e){return typeof e=="string"}function hB(e){return Object.prototype.toString.call(e)==="[object Date]"}function d5(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function h5(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function pB(e){return Array.isArray(e)?e:[e]}function yE(e,t,r){if(e.length!==0)return e.reduce((n,i)=>{const s=[t(i),i];return n&&r(n[0],s[0])===n[0]?n:s},null)[1]}function fB(e,t){return t.reduce((r,n)=>(r[n]=e[n],r),{})}function zc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l2(e){if(e==null)return null;if(typeof e!="object")throw new xr("Week settings must be an object");if(!vn(e.firstDay,1,7)||!vn(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!vn(t,1,7)))throw new xr("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function vn(e,t,r){return av(e)&&e>=t&&e<=r}function mB(e,t){return e-t*Math.floor(e/t)}function gt(e,t=2){const r=e<0;let n;return r?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function _o(e){if(!(ae(e)||e===null||e===""))return parseInt(e,10)}function wa(e){if(!(ae(e)||e===null||e===""))return parseFloat(e)}function gx(e){if(!(ae(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function vx(e,t,r=!1){const n=10**t;return(r?Math.trunc:Math.round)(e*n)/n}function of(e){return e%4===0&&(e%100!==0||e%400===0)}function fc(e){return of(e)?366:365}function Vg(e,t){const r=mB(t-1,12)+1,n=e+(t-r)/12;return r===2?of(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function lv(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function gE(e,t,r){return-yx(mx(e,1,t),r)+t-1}function Ep(e,t=4,r=1){const n=gE(e,t,r),i=gE(e+1,t,r);return(fc(e)-n+i)/7}function u2(e){return e>99?e:e>pt.twoDigitCutoffYear?1900+e:2e3+e}function p5(e,t,r,n=null){const i=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const o={timeZoneName:t,...s},a=new Intl.DateTimeFormat(r,o).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function uv(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function f5(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new xr(`Invalid unit value ${e}`);return t}function Gg(e,t){const r={};for(const n in e)if(zc(e,n)){const i=e[n];if(i==null)continue;r[t(n)]=f5(i)}return r}function zh(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${gt(r,2)}:${gt(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${gt(r,2)}${gt(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function cv(e){return fB(e,["hour","minute","second","millisecond"])}const yB=["January","February","March","April","May","June","July","August","September","October","November","December"],m5=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],gB=["J","F","M","A","M","J","J","A","S","O","N","D"];function y5(e){switch(e){case"narrow":return[...gB];case"short":return[...m5];case"long":return[...yB];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const g5=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],v5=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],vB=["M","T","W","T","F","S","S"];function w5(e){switch(e){case"narrow":return[...vB];case"short":return[...v5];case"long":return[...g5];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const _5=["AM","PM"],wB=["Before Christ","Anno Domini"],_B=["BC","AD"],bB=["B","A"];function b5(e){switch(e){case"narrow":return[...bB];case"short":return[..._B];case"long":return[...wB];default:return null}}function SB(e){return _5[e.hour<12?0:1]}function $B(e,t){return w5(t)[e.weekday-1]}function xB(e,t){return y5(t)[e.month-1]}function TB(e,t){return b5(t)[e.year<0?0:1]}function MB(e,t,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&s){const f=e==="days";switch(t){case 1:return f?"tomorrow":`next ${i[e][0]}`;case-1:return f?"yesterday":`last ${i[e][0]}`;case 0:return f?"today":`this ${i[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,d=i[e],p=n?l?d[1]:d[2]||d[1]:l?i[e][0]:e;return o?`${a} ${p} ago`:`in ${a} ${p}`}function vE(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const EB={D:zg,DD:zR,DDD:UR,DDDD:VR,t:GR,tt:WR,ttt:BR,tttt:HR,T:qR,TT:ZR,TTT:JR,TTTT:KR,f:YR,ff:XR,fff:t5,ffff:n5,F:QR,FF:e5,FFF:r5,FFFF:i5};class rr{static create(t,r={}){return new rr(t,r)}static parseFormat(t){let r=null,n="",i=!1;const s=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),r=null,n="",i=!i):i||a===r?n+=a:(n.length>0&&s.push({literal:/^\s+$/.test(n),val:n}),n=a,r=a)}return n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),s}static macroTokenToFormatOpts(t){return EB[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return gt(t,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,g)=>this.loc.extract(t,y,g),o=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",a=()=>n?SB(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,g)=>n?xB(t,y):s(g?{month:y}:{month:y,day:"numeric"},"month"),d=(y,g)=>n?$B(t,y):s(g?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),p=y=>{const g=rr.macroTokenToFormatOpts(y);return g?this.formatWithSystemDefault(t,g):y},f=y=>n?TB(t,y):s({era:y},"era"),m=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return i?s({day:"numeric"},"day"):this.num(t.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(t.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(t.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return p(y)}};return vE(rr.parseFormat(r),m)}formatDurationFromString(t,r){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>d=>{const p=n(d);return p?this.num(l.get(p),d.length):d},s=rr.parseFormat(r),o=s.reduce((l,{literal:d,val:p})=>d?l:l.concat(p),[]),a=t.shiftTo(...o.map(n).filter(l=>l));return vE(s,i(a))}}const S5=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ed(...e){const t=e.reduce((r,n)=>r+n.source,"");return RegExp(`^${t}$`)}function td(...e){return t=>e.reduce(([r,n,i],s)=>{const[o,a,l]=s(t,i);return[{...r,...o},a||n,l]},[{},null,1]).slice(0,2)}function rd(e,...t){if(e==null)return[null,null];for(const[r,n]of t){const i=r.exec(e);if(i)return n(i)}return[null,null]}function $5(...e){return(t,r)=>{const n={};let i;for(i=0;i<e.length;i++)n[e[i]]=_o(t[r+i]);return[n,null,r+i]}}const x5=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,kB=`(?:${x5.source}?(?:\\[(${S5.source})\\])?)?`,wx=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,T5=RegExp(`${wx.source}${kB}`),_x=RegExp(`(?:T${T5.source})?`),PB=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,CB=/(\d{4})-?W(\d\d)(?:-?(\d))?/,OB=/(\d{4})-?(\d{3})/,IB=$5("weekYear","weekNumber","weekDay"),AB=$5("year","ordinal"),RB=/(\d{4})-(\d\d)-(\d\d)/,M5=RegExp(`${wx.source} ?(?:${x5.source}|(${S5.source}))?`),LB=RegExp(`(?: ${M5.source})?`);function mc(e,t,r){const n=e[t];return ae(n)?r:_o(n)}function NB(e,t){return[{year:mc(e,t),month:mc(e,t+1,1),day:mc(e,t+2,1)},null,t+3]}function nd(e,t){return[{hours:mc(e,t,0),minutes:mc(e,t+1,0),seconds:mc(e,t+2,0),milliseconds:gx(e[t+3])},null,t+4]}function af(e,t){const r=!e[t]&&!e[t+1],n=uv(e[t+1],e[t+2]),i=r?null:nr.instance(n);return[{},i,t+3]}function lf(e,t){const r=e[t]?ii.create(e[t]):null;return[{},r,t+1]}const DB=RegExp(`^T?${wx.source}$`),FB=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function jB(e){const[t,r,n,i,s,o,a,l,d]=e,p=t[0]==="-",f=l&&l[0]==="-",m=(y,g=!1)=>y!==void 0&&(g||y&&p)?-y:y;return[{years:m(wa(r)),months:m(wa(n)),weeks:m(wa(i)),days:m(wa(s)),hours:m(wa(o)),minutes:m(wa(a)),seconds:m(wa(l),l==="-0"),milliseconds:m(gx(d),f)}]}const zB={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function bx(e,t,r,n,i,s,o){const a={year:t.length===2?u2(_o(t)):_o(t),month:m5.indexOf(r)+1,day:_o(n),hour:_o(i),minute:_o(s)};return o&&(a.second=_o(o)),e&&(a.weekday=e.length>3?g5.indexOf(e)+1:v5.indexOf(e)+1),a}const UB=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function VB(e){const[,t,r,n,i,s,o,a,l,d,p,f]=e,m=bx(t,i,n,r,s,o,a);let y;return l?y=zB[l]:d?y=0:y=uv(p,f),[m,new nr(y)]}function GB(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const WB=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,BB=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,HB=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function wE(e){const[,t,r,n,i,s,o,a]=e;return[bx(t,i,n,r,s,o,a),nr.utcInstance]}function qB(e){const[,t,r,n,i,s,o,a]=e;return[bx(t,a,r,n,i,s,o),nr.utcInstance]}const ZB=ed(PB,_x),JB=ed(CB,_x),KB=ed(OB,_x),YB=ed(T5),E5=td(NB,nd,af,lf),QB=td(IB,nd,af,lf),XB=td(AB,nd,af,lf),eH=td(nd,af,lf);function tH(e){return rd(e,[ZB,E5],[JB,QB],[KB,XB],[YB,eH])}function rH(e){return rd(GB(e),[UB,VB])}function nH(e){return rd(e,[WB,wE],[BB,wE],[HB,qB])}function iH(e){return rd(e,[FB,jB])}const sH=td(nd);function oH(e){return rd(e,[DB,sH])}const aH=ed(RB,LB),lH=ed(M5),uH=td(nd,af,lf);function cH(e){return rd(e,[aH,E5],[lH,uH])}const _E="Invalid Duration",k5={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},dH={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...k5},rn=146097/400,su=146097/4800,hH={years:{quarters:4,months:12,weeks:rn/7,days:rn,hours:rn*24,minutes:rn*24*60,seconds:rn*24*60*60,milliseconds:rn*24*60*60*1e3},quarters:{months:3,weeks:rn/28,days:rn/4,hours:rn*24/4,minutes:rn*24*60/4,seconds:rn*24*60*60/4,milliseconds:rn*24*60*60*1e3/4},months:{weeks:su/7,days:su,hours:su*24,minutes:su*24*60,seconds:su*24*60*60,milliseconds:su*24*60*60*1e3},...k5},fl=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],pH=fl.slice(0).reverse();function Ws(e,t,r=!1){const n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Se(n)}function P5(e,t){let r=t.milliseconds??0;for(const n of pH.slice(1))t[n]&&(r+=t[n]*e[n].milliseconds);return r}function bE(e,t){const r=P5(e,t)<0?-1:1;fl.reduceRight((n,i)=>{if(ae(t[i]))return n;if(n){const s=t[n]*r,o=e[i][n],a=Math.floor(s/o);t[i]+=a*r,t[n]-=a*o*r}return i},null),fl.reduce((n,i)=>{if(ae(t[i]))return n;if(n){const s=t[n]%1;t[n]-=s,t[i]+=s*e[n][i]}return i},null)}function fH(e){const t={};for(const[r,n]of Object.entries(e))n!==0&&(t[r]=n);return t}class Se{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let n=r?hH:dH;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||Re.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,r){return Se.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new xr(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Se({values:Gg(t,Se.normalizeUnit),loc:Re.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(Sl(t))return Se.fromMillis(t);if(Se.isDuration(t))return t;if(typeof t=="object")return Se.fromObject(t);throw new xr(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[n]=iH(t);return n?Se.fromObject(n,r):Se.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[n]=oH(t);return n?Se.fromObject(n,r):Se.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new xr("need to specify a reason the Duration is invalid");const n=t instanceof Jn?t:new Jn(t,r);if(pt.throwOnInvalid)throw new UW(n);return new Se({invalid:n})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new jR(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?rr.create(this.loc,n).formatDurationFromString(this,t):_E}toHuman(t={}){if(!this.isValid)return _E;const r=fl.map(n=>{const i=this.values[n];return ae(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=vx(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},se.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?P5(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=Se.fromDurationLike(t),n={};for(const i of fl)(zc(r.values,i)||zc(this.values,i))&&(n[i]=r.get(i)+this.get(i));return Ws(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const r=Se.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=f5(t(this.values[n],n));return Ws(this,{values:r},!0)}get(t){return this[Se.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...Gg(t,Se.normalizeUnit)};return Ws(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:i,conversionAccuracy:n};return Ws(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return bE(this.matrix,t),Ws(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=fH(this.normalize().shiftToAll().toObject());return Ws(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>Se.normalizeUnit(o));const r={},n={},i=this.toObject();let s;for(const o of fl)if(t.indexOf(o)>=0){s=o;let a=0;for(const d in n)a+=this.matrix[d][o]*n[d],n[d]=0;Sl(i[o])&&(a+=i[o]);const l=Math.trunc(a);r[o]=l,n[o]=(a*1e3-l*1e3)/1e3}else Sl(i[o])&&(n[o]=i[o]);for(const o in n)n[o]!==0&&(r[s]+=o===s?n[o]:n[o]/this.matrix[s][o]);return bE(this.matrix,r),Ws(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return Ws(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of fl)if(!r(this.values[n],t.values[n]))return!1;return!0}}const ou="Invalid Interval";function mH(e,t){return!e||!e.isValid?st.invalid("missing or invalid start"):!t||!t.isValid?st.invalid("missing or invalid end"):t<e?st.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class st{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new xr("need to specify a reason the Interval is invalid");const n=t instanceof Jn?t:new Jn(t,r);if(pt.throwOnInvalid)throw new zW(n);return new st({invalid:n})}static fromDateTimes(t,r){const n=_d(t),i=_d(r),s=mH(n,i);return s??new st({start:n,end:i})}static after(t,r){const n=Se.fromDurationLike(r),i=_d(t);return st.fromDateTimes(i,i.plus(n))}static before(t,r){const n=Se.fromDurationLike(r),i=_d(t);return st.fromDateTimes(i.minus(n),i)}static fromISO(t,r){const[n,i]=(t||"").split("/",2);if(n&&i){let s,o;try{s=se.fromISO(n,r),o=s.isValid}catch{o=!1}let a,l;try{a=se.fromISO(i,r),l=a.isValid}catch{l=!1}if(o&&l)return st.fromDateTimes(s,a);if(o){const d=Se.fromISO(i,r);if(d.isValid)return st.after(s,d)}else if(l){const d=Se.fromISO(n,r);if(d.isValid)return st.before(a,d)}}return st.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(t,r);let i;return r!=null&&r.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(t,r),Math.floor(i.diff(n,t).get(t))+(i.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?st.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(_d).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),n=[];let{s:i}=this,s=0;for(;i<this.e;){const o=r[s]||this.e,a=+o>+this.e?this.e:o;n.push(st.fromDateTimes(i,a)),i=a,s+=1}return n}splitBy(t){const r=Se.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,s;const o=[];for(;n<this.e;){const a=this.start.plus(r.mapUnits(l=>l*i));s=+a>+this.e?this.e:a,o.push(st.fromDateTimes(n,s)),n=s,i+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:st.fromDateTimes(r,n)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return st.fromDateTimes(r,n)}static merge(t){const[r,n]=t.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return n&&r.push(n),r}static xor(t){let r=null,n=0;const i=[],s=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,d)=>l.time-d.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&i.push(st.fromDateTimes(r,l.time)),r=null);return st.merge(i)}difference(...t){return st.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:ou}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=zg,r={}){return this.isValid?rr.create(this.s.loc.clone(r),t).formatInterval(this):ou}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:ou}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:ou}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:ou}toFormat(t,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:ou}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):Se.invalid(this.invalidReason)}mapEndpoints(t){return st.fromDateTimes(t(this.s),t(this.e))}}class Yf{static hasDST(t=pt.defaultZone){const r=se.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return ii.isValidZone(t)}static normalizeZone(t){return Po(t,pt.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||Re.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||Re.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||Re.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Re.create(r,n,s)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Re.create(r,n,s)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Re.create(r,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Re.create(r,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Re.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return Re.create(r,null,"gregory").eras(t)}static features(){return{relative:d5(),localeWeek:h5()}}}function SE(e,t){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(Se.fromMillis(n).as("days"))}function yH(e,t,r){const n=[["years",(l,d)=>d.year-l.year],["quarters",(l,d)=>d.quarter-l.quarter+(d.year-l.year)*4],["months",(l,d)=>d.month-l.month+(d.year-l.year)*12],["weeks",(l,d)=>{const p=SE(l,d);return(p-p%7)/7}],["days",SE]],i={},s=e;let o,a;for(const[l,d]of n)r.indexOf(l)>=0&&(o=l,i[l]=d(e,t),a=s.plus(i),a>t?(i[l]--,e=s.plus(i),e>t&&(a=e,i[l]--,e=s.plus(i))):e=a);return[e,i,a,o]}function gH(e,t,r,n){let[i,s,o,a]=yH(e,t,r);const l=t-i,d=r.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);d.length===0&&(o<t&&(o=i.plus({[a]:1})),o!==i&&(s[a]=(s[a]||0)+l/(o-i)));const p=Se.fromObject(s,n);return d.length>0?Se.fromMillis(l,n).shiftTo(...d).plus(p):p}const Sx={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},$E={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},vH=Sx.hanidec.replace(/[\[|\]]/g,"").split("");function wH(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(e[r].search(Sx.hanidec)!==-1)t+=vH.indexOf(e[r]);else for(const i in $E){const[s,o]=$E[i];n>=s&&n<=o&&(t+=n-s)}}return parseInt(t,10)}else return t}function Pn({numberingSystem:e},t=""){return new RegExp(`${Sx[e||"latn"]}${t}`)}const _H="missing Intl.DateTimeFormat.formatToParts support";function Ee(e,t=r=>r){return{regex:e,deser:([r])=>t(wH(r))}}const bH="",C5=`[ ${bH}]`,O5=new RegExp(C5,"g");function SH(e){return e.replace(/\./g,"\\.?").replace(O5,C5)}function xE(e){return e.replace(/\./g,"").replace(O5," ").toLowerCase()}function Cn(e,t){return e===null?null:{regex:RegExp(e.map(SH).join("|")),deser:([r])=>e.findIndex(n=>xE(r)===xE(n))+t}}function TE(e,t){return{regex:e,deser:([,r,n])=>uv(r,n),groups:t}}function Qf(e){return{regex:e,deser:([t])=>t}}function $H(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function xH(e,t){const r=Pn(t),n=Pn(t,"{2}"),i=Pn(t,"{3}"),s=Pn(t,"{4}"),o=Pn(t,"{6}"),a=Pn(t,"{1,2}"),l=Pn(t,"{1,3}"),d=Pn(t,"{1,6}"),p=Pn(t,"{1,9}"),f=Pn(t,"{2,4}"),m=Pn(t,"{4,6}"),y=S=>({regex:RegExp($H(S.val)),deser:([w])=>w,literal:!0}),v=(S=>{if(e.literal)return y(S);switch(S.val){case"G":return Cn(t.eras("short"),0);case"GG":return Cn(t.eras("long"),0);case"y":return Ee(d);case"yy":return Ee(f,u2);case"yyyy":return Ee(s);case"yyyyy":return Ee(m);case"yyyyyy":return Ee(o);case"M":return Ee(a);case"MM":return Ee(n);case"MMM":return Cn(t.months("short",!0),1);case"MMMM":return Cn(t.months("long",!0),1);case"L":return Ee(a);case"LL":return Ee(n);case"LLL":return Cn(t.months("short",!1),1);case"LLLL":return Cn(t.months("long",!1),1);case"d":return Ee(a);case"dd":return Ee(n);case"o":return Ee(l);case"ooo":return Ee(i);case"HH":return Ee(n);case"H":return Ee(a);case"hh":return Ee(n);case"h":return Ee(a);case"mm":return Ee(n);case"m":return Ee(a);case"q":return Ee(a);case"qq":return Ee(n);case"s":return Ee(a);case"ss":return Ee(n);case"S":return Ee(l);case"SSS":return Ee(i);case"u":return Qf(p);case"uu":return Qf(a);case"uuu":return Ee(r);case"a":return Cn(t.meridiems(),0);case"kkkk":return Ee(s);case"kk":return Ee(f,u2);case"W":return Ee(a);case"WW":return Ee(n);case"E":case"c":return Ee(r);case"EEE":return Cn(t.weekdays("short",!1),1);case"EEEE":return Cn(t.weekdays("long",!1),1);case"ccc":return Cn(t.weekdays("short",!0),1);case"cccc":return Cn(t.weekdays("long",!0),1);case"Z":case"ZZ":return TE(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return TE(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return Qf(/[a-z_+-/]{1,256}?/i);case" ":return Qf(/[^\S\n\r]/);default:return y(S)}})(e)||{invalidReason:_H};return v.token=e,v}const TH={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function MH(e,t,r){const{type:n,value:i}=e;if(n==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=t[n];let o=n;n==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=r.hour12?"hour12":"hour24");let a=TH[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function EH(e){return[`^${e.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,e]}function kH(e,t,r){const n=e.match(t);if(n){const i={};let s=1;for(const o in r)if(zc(r,o)){const a=r[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(n.slice(s,s+l))),s+=l}return[n,i]}else return[n,{}]}function PH(e){const t=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return ae(e.z)||(r=ii.create(e.z)),ae(e.Z)||(r||(r=new nr(e.Z)),n=e.Z),ae(e.q)||(e.M=(e.q-1)*3+1),ae(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),ae(e.u)||(e.S=gx(e.u)),[Object.keys(e).reduce((s,o)=>{const a=t(o);return a&&(s[a]=e[o]),s},{}),r,n]}let R1=null;function CH(){return R1||(R1=se.fromMillis(1555555555555)),R1}function OH(e,t){if(e.literal)return e;const r=rr.macroTokenToFormatOpts(e.val),n=R5(r,t);return n==null||n.includes(void 0)?e:n}function I5(e,t){return Array.prototype.concat(...e.map(r=>OH(r,t)))}function A5(e,t,r){const n=I5(rr.parseFormat(r),e),i=n.map(o=>xH(o,e)),s=i.find(o=>o.invalidReason);if(s)return{input:t,tokens:n,invalidReason:s.invalidReason};{const[o,a]=EH(i),l=RegExp(o,"i"),[d,p]=kH(t,l,a),[f,m,y]=p?PH(p):[null,null,void 0];if(zc(p,"a")&&zc(p,"H"))throw new Xu("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:l,rawMatches:d,matches:p,result:f,zone:m,specificOffset:y}}}function IH(e,t,r){const{result:n,zone:i,specificOffset:s,invalidReason:o}=A5(e,t,r);return[n,i,s,o]}function R5(e,t){if(!e)return null;const n=rr.create(t,e).dtFormatter(CH()),i=n.formatToParts(),s=n.resolvedOptions();return i.map(o=>MH(o,e,s))}const L1="Invalid DateTime",ME=864e13;function Xf(e){return new Jn("unsupported zone",`the zone "${e.name}" is not supported`)}function N1(e){return e.weekData===null&&(e.weekData=Ug(e.c)),e.weekData}function D1(e){return e.localWeekData===null&&(e.localWeekData=Ug(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function _a(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new se({...r,...t,old:r})}function L5(e,t,r){let n=e-t*60*1e3;const i=r.offset(n);if(t===i)return[n,t];n-=(i-t)*60*1e3;const s=r.offset(n);return i===s?[n,i]:[e-Math.min(i,s)*60*1e3,Math.max(i,s)]}function em(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function ry(e,t,r){return L5(lv(e),t,r)}function EE(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:n,month:i,day:Math.min(e.c.day,Vg(n,i))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=Se.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=lv(s);let[l,d]=L5(a,r,e.zone);return o!==0&&(l+=o,d=e.zone.offset(l)),{ts:l,o:d}}function wd(e,t,r,n,i,s){const{setZone:o,zone:a}=r;if(e&&Object.keys(e).length!==0||t){const l=t||a,d=se.fromObject(e,{...r,zone:l,specificOffset:s});return o?d:d.setZone(a)}else return se.invalid(new Jn("unparsable",`the input "${i}" can't be parsed as ${n}`))}function tm(e,t,r=!0){return e.isValid?rr.create(Re.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function F1(e,t){const r=e.c.year>9999||e.c.year<0;let n="";return r&&e.c.year>=0&&(n+="+"),n+=gt(e.c.year,r?6:4),t?(n+="-",n+=gt(e.c.month),n+="-",n+=gt(e.c.day)):(n+=gt(e.c.month),n+=gt(e.c.day)),n}function kE(e,t,r,n,i,s){let o=gt(e.c.hour);return t?(o+=":",o+=gt(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(o+=":")):o+=gt(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(o+=gt(e.c.second),(e.c.millisecond!==0||!n)&&(o+=".",o+=gt(e.c.millisecond,3))),i&&(e.isOffsetFixed&&e.offset===0&&!s?o+="Z":e.o<0?(o+="-",o+=gt(Math.trunc(-e.o/60)),o+=":",o+=gt(Math.trunc(-e.o%60))):(o+="+",o+=gt(Math.trunc(e.o/60)),o+=":",o+=gt(Math.trunc(e.o%60)))),s&&(o+="["+e.zone.ianaName+"]"),o}const N5={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},AH={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},RH={ordinal:1,hour:0,minute:0,second:0,millisecond:0},D5=["year","month","day","hour","minute","second","millisecond"],LH=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],NH=["year","ordinal","hour","minute","second","millisecond"];function DH(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new jR(e);return t}function PE(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return DH(e)}}function CE(e,t){const r=Po(t.zone,pt.defaultZone),n=Re.fromObject(t),i=pt.now();let s,o;if(ae(e.year))s=i;else{for(const d of D5)ae(e[d])&&(e[d]=N5[d]);const a=u5(e)||c5(e);if(a)return se.invalid(a);const l=r.offset(i);[s,o]=ry(e,l,r)}return new se({ts:s,zone:r,loc:n,o})}function OE(e,t,r){const n=ae(r.round)?!0:r.round,i=(o,a)=>(o=vx(o,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(o,a)),s=o=>r.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(r.unit)return i(s(r.unit),r.unit);for(const o of r.units){const a=s(o);if(Math.abs(a)>=1)return i(a,o)}return i(e>t?-0:0,r.units[r.units.length-1])}function IE(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}class se{constructor(t){const r=t.zone||pt.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new Jn("invalid input"):null)||(r.isValid?null:Xf(r));this.ts=ae(t.ts)?pt.now():t.ts;let i=null,s=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[i,s]=[t.old.c,t.old.o];else{const a=r.offset(this.ts);i=em(this.ts,a),n=Number.isNaN(i.year)?new Jn("invalid input"):null,i=n?null:i,s=n?null:a}this._zone=r,this.loc=t.loc||Re.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new se({})}static local(){const[t,r]=IE(arguments),[n,i,s,o,a,l,d]=r;return CE({year:n,month:i,day:s,hour:o,minute:a,second:l,millisecond:d},t)}static utc(){const[t,r]=IE(arguments),[n,i,s,o,a,l,d]=r;return t.zone=nr.utcInstance,CE({year:n,month:i,day:s,hour:o,minute:a,second:l,millisecond:d},t)}static fromJSDate(t,r={}){const n=hB(t)?t.valueOf():NaN;if(Number.isNaN(n))return se.invalid("invalid input");const i=Po(r.zone,pt.defaultZone);return i.isValid?new se({ts:n,zone:i,loc:Re.fromObject(r)}):se.invalid(Xf(i))}static fromMillis(t,r={}){if(Sl(t))return t<-ME||t>ME?se.invalid("Timestamp out of range"):new se({ts:t,zone:Po(r.zone,pt.defaultZone),loc:Re.fromObject(r)});throw new xr(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(Sl(t))return new se({ts:t*1e3,zone:Po(r.zone,pt.defaultZone),loc:Re.fromObject(r)});throw new xr("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const n=Po(r.zone,pt.defaultZone);if(!n.isValid)return se.invalid(Xf(n));const i=Re.fromObject(r),s=Gg(t,PE),{minDaysInFirstWeek:o,startOfWeek:a}=mE(s,i),l=pt.now(),d=ae(r.specificOffset)?n.offset(l):r.specificOffset,p=!ae(s.ordinal),f=!ae(s.year),m=!ae(s.month)||!ae(s.day),y=f||m,g=s.weekYear||s.weekNumber;if((y||p)&&g)throw new Xu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&p)throw new Xu("Can't mix ordinal dates with month/day");const v=g||s.weekday&&!y;let S,w,_=em(l,d);v?(S=LH,w=AH,_=Ug(_,o,a)):p?(S=NH,w=RH,_=A1(_)):(S=D5,w=N5);let $=!1;for(const R of S){const G=s[R];ae(G)?$?s[R]=w[R]:s[R]=_[R]:$=!0}const x=v?uB(s,o,a):p?cB(s):u5(s),T=x||c5(s);if(T)return se.invalid(T);const E=v?pE(s,o,a):p?fE(s):s,[P,O]=ry(E,d,n),A=new se({ts:P,zone:n,o:O,loc:i});return s.weekday&&y&&t.weekday!==A.weekday?se.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${A.toISO()}`):A}static fromISO(t,r={}){const[n,i]=tH(t);return wd(n,i,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[n,i]=rH(t);return wd(n,i,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[n,i]=nH(t);return wd(n,i,r,"HTTP",r)}static fromFormat(t,r,n={}){if(ae(t)||ae(r))throw new xr("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=n,o=Re.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[a,l,d,p]=IH(o,t,r);return p?se.invalid(p):wd(a,l,n,`format ${r}`,t,d)}static fromString(t,r,n={}){return se.fromFormat(t,r,n)}static fromSQL(t,r={}){const[n,i]=cH(t);return wd(n,i,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new xr("need to specify a reason the DateTime is invalid");const n=t instanceof Jn?t:new Jn(t,r);if(pt.throwOnInvalid)throw new jW(n);return new se({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const n=R5(t,Re.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(t,r={}){return I5(rr.parseFormat(t),Re.fromObject(r)).map(i=>i.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?N1(this).weekYear:NaN}get weekNumber(){return this.isValid?N1(this).weekNumber:NaN}get weekday(){return this.isValid?N1(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?D1(this).weekday:NaN}get localWeekNumber(){return this.isValid?D1(this).weekNumber:NaN}get localWeekYear(){return this.isValid?D1(this).weekYear:NaN}get ordinal(){return this.isValid?A1(this.c).ordinal:NaN}get monthShort(){return this.isValid?Yf.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Yf.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Yf.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Yf.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,n=lv(this.c),i=this.zone.offset(n-t),s=this.zone.offset(n+t),o=this.zone.offset(n-i*r),a=this.zone.offset(n-s*r);if(o===a)return[this];const l=n-o*r,d=n-a*r,p=em(l,o),f=em(d,a);return p.hour===f.hour&&p.minute===f.minute&&p.second===f.second&&p.millisecond===f.millisecond?[_a(this,{ts:l}),_a(this,{ts:d})]:[this]}get isInLeapYear(){return of(this.year)}get daysInMonth(){return Vg(this.year,this.month)}get daysInYear(){return this.isValid?fc(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ep(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ep(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:n,calendar:i}=rr.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(t=0,r={}){return this.setZone(nr.instance(t),r)}toLocal(){return this.setZone(pt.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(t=Po(t,pt.defaultZone),t.equals(this.zone))return this;if(t.isValid){let i=this.ts;if(r||n){const s=t.offset(this.ts),o=this.toObject();[i]=ry(o,s,t)}return _a(this,{ts:i,zone:t})}else return se.invalid(Xf(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:n});return _a(this,{loc:i})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=Gg(t,PE),{minDaysInFirstWeek:n,startOfWeek:i}=mE(r,this.loc),s=!ae(r.weekYear)||!ae(r.weekNumber)||!ae(r.weekday),o=!ae(r.ordinal),a=!ae(r.year),l=!ae(r.month)||!ae(r.day),d=a||l,p=r.weekYear||r.weekNumber;if((d||o)&&p)throw new Xu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Xu("Can't mix ordinal dates with month/day");let f;s?f=pE({...Ug(this.c,n,i),...r},n,i):ae(r.ordinal)?(f={...this.toObject(),...r},ae(r.day)&&(f.day=Math.min(Vg(f.year,f.month),f.day))):f=fE({...A1(this.c),...r});const[m,y]=ry(f,this.o,this.zone);return _a(this,{ts:m,o:y})}plus(t){if(!this.isValid)return this;const r=Se.fromDurationLike(t);return _a(this,EE(this,r))}minus(t){if(!this.isValid)return this;const r=Se.fromDurationLike(t).negate();return _a(this,EE(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},i=Se.normalizeUnit(t);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks")if(r){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(n.weekNumber=this.weekNumber-1),n.weekday=s}else n.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);n.month=(s-1)*3+1}return this.set(n)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?rr.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):L1}toLocaleString(t=zg,r={}){return this.isValid?rr.create(this.loc.clone(r),t).formatDateTime(this):L1}toLocaleParts(t={}){return this.isValid?rr.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=F1(this,o);return a+="T",a+=kE(this,o,r,n,i,s),a}toISODate({format:t="extended"}={}){return this.isValid?F1(this,t==="extended"):null}toISOWeekDate(){return tm(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+kE(this,o==="extended",r,t,n,s):null}toRFC2822(){return tm(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return tm(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?F1(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||t)&&(n&&(i+=" "),r?i+="z":t&&(i+="ZZ")),tm(this,i,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():L1}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",n={}){if(!this.isValid||!t.isValid)return Se.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=pB(r).map(Se.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,d=gH(a,l,s,i);return o?d.negate():d}diffNow(t="milliseconds",r={}){return this.diff(se.now(),t,r)}until(t){return this.isValid?st.fromDateTimes(this,t):this}hasSame(t,r,n){if(!this.isValid)return!1;const i=t.valueOf(),s=this.setZone(t.zone,{keepLocalTime:!0});return s.startOf(r,n)<=i&&i<=s.endOf(r,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||se.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(i=t.unit,s=void 0),OE(r,this.plus(n),{...t,numeric:"always",units:i,unit:s})}toRelativeCalendar(t={}){return this.isValid?OE(t.base||se.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(se.isDateTime))throw new xr("min requires all arguments be DateTimes");return yE(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(se.isDateTime))throw new xr("max requires all arguments be DateTimes");return yE(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,n={}){const{locale:i=null,numberingSystem:s=null}=n,o=Re.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return A5(o,t,r)}static fromStringExplain(t,r,n={}){return se.fromFormatExplain(t,r,n)}static get DATE_SHORT(){return zg}static get DATE_MED(){return zR}static get DATE_MED_WITH_WEEKDAY(){return VW}static get DATE_FULL(){return UR}static get DATE_HUGE(){return VR}static get TIME_SIMPLE(){return GR}static get TIME_WITH_SECONDS(){return WR}static get TIME_WITH_SHORT_OFFSET(){return BR}static get TIME_WITH_LONG_OFFSET(){return HR}static get TIME_24_SIMPLE(){return qR}static get TIME_24_WITH_SECONDS(){return ZR}static get TIME_24_WITH_SHORT_OFFSET(){return JR}static get TIME_24_WITH_LONG_OFFSET(){return KR}static get DATETIME_SHORT(){return YR}static get DATETIME_SHORT_WITH_SECONDS(){return QR}static get DATETIME_MED(){return XR}static get DATETIME_MED_WITH_SECONDS(){return e5}static get DATETIME_MED_WITH_WEEKDAY(){return GW}static get DATETIME_FULL(){return t5}static get DATETIME_FULL_WITH_SECONDS(){return r5}static get DATETIME_HUGE(){return n5}static get DATETIME_HUGE_WITH_SECONDS(){return i5}}function _d(e){if(se.isDateTime(e))return e;if(e&&e.valueOf&&Sl(e.valueOf()))return se.fromJSDate(e);if(e&&typeof e=="object")return se.fromObject(e);throw new xr(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const Fi="system",$x="unknown",kp="UTC",FH=Intl.DateTimeFormat().resolvedOptions().timeZone,jH="shortOffset";function zH(e){return"timeZoneIANA"in e}function UH(e){return e.startsWith("UTC")}function Gde(e,t=!1){return{json:{read:{source:e,reader:(r,n)=>n[e]?VH(n[e]):null},write:!!t&&{allowNull:!0,writer(r,n){n[e]=r?GH(r):null}}}}}function VH(e,t=Fi){return e?zH(e)?e.timeZoneIANA:WH(e,t):t}function GH(e){return{timeZoneIANA:e}}function WH(e,t=Fi){if(!e||!rE.has(e.timeZone))return t;const r=rE.get(e.timeZone);return UH(e.timeZone)||e.respectsDaylightSaving?r:BH(r)}function BH(e){const t=se.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return r===0?"Etc/UTC":`Etc/GMT${nr.instance(-r).formatOffset(0,"narrow")}`}function Wde(e,t,r,n,i){if(t&&i==="date")return{timeZone:kp,timeZoneName:void 0};const s=n.timeStyle||n.hour,o=r===$x;return{timeZone:o?i==="timestamp-offset"?void 0:e??kp:r,timeZoneName:o&&s?jH:void 0}}const HH={year:void 0,month:void 0,day:void 0,weekday:void 0},qH={hour:void 0,minute:void 0,second:void 0},F5={timeZone:kp},li={year:"numeric",month:"numeric",day:"numeric"},bd={year:"numeric",month:"long",day:"numeric"},Sd={year:"numeric",month:"short",day:"numeric"},$d={year:"numeric",month:"long",weekday:"long",day:"numeric"},bo={hour:"numeric",minute:"numeric"},Ia={...bo,second:"numeric"},j5={hourCycle:"h23"},xd={...bo,...j5},Td={...Ia,...j5},z5={"short-date":li,"short-date-short-time":{...li,...bo},"short-date-short-time-24":{...li,...xd},"short-date-long-time":{...li,...Ia},"short-date-long-time-24":{...li,...Td},"short-date-le":li,"short-date-le-short-time":{...li,...bo},"short-date-le-short-time-24":{...li,...xd},"short-date-le-long-time":{...li,...Ia},"short-date-le-long-time-24":{...li,...Td},"long-month-day-year":bd,"long-month-day-year-short-time":{...bd,...bo},"long-month-day-year-short-time-24":{...bd,...xd},"long-month-day-year-long-time":{...bd,...Ia},"long-month-day-year-long-time-24":{...bd,...Td},"day-short-month-year":Sd,"day-short-month-year-short-time":{...Sd,...bo},"day-short-month-year-short-time-24":{...Sd,...xd},"day-short-month-year-long-time":{...Sd,...Ia},"day-short-month-year-long-time-24":{...Sd,...Td},"long-date":$d,"long-date-short-time":{...$d,...bo},"long-date-short-time-24":{...$d,...xd},"long-date-long-time":{...$d,...Ia},"long-date-long-time-24":{...$d,...Td},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":bo,"long-time":Ia},ZH=Ir()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),U5={ar:"ar-u-nu-latn-ca-gregory"};let c2=new WeakMap;const dv=z5["short-date-short-time"];function JH(e){let t=c2.get(e);if(!t){const r=Zr(),n=U5[r]||r,i=xx(e.timeZone??Fi),s={...e,timeZone:i};t=new Intl.DateTimeFormat(n,s),c2.set(e,t)}return t}function Bde(e){return z5[e]}function ra(e,t=dv){return JH(t).format(e)}function Hde(e,t=dv){return ra(new Date(e),{...t,...F5,...qH})}function qde(e,t=dv){return ra(new Date(`1970-01-01T${e}Z`),{...t,...F5,...HH})}function Zde(e,t=dv){if(t.timeZone)return ra(new Date(e),t);const r=se.fromISO(e,{setZone:!0}),n=Zr(),i=U5[n]??n,s=r.offset===0?kp:t.timeZone,o={...t,timeZone:s};return r.toLocaleString(o,{locale:i})}function xx(e){switch(e){case Fi:return FH;case $x:return kp;default:return e}}fx(()=>{c2=new WeakMap});const KH={ar:"ar-u-nu-latn"};let ny=new WeakMap,V5={};function YH(e){const t=e||V5;if(!ny.has(t)){const r=Zr(),n=KH[Zr()]||r;ny.set(t,new Intl.NumberFormat(n,e))}return ny.get(t)}function Jde(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function Wg(e,t){return Object.is(e,-0)&&(e=0),YH(t).format(e)}fx(()=>{ny=new WeakMap,V5={}});const G5=()=>z.getLogger("esri.intl.substitute");function W5(e,t,r={}){const{format:n={}}=r;return T$(e,i=>QH(i,t,n))}function QH(e,t,r){let n,i;const s=e.indexOf(":");if(s===-1?n=e.trim():(n=e.slice(0,s).trim(),i=e.slice(s+1).trim()),!n)return"";const o=Hp(n,t);if(o==null)return"";const a=(i?r==null?void 0:r[i]:null)??(r==null?void 0:r[n]);return a?XH(o,a):i?eq(o,i):Tx(o)}function XH(e,t){switch(t.type){case"date":return ra(e,t.intlOptions);case"number":return Wg(e,t.intlOptions);default:return G5().warn("missing format descriptor for key {key}"),Tx(e)}}function eq(e,t){switch(t.toLowerCase()){case"dateformat":return ra(e);case"numberformat":return Wg(e);default:return G5().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?ra(e):/^numberformat/i.test(t)?Wg(e):Tx(e)}}function Tx(e){switch(typeof e){case"string":return e;case"number":return Wg(e);case"boolean":return""+e;default:return e instanceof Date?ra(e):""}}const AE=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,tq={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function RE(e){return e in tq}const Gd=[],yc=new Map;function LE(e){for(const t of yc.keys())B5(e.pattern,t)&&yc.delete(t)}function rq(e){return Gd.includes(e)||(LE(e),Gd.unshift(e)),ke(()=>{const t=Gd.indexOf(e);t>-1&&(Gd.splice(t,1),LE(e))})}async function Mx(e){const t=Zr();yc.has(e)||yc.set(e,iq(e,t));const r=yc.get(e);return r&&await sq.add(r),r}function nq(e){if(!AE.test(e))return null;const t=AE.exec(e);if(t===null)return null;const[,r,n]=t,i=r+(n?"-"+n.toUpperCase():"");return RE(i)?i:RE(r)?r:null}async function iq(e,t){const r=[];for(const n of Gd)if(B5(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(i){r.push(i)}throw r.length?new j("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new j("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function B5(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}fx(()=>{yc.clear()});const sq=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Tn())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function oq(e,t,r,n){const i=t.exec(r);if(!i)throw new j("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const s=i[1]?`${i[1]}/`:"",o=i[2],a=nq(n),l=`${s}${o}.json`,d=a?`${s}${o}_${a}.json`:l;let p;try{p=await NE(e(d))}catch(f){if(d===l)throw new j("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:f});try{p=await NE(e(l))}catch(m){throw new j("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:m})}}return p}async function NE(e){if(DE.fetchBundleAsset!=null)return DE.fetchBundleAsset(e);const t=await at(e,{responseType:"text"});return JSON.parse(t.data)}let aq=class{constructor({base:t="",pattern:r,location:n=new URL(window.location.href)}){let i;i=typeof n=="string"?s=>new URL(s,new URL(n,window.location.href)).href:n instanceof URL?s=>new URL(s,n).href:n,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=i,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,r){return oq(this.getAssetUrl,this.matcher,t,r)}};function lq(e){return new aq(e)}const DE={};rq(lq({pattern:"esri/",location:be}));const FE={};function uq(e){var r;const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:((r=e.packages)==null?void 0:r.concat())||[],paths:{...FE.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=FE.baseUrl),t}let cq=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...n)=>t[r](...n)})}},iy=class{constructor(){this._dispatcher=new cq,this._workerPostMessage({type:It.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){gg(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,n){this._dispatcher.addEventListener(t,r,n)}removeEventListener(t,r,n){this._dispatcher.removeEventListener(t,r,n)}_workerPostMessage(t){gg(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const r=Mp(t);if(r&&r.type===It.OPEN){const{modulePath:n,jobId:i}=r;let s=await ta.loadWorker(n);s||(s=await import(n));const o=ta.connect(s);this._workerPostMessage({type:It.OPENED,jobId:i,data:o})}}};const d2=()=>z.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:dq}=It,hq='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let rm,nm;const jE="Failed to create Worker. Fallback to execute module in main thread";async function pq(){if(!I("esri-workers"))return zE(new iy);if(!rm&&!nm)try{const t=hq.split("{CONFIGURATION}").join(fq());rm=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){nm=t||{}}let e;if(rm)try{e=new Worker(rm,{name:"esri-worker-"+mq++})}catch{d2().warn(jE,nm),e=new iy}else d2().warn(jE,nm),e=new iy;return zE(e)}async function zE(e){return new Promise(t=>{function r(i){const s=Mp(i);s&&s.type===dq&&(e.removeEventListener("message",r),e.removeEventListener("error",n),t(e))}function n(i){i.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",n),d2().warn("Failed to create Worker. Fallback to execute module in main thread",i),(e=new iy).addEventListener("message",r),e.addEventListener("error",n)}e.addEventListener("message",r),e.addEventListener("error",n)})}function fq(){let e;if(ye.default!=null){const i={...ye};delete i.default,e=JSON.parse(JSON.stringify(i))}else e=JSON.parse(JSON.stringify(ye));e.assetsPath=mn(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?mn(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=Zr(),e.has={"esri-csp-restrictions":I("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":I("esri-2d-update-debug"),"esri-2d-log-updating":I("esri-2d-log-updating"),"featurelayer-pbf":I("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":I("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":I("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":I("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":I("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":I("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":I("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":I("featurelayer-snapshot-enabled"),"esri-atomics":I("esri-atomics"),"esri-shared-array-buffer":I("esri-shared-array-buffer"),"esri-tiles-debug":I("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":I("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":I("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=mn(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=mn(e.workers.workerPath):e.workers.workerPath=mn(be("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=ye.workers.loaderConfig,r=uq({baseUrl:t==null?void 0:t.baseUrl,locale:Zr(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:e,loaderConfig:r,kernelInfo:{buildDate:PA,fullVersion:K$,revision:CA}})}let mq=0;const{ABORT:UE,INVOKE:yq,OPEN:gq,OPENED:vq,RESPONSE:Md}=It;let wq=class H5{static async create(t){const r=await pq();return new H5(r,t)}constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",n=>{n.preventDefault(),z.getLogger("esri.core.workers.WorkerOwner").error(n)})}terminate(){this.worker.terminate()}async open(t,r={}){const{signal:n}=r,i=DR();return new Promise((s,o)=>{const a={resolve:s,reject:o,abortHandle:E$(n,()=>{this._outJobs.delete(i),this._post({type:UE,jobId:i})})};this._outJobs.set(i,a),this._post({type:gq,jobId:i,modulePath:t})})}_onMessage(t){const r=Mp(t);if(r)switch(r.type){case vq:this._onOpenedMessage(r);break;case Md:this._onResponseMessage(r);break;case UE:this._onAbortMessage(r);break;case yq:this._onInvokeMessage(r)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);i&&(i.controller&&i.controller.abort(),r.delete(n))}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i,abortable:s}=t,o=s?new AbortController:null,a=this._inJobs,l=LW[r];let d;try{if(typeof l!="function")throw new TypeError(`${r} is not a function`);d=l.call(null,i,{signal:o?o.signal:null})}catch(p){return void this._post({type:Md,jobId:n,error:Tp(p)})}ha(d)?(a.set(n,{controller:o,promise:d}),d.then(p=>{a.has(n)&&(a.delete(n),this._post({type:Md,jobId:n},p))},p=>{a.has(n)&&(a.delete(n),p||(p={message:"Error encountered at method"+r}),Mn(p)||this._post({type:Md,jobId:n,error:Tp(p||{message:`Error encountered at method ${r}`})}))})):this._post({type:Md,jobId:n},d)}_onOpenedMessage(t){const{jobId:r,data:n}=t,i=this._outJobs.get(r);i&&(this._outJobs.delete(r),Ke(i.abortHandle),i.resolve(n))}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,s=this._outJobs.get(r);s&&(this._outJobs.delete(r),Ke(s.abortHandle),n?s.reject(j.fromJSON(JSON.parse(n))):s.resolve(i))}_post(t,r,n){return hx(this.worker,t,r,n)}};const VE=I("host-browser")?Math.min(navigator.hardwareConcurrency-1,I("workers-pool-size")):0;let ml=I("esri-mobile")?Math.min(VE,3):VE;ml||(ml=I("safari")&&I("mac")?7:2);let GE=0;const sy=[];function _q(){q5()}async function im(e,t){const r=new RW,{registryTarget:n,...i}=t;return await r.open(e,i),n&&xW(n,r),r}async function Xde(e,t={}){if(typeof e!="string")throw new j("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(I("host-webworker")&&!I("esri-workers")&&(r="local"),r==="local"){let n=await ta.loadWorker(e);n||(n=await import(e)),lt(t.signal);const i=t.client||n;return im([ta.connect(n,t.schedule)],{...t,client:i})}if(await q5(),lt(t.signal),r==="dedicated"){const n=GE++%ml;return im([await sy[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const n=Math.min(t.maxNumWorkers,ml);if(n<ml){const i=new Array(n);for(let s=0;s<n;++s){const o=GE++%ml;i[s]=sy[o].open(e,t)}return im(i,t)}}return im(sy.map(n=>n.open(e,t)),t)}let sm=null;async function q5(){if(sm)return sm;new AbortController;const e=[];for(let t=0;t<ml;t++){const r=wq.create(t).then(n=>(sy[t]=n,n));e.push(r)}return sm=Promise.all(e),sm}const ba=Math.PI/180,bq=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,Bs=ut.radius,On=ut.eccentricitySquared,Sq={a1:Bs*On,a2:Bs*On*Bs*On,a3:Bs*On*On/2,a4:Bs*On*Bs*On*2.5,a5:Bs*On+Bs*On*On/2,a6:1-On},$q={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:ut.radius,f:ut.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:Qo.radius,f:Qo.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:Ii.radius,f:Ii.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:Ii.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var C;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(C||(C={}));const xq={[C.WGS84]:{[C.CGCS2000]:We,[C.GCSMARS2000]:null,[C.GCSMOON2000]:null,[C.LON_LAT]:We,[C.SPHERICAL_ECEF]:Vh,[C.SPHERICAL_MARS_PCPF]:null,[C.SPHERICAL_MOON_PCPF]:null,[C.UNKNOWN]:null,[C.WEB_MERCATOR]:gc,[C.PLATE_CARREE]:vc,[C.WGS84]:We,[C.WGS84_ECEF]:bc},[C.CGCS2000]:{[C.CGCS2000]:We,[C.GCSMARS2000]:null,[C.GCSMOON2000]:null,[C.LON_LAT]:We,[C.SPHERICAL_ECEF]:Vh,[C.SPHERICAL_MARS_PCPF]:null,[C.SPHERICAL_MOON_PCPF]:null,[C.UNKNOWN]:null,[C.WEB_MERCATOR]:gc,[C.PLATE_CARREE]:vc,[C.WGS84]:We,[C.WGS84_ECEF]:bc},[C.GCSMARS2000]:{[C.CGCS2000]:null,[C.GCSMARS2000]:We,[C.GCSMOON2000]:null,[C.LON_LAT]:We,[C.SPHERICAL_ECEF]:null,[C.SPHERICAL_MARS_PCPF]:HE,[C.SPHERICAL_MOON_PCPF]:null,[C.UNKNOWN]:null,[C.WEB_MERCATOR]:null,[C.PLATE_CARREE]:null,[C.WGS84]:null,[C.WGS84_ECEF]:null},[C.GCSMOON2000]:{[C.CGCS2000]:null,[C.GCSMARS2000]:null,[C.GCSMOON2000]:We,[C.LON_LAT]:We,[C.SPHERICAL_ECEF]:null,[C.SPHERICAL_MARS_PCPF]:null,[C.SPHERICAL_MOON_PCPF]:BE,[C.UNKNOWN]:null,[C.WEB_MERCATOR]:null,[C.PLATE_CARREE]:null,[C.WGS84]:null,[C.WGS84_ECEF]:null},[C.WEB_MERCATOR]:{[C.CGCS2000]:Uh,[C.GCSMARS2000]:null,[C.GCSMOON2000]:null,[C.LON_LAT]:Uh,[C.SPHERICAL_ECEF]:Tq,[C.SPHERICAL_MARS_PCPF]:null,[C.SPHERICAL_MOON_PCPF]:null,[C.UNKNOWN]:null,[C.WEB_MERCATOR]:We,[C.PLATE_CARREE]:kq,[C.WGS84]:Uh,[C.WGS84_ECEF]:Mq},[C.WGS84_ECEF]:{[C.CGCS2000]:Sc,[C.GCSMARS2000]:null,[C.GCSMOON2000]:null,[C.LON_LAT]:Sc,[C.SPHERICAL_ECEF]:Dq,[C.SPHERICAL_MARS_PCPF]:null,[C.SPHERICAL_MOON_PCPF]:null,[C.UNKNOWN]:null,[C.WEB_MERCATOR]:Fq,[C.PLATE_CARREE]:Pq,[C.WGS84]:Sc,[C.WGS84_ECEF]:We},[C.SPHERICAL_ECEF]:{[C.CGCS2000]:_c,[C.GCSMARS2000]:null,[C.GCSMOON2000]:null,[C.LON_LAT]:_c,[C.SPHERICAL_ECEF]:We,[C.SPHERICAL_MARS_PCPF]:null,[C.SPHERICAL_MOON_PCPF]:null,[C.UNKNOWN]:null,[C.WEB_MERCATOR]:Rq,[C.PLATE_CARREE]:Cq,[C.WGS84]:_c,[C.WGS84_ECEF]:Lq},[C.SPHERICAL_MARS_PCPF]:{[C.CGCS2000]:null,[C.GCSMARS2000]:ZE,[C.GCSMOON2000]:null,[C.LON_LAT]:ZE,[C.SPHERICAL_ECEF]:null,[C.SPHERICAL_MARS_PCPF]:We,[C.SPHERICAL_MOON_PCPF]:null,[C.UNKNOWN]:null,[C.WEB_MERCATOR]:null,[C.PLATE_CARREE]:null,[C.WGS84]:null,[C.WGS84_ECEF]:null},[C.SPHERICAL_MOON_PCPF]:{[C.CGCS2000]:null,[C.GCSMARS2000]:null,[C.GCSMOON2000]:qE,[C.LON_LAT]:qE,[C.SPHERICAL_ECEF]:null,[C.SPHERICAL_MARS_PCPF]:null,[C.SPHERICAL_MOON_PCPF]:We,[C.UNKNOWN]:null,[C.WEB_MERCATOR]:null,[C.PLATE_CARREE]:null,[C.WGS84]:null,[C.WGS84_ECEF]:null},[C.UNKNOWN]:{[C.CGCS2000]:null,[C.GCSMARS2000]:null,[C.GCSMOON2000]:null,[C.LON_LAT]:null,[C.SPHERICAL_ECEF]:null,[C.SPHERICAL_MARS_PCPF]:null,[C.SPHERICAL_MOON_PCPF]:null,[C.UNKNOWN]:We,[C.WEB_MERCATOR]:null,[C.PLATE_CARREE]:null,[C.WGS84]:null,[C.WGS84_ECEF]:null},[C.LON_LAT]:{[C.CGCS2000]:We,[C.GCSMARS2000]:We,[C.GCSMOON2000]:We,[C.LON_LAT]:We,[C.SPHERICAL_ECEF]:Vh,[C.SPHERICAL_MARS_PCPF]:HE,[C.SPHERICAL_MOON_PCPF]:BE,[C.UNKNOWN]:null,[C.WEB_MERCATOR]:gc,[C.PLATE_CARREE]:vc,[C.WGS84]:We,[C.WGS84_ECEF]:bc},[C.PLATE_CARREE]:{[C.CGCS2000]:wc,[C.GCSMARS2000]:null,[C.GCSMOON2000]:null,[C.LON_LAT]:wc,[C.SPHERICAL_ECEF]:Oq,[C.SPHERICAL_MARS_PCPF]:null,[C.SPHERICAL_MOON_PCPF]:null,[C.UNKNOWN]:null,[C.WEB_MERCATOR]:Iq,[C.PLATE_CARREE]:We,[C.WGS84]:wc,[C.WGS84_ECEF]:Aq}};function Z5(e,t,r=J5()){return e==null||t==null?null:jq(e,t,r).projector}function WE(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=Vi(e,1)),Ng(e)?t.spatialReferenceId=C.SPHERICAL_ECEF:Ll(e)?t.spatialReferenceId=C.WGS84:Ni(e)?t.spatialReferenceId=C.WEB_MERCATOR:tG(e)?t.spatialReferenceId=C.PLATE_CARREE:e.wkt===sG.wkt?t.spatialReferenceId=C.WGS84_ECEF:e.wkid===Rl.CGCS2000?t.spatialReferenceId=C.CGCS2000:e.wkt===X$.wkt?t.spatialReferenceId=C.SPHERICAL_MARS_PCPF:e.wkt===ex.wkt?t.spatialReferenceId=C.SPHERICAL_MOON_PCPF:zA(e)?t.spatialReferenceId=C.GCSMARS2000:UA(e)?t.spatialReferenceId=C.GCSMOON2000:t.spatialReferenceId=C.UNKNOWN):C.UNKNOWN}function We(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function Uh(e,t,r,n){r[n]=Vc*(e[t]/$l),r[n+1]=Vc*(Y5-2*Math.atan(Math.exp(-e[t+1]/$l))),r[n+2]=e[t+2]}function Tq(e,t,r,n){const i=e[t]/$l,s=Y5-2*Math.atan(Math.exp(-e[t+1]/$l)),o=$l+e[t+2],a=Math.cos(s)*o;r[n]=Math.cos(i)*a,r[n+1]=Math.sin(i)*a,r[n+2]=Math.sin(s)*o}function Mq(e,t,r,n){Uh(e,t,r,n),bc(r,n,r,n)}function Eq(e,t,r,n,i){const s=.4999999*hv,o=Ri(Uc*e[t+1],-s,s),a=Math.sin(o);r[n++]=Uc*e[t]*i.radius,r[n++]=i.halfSemiMajorAxis*Math.log((1+a)/(1-a)),r[n]=e[t+2]}function gc(e,t,r,n){Eq(e,t,r,n,ut)}function vc(e,t,r,n){r[n]=e[t]*JE,r[n+1]=e[t+1]*JE,r[n+2]=e[t+2]}function wc(e,t,r,n){r[n]=e[t]*KE,r[n+1]=e[t+1]*KE,r[n+2]=e[t+2]}function kq(e,t,r,n){Uh(e,t,r,n),vc(r,n,r,n)}function Pq(e,t,r,n){Sc(e,t,r,n),vc(r,n,r,n)}function Cq(e,t,r,n){_c(e,t,r,n),vc(r,n,r,n)}function Oq(e,t,r,n){wc(e,t,r,n),Vh(r,n,r,n)}function Iq(e,t,r,n){wc(e,t,r,n),gc(r,n,r,n)}function Aq(e,t,r,n){wc(e,t,r,n),bc(r,n,r,n)}function Ex(e,t,r,n,i){const s=i+e[t+2],o=Uc*e[t+1],a=Uc*e[t],l=Math.cos(o)*s;r[n]=Math.cos(a)*l,r[n+1]=Math.sin(a)*l,r[n+2]=Math.sin(o)*s}function BE(e,t,r,n){Ex(e,t,r,n,Qo.radius)}function HE(e,t,r,n){Ex(e,t,r,n,Ii.radius)}function Vh(e,t,r,n){Ex(e,t,r,n,ut.radius)}function kx(e,t,r,n,i){const s=e[t],o=e[t+1],a=e[t+2],l=Math.sqrt(s*s+o*o+a*a),d=mA(a/(l===0?1:l)),p=Math.atan2(o,s);r[n++]=Vc*p,r[n++]=Vc*d,r[n]=l-i}function qE(e,t,r,n){kx(e,t,r,n,Qo.radius)}function ZE(e,t,r,n){kx(e,t,r,n,Ii.radius)}function _c(e,t,r,n){kx(e,t,r,n,ut.radius)}function Rq(e,t,r,n){_c(e,t,r,n),gc(r,n,r,n)}function Lq(e,t,r,n){_c(e,t,r,n),bc(r,n,r,n)}function Nq(e,t,r,n,i){const s=Uc*e[t],o=Uc*e[t+1],a=e[t+2],l=Math.sin(o),d=Math.cos(o),p=i.radius/Math.sqrt(1-i.eccentricitySquared*l*l);r[n++]=(p+a)*d*Math.cos(s),r[n++]=(p+a)*d*Math.sin(s),r[n++]=(p*(1-i.eccentricitySquared)+a)*l}function bc(e,t,r,n){Nq(e,t,r,n,ut)}function Sc(e,t,r,n){const i=Sq,s=e[t],o=e[t+1],a=e[t+2];let l,d,p,f,m,y,g,v,S,w,_,$,x,T,E,P,O,A,R,G,Z;l=Math.abs(a),d=s*s+o*o,p=Math.sqrt(d),f=d+a*a,m=Math.sqrt(f),G=Math.atan2(o,s),y=a*a/f,g=d/f,T=i.a2/m,E=i.a3-i.a4/m,g>.3?(v=l/m*(1+g*(i.a1+T+y*E)/m),R=Math.asin(v),w=v*v,S=Math.sqrt(1-w)):(S=p/m*(1-y*(i.a5-T-g*E)/m),R=Math.acos(S),w=1-S*S,v=Math.sqrt(w)),_=1-ut.eccentricitySquared*w,$=ut.radius/Math.sqrt(_),x=i.a6*$,T=p-$*S,E=l-x*v,O=S*T+v*E,P=S*E-v*T,A=P/(x/_+O),R+=A,Z=O+P*A/2,a<0&&(R=-R),r[n++]=Vc*G,r[n++]=Vc*R,r[n]=Z}function Dq(e,t,r,n){Sc(e,t,r,n),Vh(r,n,r,n)}function Fq(e,t,r,n){Sc(e,t,r,n),gc(r,n,r,n)}function jq(e,t,r){if(e==null||t==null||r.source.spatialReference===e&&r.dest.spatialReference===t)return r;const n=WE(e,r.source),i=WE(t,r.dest);return n===C.UNKNOWN&&i===C.UNKNOWN?Et(e,t)?r.projector=We:r.projector=null:r.projector=xq[n][i],r}function J5(){return{source:{spatialReference:null,spatialReferenceId:C.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:C.UNKNOWN,metersPerUnit:1},projector:We}}const ehe={spatialReference:null,spatialReferenceId:C.UNKNOWN},the={spatialReference:null,spatialReferenceId:C.UNKNOWN},K5=J5(),Uc=Y0(1),Vc=fA(1),hv=Math.PI,Y5=.5*hv,$l=ut.radius,JE=$l*hv/180,KE=180/($l*hv);function uf(e,t,r,n,i,s,o=1){const a=Z5(t,i,K5);if(a==null)return!1;if(a===We){if(e===n&&r===s)return!0;const d=r+3*o;for(let p=r,f=s;p<d;p++,f++)n[f]=e[p];return!0}const l=r+3*o;for(let d=r,p=s;d<l;d+=3,p+=3)a(e,d,n,p);return!0}const rhe=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:uf},Symbol.toStringTag,{value:"Module"}));function YE(e,t,r,n,i,s){return om[0]=e,om[1]=t,om[2]=r,uf(om,n,0,i,s,0,1)}const om=pa();let am=0,j1=class h2{static fromGE(t){const r=new h2;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}constructor(t){this.uid=am++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=am++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=am++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=am++}getInverse(){const t=new h2;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},Bg=class Wd{static cacheKey(t,r){var n,i,s,o,a,l;return[((n=t.wkid)==null?void 0:n.toString())??"-1",((i=t.wkt)==null?void 0:i.toString())??"",((s=t.wkt2)==null?void 0:s.toString())??"",((o=r.wkid)==null?void 0:o.toString())??"-1",((a=r.wkt)==null?void 0:a.toString())??"",((l=r.wkt2)==null?void 0:l.toString())??""].join()}static fromGE(t){const r=new Wd;let n="";for(const i of t.steps){const s=j1.fromGE(i);r.steps.push(s),n+=s.uid.toString()+","}return r._cachedProjection={},r._gtlistentry=null,r._chain=n,r}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t==null?void 0:t.steps)for(const r of t.steps)r instanceof j1?this.steps.push(r):this.steps.push(new j1({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}getInverse(){const t=new Wd;t.steps=[];for(let r=this.steps.length-1;r>=0;r--){const n=this.steps[r];t.steps.push(n.getInverse())}return t}getGTListEntry(){let t="";for(const r of this.steps)t+=r.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,r,n){this._cachedProjection[Wd.cacheKey(t,r)]=n}getCachedGeTransformation(t,r){let n="";for(const s of this.steps)n+=s.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n);const i=this._cachedProjection[Wd.cacheKey(t,r)];return i===void 0?null:i}};function zq(e,t,r){if(t==null||r==null||r.vcsWkid||Et(t,r)||Xo(t)||Xo(r))return null;const n=U3(t)/U3(r);if(n===1)return null;switch(e){case"point":case"esriGeometryPoint":return i=>Uq(i,n);case"polyline":case"esriGeometryPolyline":return i=>Gq(i,n);case"polygon":case"esriGeometryPolygon":return i=>Vq(i,n);case"multipoint":case"esriGeometryMultipoint":return i=>Wq(i,n);case"extent":case"esriGeometryEnvelope":return i=>Bq(i,n);default:return null}}function Uq(e,t){(e==null?void 0:e.z)!=null&&(e.z*=t)}function Vq(e,t){if(e)for(const r of e.rings)for(const n of r)n.length>2&&(n[2]*=t)}function Gq(e,t){if(e)for(const r of e.paths)for(const n of r)n.length>2&&(n[2]*=t)}function Wq(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function Bq(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let Xn=null,na=null,Gh=null,oy={};const Px=new nf;function fa(){return!!Xn&&Y$()}function Q5(){return!!fa()||(K(Px),ia(),!1)}function X5(e,t){return!e||!t||ji(e,t)||Q5()}function Hq(e,t){return!ji(e,t)&&!fa()}function ia(e){return Gh==null&&(Gh=Promise.all([LA(),U(()=>import("./geometryEngineBase-CttSbhzJ.js"),[]).then(t=>t.g),U(()=>import("./hydrated-BKNDZT1f.js"),[])])),Gh.then(([,t,{hydratedAdapter:r}])=>{lt(e),na=r,Xn=t.default,Xn._enableProjection(YV),Px.notify()})}function Xl(e,t,r=null,n=null){return Array.isArray(e)?e.length===0?[]:p2(na,e,e[0].spatialReference,t,r,n):p2(na,[e],e.spatialReference,t,r,n)[0]}function p2(e,t,r,n,i=null,s=null){if(r==null||n==null)return t;if(ji(r,n,i))return t.map(o=>ay(o,r,n));if(i==null&&Ng(r))return t.map(o=>ay(o,r,he.WGS84)).map(o=>Pp(o,n));if(i==null&&Ng(n))return t.map(o=>Pp(o,he.WGS84)).map(o=>ay(o,he.WGS84,n));if(i==null){const o=Bg.cacheKey(r,n);oy[o]!==void 0?i=oy[o]:((i=tL(r,n,void 0))==null&&(i=new Bg),oy[o]=i)}if(Xn==null||e==null)throw new pv;return s!=null?Xn._project(e,t,r,n,i,s):Xn._project(e,t,r,n,i)}function qq(e,t){const r=eL([e],t);return r.pending!=null?{pending:r.pending,geometry:null}:r.geometries!=null?{pending:null,geometry:r.geometries[0]}:{pending:null,geometry:null}}function eL(e,t){if(!fa()){for(const r of e)if(r!=null&&!Et(r.spatialReference,t)&&Wr(r.spatialReference)&&Wr(t)&&!ji(r.spatialReference,t))return K(Px),{pending:ia(),geometries:null}}return{pending:null,geometries:e.map(r=>r==null?null:Et(r.spatialReference,t)?r:Wr(r.spatialReference)&&Wr(t)?Pp(r,t):null)}}function tL(e,t,r=null){if(e==null||t==null)return null;if(Xn==null||na==null)throw new pv;const n=Xn._getTransformation(na,e,t,r,r==null?void 0:r.spatialReference);return n!==null?Bg.fromGE(n):null}function Zq(e,t,r=null){if(Xn==null||na==null)throw new pv;const n=Xn._getTransformationBySuitability(na,e,t,r,r==null?void 0:r.spatialReference);if(n!==null){const i=[];for(const s of n)i.push(Bg.fromGE(s));return i}return[]}let pv=class extends j{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function Jq(){Xn=null,na=null,Gh=null,oy={}}const Kq={get loadPromise(){return Gh}};function Pp(e,t){try{const r=Xl(e,t);if(r==null)return null;"xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax);const n=zq(r.type,e.spatialReference,t);return n!=null&&n(r),r}catch(r){if(!(r instanceof pv))throw r;return null}}async function Yq(e,t,r){const n=e.spatialReference;return n!=null&&t!=null&&await rL(n,t,null,r),Pp(e,t)}function ji(e,t,r){return!r&&(!!Et(e,t)||Wr(e)&&Wr(t)&&!!Z5(e,t,K5))}function Qq(e,t){if(Et(e,t))return!0;if(!Wr(e)||!Wr(t))return!1;const r=Ll(e)||Ni(e)||j3(e),n=Ll(t)||Ni(t)||j3(t);return r&&n}async function rL(e,t,r,n){if(fa())return h3(n);if(Array.isArray(e)){for(const{source:i,dest:s,geographicTransformation:o}of e)if(i&&s&&!ji(i,s,o))return ia(n)}else if(e&&t&&!ji(e,t,r))return ia(n);return h3(n)}function ay(e,t,r){return e?"x"in e?nL(e,t,new Q,r,0):"xmin"in e?aL(e,t,new Le,r,0):"rings"in e?oL(e,t,new Di,r,0):"paths"in e?sL(e,t,new Zn,r,0):"points"in e?iL(e,t,new iv,r,0):null:null}function Xq(e,t,r=t.spatialReference,n=0){return r!=null&&e.spatialReference!=null&&nL(e,e.spatialReference,t,r,n)!=null}function nL(e,t,r,n,i){Xt[0]=e.x,Xt[1]=e.y;const s=e.z;return Xt[2]=s!==void 0?s:i,uf(Xt,t,0,Xt,n,0,1)?(r.x=Xt[0],r.y=Xt[1],r.spatialReference=n,s!==void 0||Xo(n)?(r.z=Xt[2],r.hasZ=!0):(r.z=void 0,r.hasZ=!1),e.m===void 0?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function eZ(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&iL(e,e.spatialReference,t,r,n)!=null}function iL(e,t,r,n,i){const{points:s,hasZ:o,hasM:a}=e,l=[],d=s.length,p=[];for(const m of s)p.push(m[0],m[1],o?m[2]:i);if(!uf(p,t,0,p,n,0,d))return null;const f=o||Xo(n);for(let m=0;m<d;++m){const y=3*m,g=p[y],v=p[y+1];f&&a?l.push([g,v,p[y+2],s[m][3]]):f?l.push([g,v,p[y+2]]):a?l.push([g,v,s[m][2]]):l.push([g,v])}return r.points=l,r.spatialReference=n,r.hasZ=o,r.hasM=a,r}function tZ(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&sL(e,e.spatialReference,t,r,n)!=null}function sL(e,t,r,n,i){const{paths:s,hasZ:o,hasM:a}=e,l=[];if(!lL(s,o??!1,a??!1,t,l,n,i))return null;const d=o||Xo(n);return r.paths=l,r.spatialReference=n,r.hasZ=d,r.hasM=a,r}function rZ(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&oL(e,e.spatialReference,t,r,n)!=null}function oL(e,t,r,n,i){const{rings:s,hasZ:o,hasM:a}=e,l=[];if(!lL(s,o??!1,a??!1,t,l,n,i))return null;const d=o||Xo(n);return r.rings=l,r.spatialReference=n,r.hasZ=d,r.hasM=a,r}function nZ(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&aL(e,e.spatialReference,t,r,n)!=null}function aL(e,t,r,n,i){const{xmin:s,ymin:o,xmax:a,ymax:l,hasZ:d,hasM:p}=e,f=d?e.zmin:i;if(!YE(s,o,f,t,Xt,n))return null;const m=d||Xo(n);r.xmin=Xt[0],r.ymin=Xt[1],m&&(r.zmin=Xt[2]);const y=d?e.zmax:i;return YE(a,l,y,t,Xt,n)?(r.xmax=Xt[0],r.ymax=Xt[1],m&&(r.zmax=Xt[2]),p&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=n,r):null}function lL(e,t,r,n,i,s,o=0){const a=new Array;for(const p of e)for(const f of p)a.push(f[0],f[1],t?f[2]:o);if(!uf(a,n,0,a,s,0,a.length/3))return!1;let l=0;i.length=0;const d=t||Xo(s);for(const p of e){const f=new Array;for(const m of p)d&&r?f.push([a[l++],a[l++],a[l++],m[3]]):d?f.push([a[l++],a[l++],a[l++]]):r?(f.push([a[l++],a[l++],m[2]]),l++):(f.push([a[l++],a[l++]]),l++);i.push(f)}return!0}const Xt=pa(),ihe=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:ji,getTransformation:tL,getTransformations:Zq,initializeProjection:rL,isEqualBaseGCS:Qq,isLoaded:fa,isLoadedOrLoad:Q5,isLoadedOrLoadFor:X5,load:ia,project:Xl,projectExtent:nZ,projectMany:p2,projectMultipoint:eZ,projectOrLoad:qq,projectOrLoadMany:eL,projectPoint:Xq,projectPolygon:rZ,projectPolyline:tZ,projectWithZConversion:Yq,projectWithoutEngine:ay,requiresLoad:Hq,test:Kq,tryProjectWithZConversion:Pp,unload:Jq},Symbol.toStringTag,{value:"Module"}));var f2;let fi=f2=class extends B{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new f2({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};c([h({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],fi.prototype,"cols",void 0),c([h({type:Qe,json:{write:!0}})],fi.prototype,"level",void 0),c([h({type:String,json:{write:!0}})],fi.prototype,"levelValue",void 0),c([h({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],fi.prototype,"origin",void 0),c([h({type:Number,json:{write:!0}})],fi.prototype,"resolution",void 0),c([h({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],fi.prototype,"rows",void 0),c([h({type:Number,json:{write:!0}})],fi.prototype,"scale",void 0),fi=f2=c([M("esri.layers.support.LOD")],fi);const So=fi;let iZ=class{constructor(t,r,n,i,s=void 0){this.id=t,this.level=r,this.row=n,this.col=i,this.extent=s}};var Qs;const QE=new Ht({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let Ft=Qs=class extends B{static create(e={}){const{resolutionFactor:t=1,scales:r,size:n=256,spatialReference:i=he.WebMercator,numLODs:s=24}=e;if(!Wr(i)){const f=[];if(r)for(let m=0;m<r.length;m++){const y=r[m];f.push(new So({level:m,scale:y,resolution:y}))}else{let m=5e-4;for(let y=s-1;y>=0;y--)f.unshift(new So({level:y,scale:m,resolution:m})),m*=2}return new Qs({dpi:96,lods:f,origin:new Q(0,0,i),size:[n,n],spatialReference:i})}const o=Or(i),a=e.origin?new Q({x:e.origin.x,y:e.origin.y,spatialReference:i}):new Q(o?{x:o.origin[0],y:o.origin[1],spatialReference:i}:{x:0,y:0,spatialReference:i}),l=96,d=1/(Vi(i)*39.37*l),p=[];if(r)for(let f=0;f<r.length;f++){const m=r[f],y=m*d;p.push(new So({level:f,scale:m,resolution:y}))}else{let f=ef(i)?512/n*5916575275917094e-7:256/n*591657527591555e-6;const m=Math.ceil(s/t);p.push(new So({level:0,scale:f,resolution:f*d}));for(let y=1;y<m;y++){const g=f/2**t,v=g*d;p.push(new So({level:y,scale:g,resolution:v})),f=g}}return new Qs({dpi:l,lods:p,origin:a,size:[n,n],spatialReference:i})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const r=Or(e);return e.isWrappable&&!!r&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}readOrigin(e,t){return Q.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,r=0;const n=[],i=this._levelToLOD={};e&&(t=-1/0,r=1/0,e.forEach(s=>{n.push(s.scale),t=s.scale>t?s.scale:t,r=s.scale<r?s.scale:r,i[s.level]=s})),this._set("scales",n),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const r=Math.floor(e),n=r+1;return t[r]/(t[r]/t[n])**(e-r)}scaleToZoom(e){const t=this.scales,r=t.length-1;let n=0;for(;n<r;n++){const i=t[n],s=t[n+1];if(i<=e)return n;if(s===e)return n+1;if(i>e&&s<e)return n+Math.log(i/e)/Math.log(i/s)}return n}tileAt(e,t,r,n){const i=this.lodAt(e);if(!i)return null;let s,o;if(typeof t=="number")s=t,o=r;else if(Et(t.spatialReference,this.spatialReference))s=t.x,o=t.y,n=r;else{const d=rv(t,this.spatialReference);if(d==null)return null;s=d.x,o=d.y,n=r}const a=i.resolution*this.size[0],l=i.resolution*this.size[1];return n||(n=new iZ(null,0,0,0,Mr())),n.level=e,n.row=Math.floor((this.origin.y-o)/l+.001),n.col=Math.floor((s-this.origin.x)/a+.001),this.updateTileInfo(n),n}updateTileInfo(e,t=Qs.ExtrapolateOptions.NONE){let r=this.lodAt(e.level);if(!r&&t===Qs.ExtrapolateOptions.POWER_OF_TWO){const o=this.lods[this.lods.length-1];o.level<e.level&&(r=o)}if(!r)return;const n=e.level-r.level,i=r.resolution*this.size[0]/2**n,s=r.resolution*this.size[1]/2**n;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=Mr()),e.extent[0]=this.origin.x+e.col*i,e.extent[1]=this.origin.y-(e.row+1)*s,e.extent[2]=e.extent[0]+i,e.extent[3]=e.extent[1]+s}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const r=this.lodAt(t.level);if(r==null)return null;const{resolution:n}=r,i=n*this.size[0],s=n*this.size[1];return e[0]=this.origin.x+t.col*i,e[1]=this.origin.y-(t.row+1)*s,e[2]=e[0]+i,e[3]=e[1]+s,e}lodAt(e){var t;return((t=this._levelToLOD)==null?void 0:t[e])??null}clone(){return Qs.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const t=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&t===0)return this;const r=[],n=this.lods.length-t;for(let i=0;i<n;i++){const s=i+t,{scale:o,resolution:a}=s>=0?this.lods[s]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};r.push(new So({level:i,scale:o,resolution:a}))}return new Qs({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let r=0;r<e.length;r++){const n=e[r];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}};c([h({type:Number,json:{write:!0}})],Ft.prototype,"compressionQuality",void 0),c([h({type:Number,json:{write:!0}})],Ft.prototype,"dpi",void 0),c([h({type:String,json:{read:QE.read,write:QE.write,origins:{"web-scene":{read:!1,write:!1}}}})],Ft.prototype,"format",void 0),c([h({readOnly:!0})],Ft.prototype,"isWrappable",null),c([h({type:Q,json:{write:!0}})],Ft.prototype,"origin",void 0),c([Me("origin")],Ft.prototype,"readOrigin",null),c([h({type:[So],value:null,json:{write:!0}})],Ft.prototype,"lods",null),c([h({readOnly:!0})],Ft.prototype,"scales",void 0),c([h({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],Ft.prototype,"size",void 0),c([Me("size",["rows","cols"])],Ft.prototype,"readSize",null),c([ge("size",{cols:{type:Qe},rows:{type:Qe}})],Ft.prototype,"writeSize",null),c([h({type:he,json:{write:!0}})],Ft.prototype,"spatialReference",void 0),Ft=Qs=c([M("esri.layers.support.TileInfo")],Ft),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(Ft||(Ft={}));const sZ=Ft,ly={widthBreakpoint:{getValue(e){const t=e.viewSize[0],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,r=t[0],n=t[1],i=this.values;return n>=r?i.portrait:i.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},z1={xsmall:544,small:768,medium:992,large:1200};function oZ(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function U1(e,t){return t?ly[e].valueToClassName[t].split(" "):[]}const aZ=e=>{let t=class extends e{constructor(...r){super(...r),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=z1}initialize(){this.addHandles(re(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Rt))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(r){if(r!==this._get("breakpoints")){if(!oZ(r)){const n=JSON.stringify(z1,null,2);console.warn("provided breakpoints are not valid, using defaults:"+n),r=z1}this._set("breakpoints",{...r})}}_updateClassNames(){if(!this.container)return;const r=fr.acquire(),n=fr.acquire();let i,s=!1;for(i in ly){const o=this[i],a=ly[i].getValue({viewSize:this.size,breakpoints:this.breakpoints});o!==a&&(s=!0,this[i]=a,U1(i,o).forEach(l=>n.push(l)),U1(i,a).forEach(l=>r.push(l)))}s&&(this._applyClassNameChanges(r,n),fr.release(r),fr.release(n))}_applyClassNameChanges(r,n){const i=this.container;i&&(n.forEach(s=>i.classList.remove(s)),r.forEach(s=>i.classList.add(s)))}_removeActiveClassNames(){const r=this.container;if(!r)return;let n;for(n in ly)U1(n,this[n]).forEach(i=>r.classList.remove(i))}};return c([h()],t.prototype,"breakpoints",null),c([h()],t.prototype,"orientation",void 0),c([h()],t.prototype,"widthBreakpoint",void 0),c([h()],t.prototype,"heightBreakpoint",void 0),t=c([M("esri.views.BreakpointsOwner")],t),t};function Cx(e){return typeof e=="string"?document.getElementById(e):e??null}function uL(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function XE(e,t){const r=t.parentNode;r&&r.insertBefore(e,t)}function ek(e,t){for(;;){const r=e.firstChild;if(!r)break;t.appendChild(r)}}let xl=class extends ee{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(t,r,n={}){return this._installWatch(t,r,n,re)}addWhen(t,r,n={}){return this._installWatch(t,r,n,Is)}addOnCollectionChange(t,r,{initial:n=!1,final:i=!1}={}){const s=++this._handleId;return this.addHandles([ea(t,"after-changes",this._createSyncUpdatingCallback(),zl),ea(t,"change",r,{onListenerAdd:n?o=>r({added:o.toArray(),removed:[]}):void 0,onListenerRemove:i?o=>r({added:[],removed:o.toArray()}):void 0})],s),ke(()=>this.removeHandles(s))}addPromise(t){if(t==null)return t;const r=++this._handleId;this.addHandles(ke(()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this.hasHandles(lm)||this._set("updating",!1))}),r),this._pendingPromises.add(t),this._set("updating",!0);const n=()=>this.removeHandles(r);return t.then(n,n),t}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(t,r,n={},i){const s=++this._handleId;n.sync||this._installSyncUpdatingWatch(t,s);const o=i(t,r,n);return this.addHandles(o,s),ke(()=>this.removeHandles(s))}_installSyncUpdatingWatch(t,r){const n=this._createSyncUpdatingCallback(),i=re(t,n,{sync:!0,equals:()=>!1});return this.addHandles(i,r),i}_createSyncUpdatingCallback(){return()=>{this.removeHandles(lm),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(Yp(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(lm))}),lm)}}};c([h({readOnly:!0})],xl.prototype,"updating",void 0),xl=c([M("esri.core.support.UpdatingHandles")],xl);const lm=-42;/*!
 * @esri/arcgis-html-sanitizer - v4.0.3 - Wed Jul 03 2024 17:50:35 GMT-0400 (Eastern Daylight Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei() <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hg=function(){return Hg=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Hg.apply(this,arguments)},m2={exports:{}},rt={},y2={exports:{}},eu={};function cL(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function lZ(e,t,r){}function uZ(e,t,r){}var cZ=/javascript\s*\:/img;function dZ(e,t){return cZ.test(t)?"":t}eu.whiteList=cL();eu.getDefaultWhiteList=cL;eu.onAttr=lZ;eu.onIgnoreAttr=uZ;eu.safeAttrValue=dZ;var hZ={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Ed=hZ;function pZ(e,t){e=Ed.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,n=!1,i=0,s=0,o="";function a(){if(!n){var p=Ed.trim(e.slice(i,s)),f=p.indexOf(":");if(f!==-1){var m=Ed.trim(p.slice(0,f)),y=Ed.trim(p.slice(f+1));if(m){var g=t(i,o.length,m,y,p);g&&(o+=g+"; ")}}}i=s+1}for(;s<r;s++){var l=e[s];if(l==="/"&&e[s+1]==="*"){var d=e.indexOf("*/",s+2);if(d===-1)break;s=d+1,i=s+1,n=!1}else l==="("?n=!0:l===")"?n=!1:l===";"?n||a():l===`
`&&a()}return Ed.trim(o)}var fZ=pZ,um=eu,mZ=fZ;function tk(e){return e==null}function yZ(e){var t={};for(var r in e)t[r]=e[r];return t}function dL(e){e=yZ(e||{}),e.whiteList=e.whiteList||um.whiteList,e.onAttr=e.onAttr||um.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||um.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||um.safeAttrValue,this.options=e}dL.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,n=r.whiteList,i=r.onAttr,s=r.onIgnoreAttr,o=r.safeAttrValue,a=mZ(e,function(l,d,p,f,m){var y=n[p],g=!1;if(y===!0?g=y:typeof y=="function"?g=y(f):y instanceof RegExp&&(g=y.test(f)),g!==!0&&(g=!1),f=o(p,f),!!f){var v={position:d,sourcePosition:l,source:m,isWhite:g};if(g){var S=i(p,f,v);return tk(S)?p+":"+f:S}else{var S=s(p,f,v);if(!tk(S))return S}}});return a};var gZ=dL;(function(e,t){var r=eu,n=gZ;function i(o,a){var l=new n(a);return l.process(o)}t=e.exports=i,t.FilterCSS=n;for(var s in r)t[s]=r[s]})(y2,y2.exports);var Ox=y2.exports,Ix={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},vZ=Ox.FilterCSS,wZ=Ox.getDefaultWhiteList,qg=Ix;function hL(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var pL=new vZ;function _Z(e,t,r){}function bZ(e,t,r){}function SZ(e,t,r){}function $Z(e,t,r){}function fL(e){return e.replace(TZ,"&lt;").replace(MZ,"&gt;")}function xZ(e,t,r,n){if(r=_L(r),t==="href"||t==="src"){if(r=qg.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(cm.lastIndex=0,cm.test(r))return""}else if(t==="style"){if(rk.lastIndex=0,rk.test(r)||(nk.lastIndex=0,nk.test(r)&&(cm.lastIndex=0,cm.test(r))))return"";n!==!1&&(n=n||pL,r=n.process(r))}return r=bL(r),r}var TZ=/</g,MZ=/>/g,EZ=/"/g,kZ=/&quot;/g,PZ=/&#([a-zA-Z0-9]*);?/gim,CZ=/&colon;?/gim,OZ=/&newline;?/gim,cm=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,rk=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,nk=/u\s*r\s*l\s*\(.*/gi;function mL(e){return e.replace(EZ,"&quot;")}function yL(e){return e.replace(kZ,'"')}function gL(e){return e.replace(PZ,function(r,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function vL(e){return e.replace(CZ,":").replace(OZ," ")}function wL(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return qg.trim(t)}function _L(e){return e=yL(e),e=gL(e),e=vL(e),e=wL(e),e}function bL(e){return e=mL(e),e=fL(e),e}function IZ(){return""}function AZ(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function n(o){return r?!0:qg.indexOf(e,o)!==-1}var i=[],s=!1;return{onIgnoreTag:function(o,a,l){if(n(o))if(l.isClosing){var d="[/removed]",p=l.position+d.length;return i.push([s!==!1?s:l.position,p]),s=!1,d}else return s||(s=l.position),"[removed]";else return t(o,a,l)},remove:function(o){var a="",l=0;return qg.forEach(i,function(d){a+=o.slice(l,d[0]),l=d[1]}),a+=o.slice(l),a}}}function RZ(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("<!--",r);if(n===-1){t+=e.slice(r);break}t+=e.slice(r,n);var i=e.indexOf("-->",n);if(i===-1)break;r=i+3}return t}function LZ(e){var t=e.split("");return t=t.filter(function(r){var n=r.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),t.join("")}rt.whiteList=hL();rt.getDefaultWhiteList=hL;rt.onTag=_Z;rt.onIgnoreTag=bZ;rt.onTagAttr=SZ;rt.onIgnoreTagAttr=$Z;rt.safeAttrValue=xZ;rt.escapeHtml=fL;rt.escapeQuote=mL;rt.unescapeQuote=yL;rt.escapeHtmlEntities=gL;rt.escapeDangerHtml5Entities=vL;rt.clearNonPrintableCharacter=wL;rt.friendlyAttrValue=_L;rt.escapeAttrValue=bL;rt.onIgnoreTagStripAll=IZ;rt.StripTagBody=AZ;rt.stripCommentTag=RZ;rt.stripBlankChar=LZ;rt.cssFilter=pL;rt.getDefaultCSSWhiteList=wZ;var fv={},$o=Ix;function NZ(e){var t=$o.spaceIndex(e),r;return t===-1?r=e.slice(1,-1):r=e.slice(1,t+1),r=$o.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function DZ(e){return e.slice(0,2)==="</"}function FZ(e,t,r){var n="",i=0,s=!1,o=!1,a=0,l=e.length,d="",p="";e:for(a=0;a<l;a++){var f=e.charAt(a);if(s===!1){if(f==="<"){s=a;continue}}else if(o===!1){if(f==="<"){n+=r(e.slice(i,a)),s=a,i=a;continue}if(f===">"){n+=r(e.slice(i,s)),p=e.slice(s,a+1),d=NZ(p),n+=t(s,n.length,d,p,DZ(p)),i=a+1,s=!1;continue}if(f==='"'||f==="'")for(var m=1,y=e.charAt(a-m);y.trim()===""||y==="=";){if(y==="="){o=f;continue e}y=e.charAt(a-++m)}}else if(f===o){o=!1;continue}}return i<e.length&&(n+=r(e.substr(i))),n}var jZ=/[^a-zA-Z0-9\\_:.-]/gim;function zZ(e,t){var r=0,n=0,i=[],s=!1,o=e.length;function a(m,y){if(m=$o.trim(m),m=m.replace(jZ,"").toLowerCase(),!(m.length<1)){var g=t(m,y||"");g&&i.push(g)}}for(var l=0;l<o;l++){var d=e.charAt(l),p,f;if(s===!1&&d==="="){s=e.slice(r,l),r=l+1,n=e.charAt(r)==='"'||e.charAt(r)==="'"?r:VZ(e,l+1);continue}if(s!==!1&&l===n){if(f=e.indexOf(d,l+1),f===-1)break;p=$o.trim(e.slice(n+1,f)),a(s,p),s=!1,l=f,r=l+1;continue}if(/\s|\n|\t/.test(d))if(e=e.replace(/\s|\n|\t/g," "),s===!1)if(f=UZ(e,l),f===-1){p=$o.trim(e.slice(r,l)),a(p),s=!1,r=l+1;continue}else{l=f-1;continue}else if(f=GZ(e,l-1),f===-1){p=$o.trim(e.slice(r,l)),p=ik(p),a(s,p),s=!1,r=l+1;continue}else continue}return r<e.length&&(s===!1?a(e.slice(r)):a(s,ik($o.trim(e.slice(r))))),$o.trim(i.join(" "))}function UZ(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function VZ(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="'"||r==='"'?t:-1}}function GZ(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function WZ(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function ik(e){return WZ(e)?e.substr(1,e.length-2):e}fv.parseTag=FZ;fv.parseAttr=zZ;var BZ=Ox.FilterCSS,Gn=rt,SL=fv,HZ=SL.parseTag,qZ=SL.parseAttr,uy=Ix;function dm(e){return e==null}function ZZ(e){var t=uy.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=uy.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=uy.trim(e.slice(0,-1))),{html:e,closing:r}}function JZ(e){var t={};for(var r in e)t[r]=e[r];return t}function KZ(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map(function(n){return n.toLowerCase()}):t[r.toLowerCase()]=e[r];return t}function $L(e){e=JZ(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Gn.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=KZ(e.whiteList||e.allowList):e.whiteList=Gn.whiteList,e.onTag=e.onTag||Gn.onTag,e.onTagAttr=e.onTagAttr||Gn.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Gn.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Gn.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Gn.safeAttrValue,e.escapeHtml=e.escapeHtml||Gn.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new BZ(e.css))}$L.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,n=r.whiteList,i=r.onTag,s=r.onIgnoreTag,o=r.onTagAttr,a=r.onIgnoreTagAttr,l=r.safeAttrValue,d=r.escapeHtml,p=t.cssFilter;r.stripBlankChar&&(e=Gn.stripBlankChar(e)),r.allowCommentTag||(e=Gn.stripCommentTag(e));var f=!1;r.stripIgnoreTagBody&&(f=Gn.StripTagBody(r.stripIgnoreTagBody,s),s=f.onIgnoreTag);var m=HZ(e,function(y,g,v,S,w){var _={sourcePosition:y,position:g,isClosing:w,isWhite:Object.prototype.hasOwnProperty.call(n,v)},$=i(v,S,_);if(!dm($))return $;if(_.isWhite){if(_.isClosing)return"</"+v+">";var x=ZZ(S),T=n[v],E=qZ(x.html,function(P,O){var A=uy.indexOf(T,P)!==-1,R=o(v,P,O,A);return dm(R)?A?(O=l(v,P,O,p),O?P+'="'+O+'"':P):(R=a(v,P,O,A),dm(R)?void 0:R):R});return S="<"+v,E&&(S+=" "+E),x.closing&&(S+=" /"),S+=">",S}else return $=s(v,S,_),dm($)?d(S):$},d);return f&&(m=f.remove(m)),m};var YZ=$L;(function(e,t){var r=rt,n=fv,i=YZ;function s(a,l){var d=new i(l);return d.process(a)}t=e.exports=s,t.filterXSS=s,t.FilterXSS=i,function(){for(var a in r)t[a]=r[a];for(var l in n)t[l]=n[l]}();function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=e.exports)})(m2,m2.exports);var au=m2.exports,QZ=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},XZ=function(){function e(t,r){var n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],details:["style"],div:["align","style","aria-label","aria-hidden"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=Hg(Hg({},au.getDefaultCSSWhiteList()),{flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,"line-height":!0,"justify-content":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(s,o,a,l){return s==="a"&&o==="href"||(s==="img"||s==="source")&&o==="src"?n.sanitizeUrl(a):au.safeAttrValue(s,o,a,l)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var i;t&&!r?i=t:t&&r?(i=Object.create(this.arcgisFilterOptions),i.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(s){if(s==="whiteList")i.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,t.whiteList||{}]);else if(s==="css"){var o=t.css.whiteList;o!=null&&t.css instanceof Object&&Object.keys(o).forEach(function(a){return i.css.whiteList[a]=o[a]})}else i[s]=t[s]})):(i=Object.create(this.arcgisFilterOptions),i.whiteList=this.arcgisWhiteList,i.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=i,this._xssFilter=new au.FilterXSS(i)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,r){var n=(r??{}).isProtocolRequired,i=n===void 0?!0:n,s=this._trim(t.substring(0,t.indexOf(":"))),o=t==="/",a=/^#/.test(t),l=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1;return o||a||l?au.escapeAttrValue(t):!s&&!i?au.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,r,n,i){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,n,i):au.safeAttrValue(t,r,n,i)},e.prototype.validate=function(t,r){r===void 0&&(r={});var n=this.sanitize(t,r);return{isValid:t===n,sanitized:n}},e.prototype.encodeHTML=function(t){var r=this;return String(t).replace(/[&<>"'\/]/g,function(n){return r._entityMap[n]})},e.prototype.encodeAttrValue=function(t){var r=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(n,i){return r.test(n)?n:"&#x".concat(Number(t.charCodeAt(i)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(n){Object.keys(n).forEach(function(i){Array.isArray(n[i])&&Array.isArray(r[i])?r[i]=r[i].concat(n[i]):r[i]=n[i]})}),r},e.prototype._iterateOverObject=function(t,r){var n=this;r===void 0&&(r={});try{var i=!1,s=void 0;if(Array.isArray(t))s=t.reduce(function(a,l){var d=n.validate(l,r);return d.isValid?a.concat([l]):(i=!0,a.concat([d.sanitized]))},[]);else if(QZ(t)){var o=Object.keys(t);s=o.reduce(function(a,l){var d=t[l],p=n.validate(d,r);return p.isValid?a[l]=d:(i=!0,a[l]=p.sanitized),a},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return i?s:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const mv=new Map;function xL(){mv.clear()}function eJ(e){return mv.get(e)}function tJ(e,t){mv.set(e,t)}function V1(e){mv.delete(e)}function rJ(...e){const t=fr.acquire();for(let n=0;n<e.length;n++){const i=e[n],s=typeof i;if(s==="string")t.push(i);else if(Array.isArray(i))t.push.apply(t,i);else if(s==="object")for(const o in i)i[o]&&t.push(o)}const r=t.join(" ");return fr.release(t),r}(()=>{const e=new Map,t=new ResizeObserver(n=>{var i;xL();for(const s of n)(i=e.get(s.target))==null||i(s)}),r=(n,i,s)=>(e.set(n,i),t.observe(n,s),ke(()=>{t.unobserve(n),e.delete(n)}));return(n,i,s)=>{let o=null;return qp([re(()=>typeof n=="function"?n():n,a=>{o==null||o.remove(),a&&(o=r(a,i,s))},fn),ke(()=>o==null?void 0:o.remove())])}})();function nJ(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function ahe(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function hm(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const iJ=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],sJ=iJ.reduce((e,t)=>(e[t]=[],e),{}),oJ=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],TL=new XZ({whiteList:sJ,onTagAttr:(e,t,r)=>{const n=`${t}="${r}"`;if(oJ.includes(t))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function aJ(e,t){const r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),i=r.top+r.height,s=n.top+n.height,o=r.top,a=n.top;(i>s||o<a)&&e.scrollIntoView({block:"end"})}function ML(e){return e==="Enter"||e===" "}const EL="http://www.w3.org/",yv=`${EL}2000/svg`,kL=`${EL}1999/xlink`;let sk=[],Ax=(e,t)=>{let r={};return Object.keys(e).forEach(n=>{r[n]=e[n]}),t&&Object.keys(t).forEach(n=>{r[n]=t[n]}),r},Rx=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),PL=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},lJ=(e,t,r)=>{if(t.vnodeSelector!==""){for(let n=r;n<e.length;n++)if(Rx(e[n],t))return n}return-1},G1=(e,t,r,n)=>{let i=e[t];if(i.vnodeSelector==="")return;let s=i.properties;if(!(s&&(s.key===void 0?s.bind:s.key))){for(let o=0;o<e.length;o++)if(o!==t){let a=e[o];if(Rx(a,i))throw new Error(`${r.vnodeSelector} had a ${i.vnodeSelector} child ${n==="added"?n:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},uJ=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},g2=[],v2=!1,CL=e=>{(e.children||[]).forEach(CL),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},ok=()=>{v2=!1,g2.forEach(CL),g2.length=0},ak=e=>{g2.push(e),v2||(v2=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(ok,{timeout:16}):setTimeout(ok,16))},lk=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),ak(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),ak(e))},cJ=(e,t,r)=>{if(!t)return;let n=r.eventHandlerInterceptor,i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){let a=i[o],l=t[a];if(a==="className")throw new Error('Property "className" is not supported, use "class".');if(a==="class")_2(e,l,!0);else if(a==="classes"){let d=Object.keys(l),p=d.length;for(let f=0;f<p;f++){let m=d[f];l[m]&&e.classList.add(m)}}else if(a==="styles"){let d=Object.keys(l),p=d.length;for(let f=0;f<p;f++){let m=d[f],y=l[m];y&&(PL(y),r.styleApplyer(e,m,y))}}else if(a!=="key"&&l!=null){let d=typeof l;d==="function"?(a.lastIndexOf("on",0)===0&&(n&&(l=n(a,l,e,t)),a==="oninput"&&function(){let p=l;l=function(f){p.apply(this,[f]),f.target["oninput-value"]=f.target.value}}()),e[a]=l):r.namespace===yv?a==="href"?e.setAttributeNS(kL,a,l):e.setAttribute(a,l):d==="string"&&a!=="value"?a==="innerHTML"?e[a]=TL.sanitize(l):w2(e)&&a in e?e[a]=l:e.setAttribute(a,l):e[a]=l}}};function w2(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let Zg,dJ=(e,t,r)=>{if(t)for(let n of t)ec(n,e,void 0,r)},OL=(e,t,r)=>{dJ(e,t.children,r),t.text&&(e.textContent=t.text),cJ(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},ec=(e,t,r,n)=>{let i,s=0,o=e.vnodeSelector,a=t.ownerDocument;if(o==="")i=e.domNode=a.createTextNode(e.text),r!==void 0?t.insertBefore(i,r):t.appendChild(i);else{for(let l=0;l<=o.length;++l){let d=o.charAt(l);if(l===o.length||d==="."||d==="#"){let p=o.charAt(s-1),f=o.slice(s,l);p==="."?i.classList.add(f):p==="#"?i.id=f:(f==="svg"&&(n=Ax(n,{namespace:yv})),n.namespace!==void 0?i=e.domNode=a.createElementNS(n.namespace,f):(i=e.domNode=e.domNode||a.createElement(f),f==="input"&&e.properties&&e.properties.type!==void 0&&i.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(i,r):i.parentNode!==t&&t.appendChild(i)),s=l+1}}OL(i,e,n)}},_2=(e,t,r)=>{t&&t.split(" ").forEach(n=>{n&&e.classList.toggle(n,r)})},hJ=(e,t,r,n)=>{if(!r)return;let i=!1,s=Object.keys(r),o=s.length;for(let a=0;a<o;a++){let l=s[a],d=r[l],p=t[l];if(l==="class")p!==d&&(_2(e,p,!1),_2(e,d,!0));else if(l==="classes"){let f=e.classList,m=Object.keys(d),y=m.length;for(let g=0;g<y;g++){let v=m[g],S=!!d[v];S!==!!p[v]&&(i=!0,S?f.add(v):f.remove(v))}}else if(l==="styles"){let f=Object.keys(d),m=f.length;for(let y=0;y<m;y++){let g=f[y],v=d[g];v!==p[g]&&(i=!0,v?(PL(v),n.styleApplyer(e,g,v)):n.styleApplyer(e,g,""))}}else if(d||typeof p!="string"||(d=""),l!=="value"||w2(e)){if(d!==p){let f=typeof d;f==="function"&&n.eventHandlerInterceptor||(n.namespace===yv?l==="href"?e.setAttributeNS(kL,l,d):e.setAttribute(l,d):f==="string"?l==="innerHTML"?e[l]=TL.sanitize(d):l==="role"&&d===""?e.removeAttribute(l):w2(e)&&l in e?e[l]=d:e.setAttribute(l,d):e[l]!==d&&(e[l]=d),i=!0)}}else{let f=e[l];f!==d&&(e["oninput-value"]?f===e["oninput-value"]:d!==p)&&(e[l]=d,e["oninput-value"]=void 0),d!==p&&(i=!0)}}return i},pJ=(e,t,r,n,i)=>{if(r===n)return!1;n=n||sk;let s,o=(r=r||sk).length,a=n.length,l=0,d=0,p=!1;for(;d<a;){let f=l<o?r[l]:void 0,m=n[d];if(f!==void 0&&Rx(f,m))p=Zg(f,m,i)||p,l++;else{let y=lJ(r,m,l+1);if(y>=0){for(s=l;s<y;s++)lk(r[s]),G1(r,s,e,"removed");p=Zg(r[y],m,i)||p,l=y+1}else ec(m,t,l<o?r[l].domNode:void 0,i),uJ(m),G1(n,d,e,"added")}d++}if(o>l)for(s=l;s<o;s++)lk(r[s]),G1(r,s,e,"removed");return p};Zg=(e,t,r)=>{let n=e.domNode,i=!1;if(e===t)return!1;let s=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let o=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(o,n),t.domNode=o,i=!0,i}t.domNode=n}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=Ax(r,{namespace:yv})),e.text!==t.text&&(s=!0,t.text===void 0?n.removeChild(n.firstChild):n.textContent=t.text),t.domNode=n,s=pJ(t,n,e.children,t.children,r)||s,s=hJ(n,e.properties,t.properties,r)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,r,t.vnodeSelector,t.properties,t.children]);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),i};let kd=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let n=e;e=r,Zg(n,r,t)},domNode:e.domNode});const fJ={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let gu=e=>Ax(fJ,e),Lo={create:(e,t)=>(t=gu(t),ec(e,document.createElement("div"),void 0,t),kd(e,t)),append:(e,t,r)=>(r=gu(r),ec(t,e,void 0,r),kd(t,r)),insertBefore:(e,t,r)=>(r=gu(r),ec(t,e.parentNode,e,r),kd(t,r)),merge:(e,t,r)=>(r=gu(r),t.domNode=e,OL(e,t,r),kd(t,r)),replace:(e,t,r)=>(r=gu(r),ec(t,e.parentNode,e,r),e.parentNode.removeChild(e),kd(t,r))},IL,mJ=(e,t)=>{let r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r};IL=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let yJ=(e,t)=>{let r=e;return t.forEach(n=>{r=r&&r.children?IL(r.children,i=>i.domNode===n):void 0}),r},gJ=(e,t,r)=>{let n=function(i){r("domEvent",i);let s=t(),o=mJ(i.currentTarget,s.domNode);o.reverse();let a,l=yJ(s.getLastRender(),o);return e.scheduleRender(),l&&(a=l.properties[`on${i.type}`].apply(l.properties.bind||this,arguments)),r("domEventProcessed",i),a};return(i,s,o,a)=>n},uk=e=>{let t,r,n=gu(e),i=n.performanceLogger,s=!0,o=!1,a=[],l=[],d=(f,m,y)=>{let g,v=()=>g;n.eventHandlerInterceptor=gJ(t,v,i),g=f(m,y(),n),a.push(g),l.push(y)},p=()=>{if(r=void 0,s){s=!1,i("renderStart",void 0);for(let f=0;f<a.length;f++){let m=l[f]();i("rendered",void 0),a[f].update(m),i("patched",void 0)}i("renderDone",void 0),s=!0}};return t={renderNow:p,scheduleRender:()=>{r||o||(r=requestAnimationFrame(p))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),o=!0},resume:()=>{o=!1,s=!0,t.scheduleRender()},append:(f,m)=>{d(Lo.append,f,m)},insertBefore:(f,m)=>{d(Lo.insertBefore,f,m)},merge:(f,m)=>{d(Lo.merge,f,m)},replace:(f,m)=>{d(Lo.replace,f,m)},detach:f=>{for(let m=0;m<l.length;m++)if(l[m]===f)return l.splice(m,1),a.splice(m,1)[0];throw new Error("renderFunction was not found")}},t},Xs=class extends ee{constructor(){super(...arguments),this.items=new X,this._watchUpdatingTracking=new xl,this._callbacks=new Map,this._projector=uk(),this._hiddenProjector=uk()}get needsRender(){return this.items.length>0}get updating(){var t;return((t=this._watchUpdatingTracking)==null?void 0:t.updating)??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,r=>{for(const n of r.added){const i=()=>n.render();this._callbacks.set(n,i),this._projector.append(this.surface,i)}for(const n of r.removed){const i=this._projector.detach(this._callbacks.get(n));this.surface.removeChild(i.domNode),this._callbacks.delete(n)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const r=this._hiddenSurface,n=this._hiddenProjector;let i;const s=()=>(i=t.render(),i);n.append(r,s),n.renderNow();const o={left:0,top:0,right:0,bottom:0};if(i!=null&&i.domNode){const a=i.domNode.getBoundingClientRect();o.left=a.left,o.top=a.top,o.right=a.right,o.bottom=a.bottom}for(n.detach(s);r.firstChild;)r.removeChild(r.firstChild);return o}overlaps(t,r){const n=this.computeBoundingRect(t),i=this.computeBoundingRect(r);return Math.max(n.left,i.left)<=Math.min(n.right,i.right)&&Math.max(n.top,i.top)<=Math.min(n.bottom,i.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t,r){const n=!!(r!=null&&r.disableDecorations);if(!this.items.some(s=>s.visible&&!(n&&s.isDecoration)))return;const i=t.getContext("2d");i.save(),i.font=this._fontString(),this.items.forEach(s=>{n&&s.isDecoration||(i.save(),s.renderCanvas(i),i.restore())}),i.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};c([h({readOnly:!0})],Xs.prototype,"surface",void 0),c([h({readOnly:!0})],Xs.prototype,"items",void 0),c([h({readOnly:!0})],Xs.prototype,"needsRender",null),c([h({readOnly:!0})],Xs.prototype,"_watchUpdatingTracking",void 0),c([h({readOnly:!0})],Xs.prototype,"updating",null),Xs=c([M("esri.views.overlay.ViewOverlay")],Xs);const ck=Xs,W1=[0,0];function vJ(e){const t=(e.ownerDocument||window.document).defaultView,r=e.getBoundingClientRect();return W1[0]=r.left+((t==null?void 0:t.pageXOffset)??0),W1[1]=r.top+((t==null?void 0:t.pageYOffset)??0),W1}function dk(e){e&&(uL(e),e.parentNode&&e.parentNode.removeChild(e))}function wJ(e){const t=document.createElement("div");return e.appendChild(t),t}const Pd=16,pm=750,_J=512,bJ=2,SJ=e=>{let t=class extends e{constructor(...r){super(...r),this._freqInfo={freq:Pd,time:pm},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([re(()=>this.cursor,n=>{const{surface:i}=this;i&&i.setAttribute("data-cursor",n)}),re(()=>this.navigating,n=>{const{surface:i}=this;i&&i.setAttribute("data-navigating",n.toString())})])}initialize(){this.addHandles([re(()=>this.ui,(r,n)=>this._handleUIChange(r,n),Rt),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui=He(this.ui),this.container=null)}get container(){return this._get("container")??null}set container(r){const n=this._get("container"),i=Cx(r);if(i||typeof r!="string"||z.getLogger(this).error("#container",`element with id '${r}' not found`),n===i)return;if(this._stopMeasuring(),n&&(n.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(dk(this.root),this._set("root",null)),this.userContent&&(ek(this.userContent,n),dk(this.userContent),this._set("userContent",null))),!i)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);i.classList.add("esri-view");const s=document.createElement("div");s.className="esri-view-user-storage",ek(i,s),i.appendChild(s),this._set("userContent",s);const o=document.createElement("div");o.className="esri-view-root",i.insertBefore(o,i.firstChild),this._set("root",o);const a=document.createElement("div");a.className="esri-view-surface",a.setAttribute("role","application"),a.tabIndex=0,o.appendChild(a),this._set("surface",a);const l=new ck;o.appendChild(l.surface),this._set("overlay",l),this.addHandles(re(()=>l.needsRender,d=>{d&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=Ac({render:()=>{var p;return(p=this.overlay)==null?void 0:p.render()}}):this._overlayRenderTaskHandle=Ke(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",i),this._startMeasuring()}get focused(){const r=document.activeElement===this.surface;return document.hasFocus()&&r}get size(){return[this.width,this.height]}blur(){var r;(r=this.surface)==null||r.blur()}focus(){var r;(r=this.surface)==null||r.focus()}pageToContainer(r,n,i){const s=this.position;return r-=s?s[0]:0,n-=s?s[1]:0,i?(i[0]=r,i[1]=n):i=[r,n],i}containerToPage(r,n,i){const s=this.position;return r+=s?s[0]:0,n+=s?s[1]:0,i?(i[0]=r,i[1]=n):i=[r,n],i}_handleUIChange(r,n){this.removeHandles("ui"),n&&n!==r&&n.destroy(),r&&(r.view=this,this.addHandles(re(()=>this.root,i=>{r.container=i?wJ(i):null},Rt),"ui")),this._set("ui",r)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const r=this._freqInfo;r.freq=Pd,r.time=pm,this.addHandles([Kp(window,"resize",()=>{r.freq=Pd,r.time=pm}),Ac({prepare:n=>{const i=this._measure(),s=this._freqInfo;if(s.time+=n.deltaTime,i&&(s.freq=Pd,this._get("resizing")||this._set("resizing",!0)),s.time<s.freq)return;s.time=0;const o=this._position();s.freq=o||i?Pd:Math.min(pm,s.freq*bJ),!i&&s.freq>=_J&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const r=this.container,n=r?r.clientWidth:0,i=r?r.clientHeight:0;if(n===0||i===0)return this.suspended||this._set("suspended",!0),!1;const s=this.width,o=this.height;return n===s&&i===o?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",n),this._set("height",i),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:s,oldHeight:o,width:n,height:i}),!0)}_position(){const r=this.container,n=this.position,i=r&&vJ(r);return!!i&&(!n||i[0]!==n[0]||i[1]!==n[1])&&(this._set("position",[i[0],i[1]]),!0)}forceDOMReadyCycle(){}};return c([h()],t.prototype,"container",null),c([h({readOnly:!0})],t.prototype,"focused",null),c([h({readOnly:!0})],t.prototype,"height",void 0),c([h()],t.prototype,"messagesCommon",void 0),c([h({type:ck})],t.prototype,"overlay",void 0),c([h({readOnly:!0})],t.prototype,"position",void 0),c([h({readOnly:!0})],t.prototype,"resizing",void 0),c([h({readOnly:!0})],t.prototype,"root",void 0),c([h({value:null,readOnly:!0})],t.prototype,"size",null),c([h({readOnly:!0})],t.prototype,"surface",void 0),c([h({readOnly:!0})],t.prototype,"suspended",void 0),c([h()],t.prototype,"ui",void 0),c([h({readOnly:!0})],t.prototype,"userContent",void 0),c([h({readOnly:!0})],t.prototype,"width",void 0),c([h()],t.prototype,"widthBreakpoint",void 0),t=c([M("esri.views.DOMContainer")],t),t};let $J=class{constructor(t,r){this._owner=r,this._properties={},this._afterDispatchHandle=null;for(const n in t){const i=t[n],s=new S4(i,void 0,void 0,2,2);this._properties[n]={pool:s,acquired:[]}}this._afterDispatchHandle=tz(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const r=this._properties[t];for(const n of r.acquired)m3(n)||r.pool.release(n);r.pool.destroy(),r.pool=null,r.acquired=null}this._properties=null,this._owner=null}get(t){const r=this._owner._get(t),n=this._properties[t];let i=n.pool.acquire();for(n.acquired.push(i);i===r;)n.acquired.push(i),i=n.pool.acquire();return i}_release(){for(const t in this._properties){const r=this._properties[t];let n=0;for(const i of r.acquired)m3(i)?r.acquired[n++]=i:r.pool.release(i);r.acquired.length=n}}};const xJ=I("mac")?"Meta":"Control",TJ=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),MJ=e=>TJ.has(e);let EJ=class{constructor(t,r=[]){this.eventType=t,this.keyModifiers=r}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const r=t.modifiers;for(const n of this.keyModifiers)if(!r.has(n))return!1;return!0}},kt=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const r=this._incoming[t];for(const n of r)this._incomingEventMatches.push(n.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager||(t.setEventCallback(r=>this._handleEvent(r)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,r,n){let i;typeof r=="function"?(n=r,i=[]):i=r||[];const s=typeof t=="string"?new EJ(t,i):t,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},a=p=>{const f=this._incoming[p.match.eventType];if(f){const m=f.indexOf(p);f.splice(m,1),o(),this._manager&&this._manager.updateDependencies()}},l=new kJ(s,n,{onPause:a,onRemove:a,onResume:p=>{const f=this._incoming[p.match.eventType];f&&!f.includes(p)&&(f.push(p),o(),this._manager&&this._manager.updateDependencies())}});let d=this._incoming[s.eventType];return d||(d=[],this._incoming[s.eventType]=d),d.push(l),o(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const r=new PJ(t,{onEmit:(n,i,s,o)=>{var a;(a=this._manager)==null||a.emit(n.eventType,i,s,o)},onRemove:n=>{var i;delete this._outgoing[n.eventType],(i=this._manager)==null||i.updateDependencies()}});return this._outgoing[t]=r,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),r}startCapturingPointer(t){var r;(r=this._manager)==null||r.setPointerCapture(t,!0)}stopCapturingPointer(t){var r;(r=this._manager)==null||r.setPointerCapture(t,!1)}refreshHasPendingInputs(){var t;(t=this._manager)==null||t.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(t){var n;const r=this._incoming[t.type];if(r){for(const i of r)if(i.match.matches(t)&&((n=i.callback)==null||n.call(i,t),t.shouldStopPropagation()))break}}},kJ=class{constructor(t,r,n){this.match=t,this._callback=r,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},PJ=class{constructor(t,r){this.eventType=t,this._removed=!1,this._handler=r}emit(t,r,n){this._removed||this._handler.onEmit(this,t,r,n)}remove(){this._removed=!0,this._handler.onRemove(this)}},CJ=class extends kt{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",r=>{this._update(r.data)})}_update(t){const r=t.native.pointerType==="touch"?"touch":"mouse",{x:n,y:i}=t;r===this._value&&this._x===n&&this._y===i||(this._value=r,this._x=n,this._y=i,this._onChange(r,n,i))}},OJ=class{constructor(t,r){this._observable=new nf,this._value=t,this._equalityFunction=r}get value(){return K(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}};function AL(e,t=n4){return new OJ(e,t)}let IJ=class extends kt{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=AL(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},sn=class extends ee{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=xJ,this._latestPointerType="mouse",this._propertiesPool=new $J({latestPointerLocation:LJ},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const r of t)this.uninstallHandlers(r);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(t,r,n=qo.INTERNAL){if(this._nameToGroup[t]||r.length===0)return;const i={name:t,handlers:r.map(s=>({handler:s,active:!0,removed:!1,priorityIndex:0,groupPriority:n,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=i;for(let s=i.handlers.length-1;s>=0;s--){const o=i.handlers[s];this._handlers.push(o),o.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(a,l,d,p,f)=>{this._emitInputEvent(o.priorityIndex+1,a,l,d,f,p)},setPointerCapture:(a,l)=>{this._setPointerCapture(i,o,a,l)},setEventCallback:a=>{o.eventCallback=a},setUninstallCallback:a=>{o.uninstallCallback=a},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const r=this._nameToGroup[t];r?(r.handlers.forEach(n=>{var i;n.removed=!0,(i=n.uninstallCallback)==null||i.call(n)}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):z.getLogger(this).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}isModifierKeyDown(t){return this._activeKeyModifiers&&this._activeKeyModifiers.has(t)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,r=new Set;this._handlersPriority=[];for(let n=this._handlers.length-1;n>=0;n--){const i=this._handlers[n];i.priorityIndex=n,this._handlersPriority.push(i)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let n=this._handlersPriority.length-1;n>=0;n--){const i=this._handlersPriority[n];i.priorityIndex=n;let s=i.handler.hasSideEffects;if(!s){for(const o of i.handler.outgoingEventTypes)if(t.has(o)){s=!0;break}}if(s)for(const o of i.handler.incomingEventMatches){t.add(o.eventType);for(const a of o.keyModifiers)MJ(a)||r.add(a)}i.active=s}this._sourceEvents=t,this._keyModifiers=r,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,r,n){this._latestPointerType=t;const i=this._get("latestPointerLocation");if(i==null||i.x!==r||i.y!==n){const s=this._propertiesPool.get("latestPointerLocation");s.x=r,s.y=n,this._set("latestPointerLocation",s)}}_onEventReceived(t,r){if(t==="pointer-capture-lost"){const s=r;this._pointerCaptures.delete(s.native.pointerId)}this._updateKeyModifiers(t,r);const n=this.test.timestamp!=null?this.test.timestamp:r.native?r.native.timestamp:void 0,i=r.native?r.native.cancelable:void 0;this._emitInputEventFromSource(t,r,n,i)}_updateKeyModifiers(t,r){if(!r)return;let n=!1;const i=()=>{if(!n){const a=new Set;this._activeKeyModifiers.forEach(l=>{a.add(l)}),this._activeKeyModifiers=a,n=!0}},s=(a,l)=>{l&&!this._activeKeyModifiers.has(a)?(i(),this._activeKeyModifiers.add(a)):!l&&this._activeKeyModifiers.has(a)&&(i(),this._activeKeyModifiers.delete(a))};if(t==="key-down"||t==="key-up"){const a=r.key;this._keyModifiers.has(a)&&s(a,t==="key-down")}const o=r.native;s("Alt",!(!o||!o.altKey)),s("Control",!(!o||!o.ctrlKey)),s("Ctrl",!(!o||!o.ctrlKey)),s("Shift",!(!o||!o.shiftKey)),s("Meta",!(!o||!o.metaKey)),s("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new CJ((t,r,n)=>this._setLatestPointer(t,r,n)),this._multiTouchHandler=new IJ,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],qo.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,qo.INTERNAL)}_setPointerCapture(t,r,n,i){const s=t.name+"-"+r.priorityIndex,o=this._pointerCaptures.get(n.pointerId)||new Set;this._pointerCaptures.set(n.pointerId,o),i?(o.add(s),o.size===1&&this.eventSource&&this.eventSource.setPointerCapture(n,!0)):o.has(s)&&(o.delete(s),o.size===0&&(this._pointerCaptures.delete(n.pointerId),this.eventSource&&this.eventSource.setPointerCapture(n,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,r,n,i){this._emitInputEvent(0,t,r,n,i)}_emitInputEvent(t,r,n,i,s,o){const a=i!==void 0?i:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),l=s!==void 0&&s,d={event:new AJ(r,n,a,o||this._activeKeyModifiers,l),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(d):this._doNewPropagation(d)}_doNewPropagation(t){this._currentPropagation={events:new jg,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){var r,n,i;this._paused=!1;const t=this._currentPropagation;if(t){for(;t.events.length>0;){const{event:s,priorityIndex:o}=t.events.pop(),a=(r=s.data)==null?void 0:r.eventId;if(!(a!=null&&this._stoppedPropagationEventIds.has(a)))for(t.currentHandler=this._handlersPriority[o];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!s.shouldStopPropagation()&&((i=(n=t.currentHandler).eventCallback)==null||i.call(n,s)),s.shouldStopPropagation()){a!=null&&this._stoppedPropagationEventIds.add(a);break}if(s.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:s,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){const r=new jg;r.push(t);const n=this._currentPropagation;if(n){for(;n.events.length;)r.push(n.events.pop());n.events=r,n.currentHandler=null,this._paused=!0}}_compareHandlerPriority(t,r){if(t.handler.hasSideEffects!==r.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==r.groupPriority)return t.groupPriority>r.groupPriority?-1:1;for(const n of t.handler.incomingEventMatches)for(const i of r.handler.incomingEventMatches){if(n.eventType!==i.eventType)continue;const s=n.keyModifiers.filter(o=>i.keyModifiers.includes(o));if(s.length===n.keyModifiers.length!=(s.length===i.keyModifiers.length))return n.keyModifiers.length>i.keyModifiers.length?-1:1}return t.priorityIndex>r.priorityIndex?-1:1}_sortHandlersPriority(t){const r=[];for(const n of t){let i=0;for(;i<r.length&&this._compareHandlerPriority(n,r[i])>=0;)i++;r.splice(i,0,n)}return r}get debug(){const t=r=>{const n=this._setPointerCapture;this._setPointerCapture=()=>{},r(),this._setPointerCapture=n};return{injectEvent:(r,n)=>{t(()=>{this._onEventReceived(r,n)})},disablePointerCapture:t}}};c([h({readOnly:!0})],sn.prototype,"hasPendingInputs",null),c([h({constructOnly:!0})],sn.prototype,"eventSource",void 0),c([h({constructOnly:!0})],sn.prototype,"recognizers",void 0),c([h()],sn.prototype,"_latestPointerType",void 0),c([h()],sn.prototype,"latestPointerType",null),c([h()],sn.prototype,"multiTouchActive",null),c([h({readOnly:!0})],sn.prototype,"latestPointerLocation",void 0),c([h()],sn.prototype,"_paused",void 0),c([h({readOnly:!0})],sn.prototype,"updating",null),sn=c([M("esri.views.input.InputManager")],sn);let AJ=class{constructor(t,r,n,i,s){this.type=t,this.data=r,this.timestamp=n,this.modifiers=i,this.cancelable=s,this._propagationState=xo.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=xo.STOPPED}shouldStopPropagation(){return!!(this._propagationState&xo.STOPPED)}async(t){this._propagationState|=xo.PAUSED;const r=(n,i)=>{this._propagationState&=~xo.PAUSED;const s=this._resumeCallback;if(this._resumeCallback=null,s&&s(),i)throw n;return n};return(typeof t=="function"?t():t).then(n=>r(n,!1),n=>r(n,!0))}shouldPausePropagation(t){return!!(this._propagationState&xo.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};var xo;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(xo||(xo={}));const qo={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let RJ=class{};const LJ=RJ;function Hi(e){return e!=null&&"open"in e&&"declaredClass"in e}function hk(e){return e!=null&&"declaredClass"in e&&"dockOptions"in e}const NJ=e=>{let t=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([re(()=>[this.ui,this.popup],([r,n],i)=>{const s="popup",o="manual";if(i){const[a,l]=i;a&&Hi(l)&&(l.view=null,hk(l)&&a.remove(l,s))}r&&Hi(n)&&(n.view=this,hk(n)&&r.add(n,{key:s,position:o,internal:!0}))},Rt),this.on("click",r=>{this.popup&&this.popupEnabled&&(r.pointerType!=="mouse"||r.button===0)&&(Hi(this.popup)?this.popup.viewModel.handleViewClick(r):r.async(async()=>{await this.setupPopup(),Hi(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(r)}))},qo.WIDGET)]),xp(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{U(()=>import("./Popup-Cx6tVwIw.js"),__vite__mapDeps([129,62,130,131,6,101,132,133,80,23,134,135,71,110,136,137,57,138,82,31,139,28,26,140,108,4,5,2,3,141,60,58,59,15,18,61,142,143,144,145,146,56,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,85,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180]))})}destroy(){this.destroyed||this.closePopup()}async openPopup(r){if(Hi(this.popup))return this.popup.open(r);try{if(await this.setupPopup(),!this.popup)return void z.getLogger(this).error(new j("view:null-popup","Popup is null and can't be opened"));this.popup.open(r)}catch{}}closePopup(){var r;(r=this._popupSetupTask)==null||r.abort(),Hi(this.popup)&&this.popup.close()}async fetchPopupFeatures(r,n){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(r,n),n)}async setupPopup(){var r;if((r=this._popupSetupTask)==null||r.abort(),this.popup&&!Hi(this.popup))return this._popupSetupTask=cx(async n=>{const{default:i}=await U(()=>import("./Popup-Cx6tVwIw.js"),__vite__mapDeps([129,62,130,131,6,101,132,133,80,23,134,135,71,110,136,137,57,138,82,31,139,28,26,140,108,4,5,2,3,141,60,58,59,15,18,61,142,143,144,145,146,56,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,85,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180]));if(lt(n),!this.popup||Hi(this.popup))return;const s=this.popup;delete s.open,delete s.close,this.popup=new i(s)}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:r,hits:n},i){const s=[],o=[];let a=!1;const l=I7(i,I("popup-view-fetch-timeout")??FJ),d=m=>{const y=new DJ(m);return o.push(y),s.push(y.promise),y},p=m=>{const y=o.at(-1);return y&&y.layerView===m&&!a?y:d(m)};for(const m of n)"graphic"in m?(p(m.layerView).graphics.push(m.graphic),a=!1):(s.push(m.layerView.fetchPopupFeaturesAtLocation(m.mapPoint,l)),a=!0);o.map(m=>m.resolve(l));const f=O7(s).then(m=>m.filter(y=>!!y).flat());return{pendingFeatures:s,allGraphicsPromise:f,location:r}}async _getPopupHits(r,n){const{hits:i,location:s}=await this.popupHitTest(r);lt(n);const o=[];for(const a of i)if("graphic"in a){if(this._isValidPopupGraphic(a.graphic,n)){const l=this._isValidPopupGraphicsLayerView(a.layerView)?a.layerView:void 0;o.push({graphic:a.graphic,layerView:l})}}else this._isValidPopupLocationLayerView(a.layerView)&&o.push({mapPoint:a.mapPoint,layerView:a.layerView});return{hits:o,location:s}}_isValidPopupGraphic(r,n){return r&&!!r.getEffectivePopupTemplate(n==null?void 0:n.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(r){return!r||(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesFromGraphics"in r}_isValidPopupLocationLayerView(r){return(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesAtLocation"in r}};return c([h({cast(r){return!r||Hi(r)||typeof r=="object"&&(r.open=n=>(Ol(z.getLogger(this),"view.popup is no longer created by default. view.popup.open() will stop working when the popup isn't created",{replacement:"Use view.openPopup() instead.",version:"4.27"}),this.openPopup(n)),r.close=()=>(Ol(z.getLogger(this),"view.popup is no longer created by default. view.popup.close() will stop working when the popup isn't created",{replacement:"Use view.closePopup() instead.",version:"4.27"}),this.closePopup())),r}})],t.prototype,"popup",void 0),c([h()],t.prototype,"popupEnabled",void 0),t=c([M("esri.views.PopupView")],t),t};let DJ=class{constructor(t){this.layerView=t,this._resolver=Tn(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(t){const{layerView:r,graphics:n,_resolver:i}=this;if(!r)return i.resolve(n),i.promise;let s;return r.fetchPopupFeaturesFromGraphics(n,t).catch(o=>(s=o,null)).then(o=>{o?i.resolve(o):i.reject(s)}),i.promise}};const FJ=5e3;function sa(e,t,r=X){return t||(t=new r),t===e||(t.removeAll(),jJ(e)?t.addMany(e):e&&t.add(e)),t}function RL(e){return e}function jJ(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var To;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(To||(To={}));let zJ=class{constructor(){this._resolver=Tn(),this._status=To.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=To.RESOLVED,this._cleanUp()},()=>{this._status=To.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===To.RESOLVED}isRejected(){return this._status===To.REJECTED}isFulfilled(){return this._status!==To.PENDING}abort(){this._resolver.reject(mt())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=Tn(),r=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(r);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},i=>{this.isFulfilled()||this._allPromise!==n||Mn(i)||this._resolver.reject(i)}),t.resolve()}};const Lx=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new zJ,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,n){return this._promiseProps.promise.then(()=>this).then(r,n)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=c([M("esri.core.Promise")],t),t};let Jg=class extends Lx(ee){};Jg=c([M("esri.core.Promise")],Jg);const UJ="not-loaded",VJ="loading",GJ="failed",pk="loaded",LL=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const i=this.load.bind(this);this.load=s=>{const o=new Promise((a,l)=>{const d=E$(s,l);this.destroyed&&l(new j("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{d&&d.remove()})});if(this.loadStatus===UJ){this._set("loadStatus",VJ);const a=this._loadController=new AbortController;i({signal:a.signal})}return n(),o}})),this.when(()=>{this._set("loadStatus",pk),this._loadController=null},n=>{this._set("loadStatus",GJ),this._set("loadError",n),this._loadController=null})}destroy(){this._loadController&&(this._loadController=Il(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===pk}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var r;return this.isFulfilled()||(this._set("loadError",new j("load:cancelled","Cancelled")),(r=this._loadController)==null||r.abort(),this._promiseProps.abort()),this}};return c([h({readOnly:!0})],t.prototype,"loaded",null),c([h({readOnly:!0})],t.prototype,"loadError",void 0),c([h({clonable:!1})],t.prototype,"loadStatus",void 0),c([h({type:[Os],readOnly:!0})],t.prototype,"loadWarnings",null),t=c([M("esri.core.Loadable")],t),t};let Bd=class extends LL(Jg){};Bd=c([M("esri.core.Loadable")],Bd),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=LL,e.isLoadable=t}(Bd||(Bd={}));const oa=Bd;async function NL(e,t){return await e.load(),WJ(e,t)}async function WJ(e,t){const r=[],n=(...s)=>{for(const o of s)o!=null&&(Array.isArray(o)?n(...o):X.isCollection(o)?o.forEach(a=>n(a)):oa.isLoadable(o)&&r.push(o))};t(n);let i=null;if(await _W(r,async s=>{const o=await OR(BJ(s)?s.loadAll():s.load());o.ok!==!1||i||(i=o)}),i)throw i.error;return e}function BJ(e){return"loadAll"in e&&typeof e.loadAll=="function"}let fm;function HJ(e){return fm&&!fm.destroyed||(fm=e()),fm}var b2;const qJ=new Ht({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let on=b2=class extends ee{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new b2({categories:this.categories?L(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let n="";if(this.extent){const o=rv(this.extent,he.WGS84);o!=null&&(n=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const s={categories:r,bbox:n,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>qJ.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};c([h()],on.prototype,"categories",void 0),c([h()],on.prototype,"disableExtraQuery",void 0),c([h({type:Le})],on.prototype,"extent",void 0),c([h()],on.prototype,"filter",void 0),c([h()],on.prototype,"num",void 0),c([h()],on.prototype,"query",void 0),c([h()],on.prototype,"sortField",void 0),c([h()],on.prototype,"sortOrder",null),c([h()],on.prototype,"start",void 0),on=b2=c([M("esri.portal.PortalQueryParams")],on);const gs=on;var S2;let yt=S2=class extends B{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var r;const e=this.url,t=this.thumbnail;return e&&t&&this.portal?(r=this.portal)==null?void 0:r.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(n=>n.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new j("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new S2({sourceJSON:e});return t.read(e),t}queryItems(e,t){let r=Mt(gs,e);const n=this.portal;return parseFloat(n.currentVersion)>5?(r=r||new gs,n.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new gs,r.query="group:"+this.id+(r.query?" "+r.query:""),n.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=this.portal;return r.fetchSelf(r.authMode,!0,t).then(n=>{const i=n.contentCategorySetsGroupQuery;if(i){const s=new gs({disableExtraQuery:!0,num:1,query:i});return r.queryGroups(s,t)}throw new j("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(n=>{if(n.total){const i=n.results[0],s=new gs({num:1,query:`typekeywords:"${e}"`});return i.queryItems(s,t)}throw new j("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(n=>n.total?n.results[0].fetchData("json",t).then(i=>{const s=i==null?void 0:i.categorySchema;return s!=null&&s.length?s:[]}):[])}};c([h()],yt.prototype,"access",void 0),c([h({type:Date})],yt.prototype,"created",void 0),c([h()],yt.prototype,"description",void 0),c([h()],yt.prototype,"id",void 0),c([h()],yt.prototype,"isInvitationOnly",void 0),c([h({type:Date})],yt.prototype,"modified",void 0),c([h()],yt.prototype,"owner",void 0),c([h()],yt.prototype,"portal",void 0),c([h()],yt.prototype,"snippet",void 0),c([h()],yt.prototype,"sortField",void 0),c([h()],yt.prototype,"sortOrder",void 0),c([h()],yt.prototype,"sourceJSON",void 0),c([h()],yt.prototype,"tags",void 0),c([h()],yt.prototype,"thumbnail",void 0),c([h({readOnly:!0})],yt.prototype,"thumbnailUrl",null),c([h()],yt.prototype,"title",void 0),c([h({readOnly:!0})],yt.prototype,"url",null),yt=S2=c([M("esri.portal.PortalGroup")],yt);const $2=yt;let Aa=class extends ee{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};c([h()],Aa.prototype,"nextQueryParams",void 0),c([h()],Aa.prototype,"queryParams",void 0),c([h()],Aa.prototype,"results",void 0),c([h()],Aa.prototype,"total",void 0),Aa=c([M("esri.portal.PortalQueryResult")],Aa);const ZJ=Aa;let Yi=class extends B{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var r;const t=(r=this.portal)==null?void 0:r.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new j("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};c([h({type:Date})],Yi.prototype,"created",void 0),c([h()],Yi.prototype,"id",void 0),c([h()],Yi.prototype,"portal",void 0),c([h()],Yi.prototype,"title",void 0),c([h({readOnly:!0})],Yi.prototype,"url",null),c([h()],Yi.prototype,"username",void 0),Yi=c([M("esri.portal.PortalFolder")],Yi);const JJ=Yi;var x2;let De=x2=class extends B{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e==null?void 0:e.data,n=e==null?void 0:e.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),r!=null&&(typeof r=="string"?i.query.text=r:typeof r=="object"&&(i.query.text=JSON.stringify(r))));let s=this.userContentUrl;return n&&(s+="/"+(typeof n=="string"?n:n.id)),this.portal.request(s+"/addItem",i).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let r=this.userContentUrl;e.ownerFolder&&(r+="/"+e.ownerFolder);const n=t?{permanentDelete:!0}:{};await this.portal.request(r+`/items/${e.id}/delete`,{method:"post",query:n}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.concat();const r=this.userContentUrl+"/deleteItems",n=[],i=e.map(s=>s.id);if(i.length){const s={method:"post",query:{items:i.join(","),permanentDelete:t}},o=await this.portal.request(r,s);for(const a of o.results){const l=e.find(f=>a.itemId===f.id),d=a.success;let p=null;d?(l.id=null,l.portal=null):a.error&&(p=new j("portal:delete-item-failed",a.error.message,a.error)),n.push({item:l,success:d,error:p})}}return n}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let r;return r=t&&t.folders?t.folders.map(n=>{const i=JJ.fromJSON(n);return i.portal=this.portal,i}):[],r})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const n=$2.fromJSON(r);return n.portal=this.portal,n}):[],t})}async fetchItems(e){e??(e={});let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:r}=await U(()=>Promise.resolve().then(()=>UL),void 0),n={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},i=await this.portal.request(t,{query:n});let s;return i!=null&&i.items?(s=i.items.map(o=>{const a=r.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:i.nextStart,total:i.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new $2({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new j("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const r=this.userContentUrl,n=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(r+`/items/${e.id}/restore`,{method:"post",query:n})}toJSON(){throw new j("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new x2({sourceJSON:e});return t.read(e),t}};c([h()],De.prototype,"access",void 0),c([h({type:Date})],De.prototype,"created",void 0),c([h()],De.prototype,"culture",void 0),c([h()],De.prototype,"description",void 0),c([h()],De.prototype,"email",void 0),c([h()],De.prototype,"favGroupId",void 0),c([h()],De.prototype,"fullName",void 0),c([h({type:Date})],De.prototype,"modified",void 0),c([h()],De.prototype,"orgId",void 0),c([h()],De.prototype,"portal",void 0),c([h()],De.prototype,"preferredView",void 0),c([h()],De.prototype,"privileges",void 0),c([h()],De.prototype,"region",void 0),c([h()],De.prototype,"role",void 0),c([h()],De.prototype,"roleId",void 0),c([h()],De.prototype,"sourceJSON",void 0),c([h()],De.prototype,"thumbnail",void 0),c([h({readOnly:!0})],De.prototype,"thumbnailUrl",null),c([h()],De.prototype,"units",void 0),c([h({readOnly:!0})],De.prototype,"userContentUrl",null),c([h({readOnly:!0})],De.prototype,"url",null),c([h()],De.prototype,"username",void 0),c([h()],De.prototype,"userLicenseTypeId",void 0),c([h()],De.prototype,"userType",void 0),De=x2=c([M("esri.portal.PortalUser")],De);const DL=De;var Lr;let mm;const fk={PortalGroup:()=>Promise.resolve({default:$2}),PortalItem:()=>U(()=>Promise.resolve().then(()=>UL),void 0),PortalUser:()=>Promise.resolve({default:DL})};let F=Lr=class extends Xp(oa){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=ye.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){mk.unregister(this),this.defaultBasemap=He(this.defaultBasemap),this.defaultDevBasemap=He(this.defaultDevBasemap),this.defaultVectorBasemap=He(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Ke(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)ye.request.trustedServers.includes(t)||ye.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var r;const e=(r=this.user)==null?void 0:r.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=DL.fromJSON(e),t.portal=this),t}load(e){const t=U(()=>Promise.resolve().then(()=>_K),void 0).then(({default:r})=>{lt(e),mm=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(r=>{var n;if(Ie){const i=Ie;this.credential=i.findCredential(this.restUrl),this.credential||this.authMode!==Lr.AUTH_MODE_AUTO&&this.authMode!==Lr.AUTH_MODE_NO_PROMPT||((n=this._esriIdCredentialCreateHandle)==null||n.remove(),this._esriIdCredentialCreateHandle=i.on("credential-create",KJ(new WeakRef(this))),mk.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await U(async()=>{const{default:r}=await import("./ElevationLayer-BGTArMbW.js");return{default:r}},__vite__mapDeps([181,145,182,183,184,62,23,154,165,146,56,57,168,169]))).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}async fetchBasemaps(e,t){const r=await this._fetchBasemaps(e,t);if((t==null?void 0:t.include3d)===!0&&this.use3dBasemaps!==!1){const n=await this._fetchBasemaps3D(e,t);r.unshift(...n)}return r}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Ps(e)?Promise.reject(mt()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new gs({num:100,sortField:"title"});if(t!=null&&t.length){const n=[];for(const i of t)n.push(`(title:"${i.title}" AND owner:${i.owner})`);return r.query=n.join(" OR "),this.queryGroups(r,e).then(i=>i.results)}return Ps(e)?Promise.reject(mt()):Promise.resolve([])}fetchRegions(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||Zr();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||Zr();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return HJ(()=>new Lr)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,r){const n=this.restUrl+"/portals/self",i={authMode:e,query:{culture:Zr().toLowerCase()},withCredentials:!0,...r};return i.authMode==="auto"&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this.request(n,i)}queryPortal(e,t,r,n){const i=Mt(gs,t),s=o=>this.request(this.restUrl+e,{...i.toRequestOptions(this),...n}).then(a=>{const l=i.clone();return l.start=a.nextStart,new ZJ({nextQueryParams:l,queryParams:i,total:a.total,results:Lr._resultsToTypedArray(o,{portal:this},a,n)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(E4(l),a)));return r&&fk[r]?fk[r]().then(({default:o})=>(lt(n),s(o))):s()}signIn(){if(this.authMode===Lr.AUTH_MODE_ANONYMOUS||this.authMode===Lr.AUTH_MODE_NO_PROMPT&&!Ie)return Promise.reject(new j("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return Ie?Ie.getCredential(this.restUrl,{prompt:this.authMode!==Lr.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){var r;const t=(r=this.credential)==null?void 0:r.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,r){return this.request(e,t).then(n=>{const i=Lr._resultsToTypedArray(r,{portal:this},n);return Promise.all(i.map(s=>typeof s.when=="function"?s.when():n)).then(()=>i,()=>i)})}request(e,t={}){const r={f:"json",...t.query},{authMode:n=this.authMode===Lr.AUTH_MODE_ANONYMOUS||this.authMode===Lr.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:i=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=t,d={authMode:n,body:i,cacheBust:s,method:o,query:r,responseType:a,timeout:0,signal:l};return t.withCredentials&&(d.withCredentials=!0),at(this._normalizeSSL(e),d).then(p=>p.data)}toJSON(){throw new j("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Lr({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new j("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const r=new gs;r.query=e||(ye.apiKey&&OA(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const n=await this.queryGroups(r,t);if(!n.total)return[];const i=n.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=i.sortField||"name",r.sortOrder=i.sortOrder||"desc";const s=await i.queryItems(r,t);return s.total?s.results.filter(o=>o.type==="Web Map").map(o=>new mm({portalItem:o})):[]}async _fetchBasemaps3D(e,t){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];const n=new gs({query:r,disableExtraQuery:!0}),i=await this.queryGroups(n,t);if(!i.total)return[];const s=i.results[0];n.num=100,n.query='type:"Web Scene"',n.sortField=s.sortField||"name",n.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(n,t);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new mm({portalItem:a})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=mm.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,r,n){let i;if(r){const s=n!=null?n.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map(o=>{const a=Object.assign(e?e.fromJSON(o):o,t);return typeof a.load=="function"&&a.load(s),a}))}else i=[];return i}};F.AUTH_MODE_ANONYMOUS="anonymous",F.AUTH_MODE_AUTO="auto",F.AUTH_MODE_IMMEDIATE="immediate",F.AUTH_MODE_NO_PROMPT="no-prompt",c([h()],F.prototype,"access",void 0),c([h()],F.prototype,"allSSL",void 0),c([h()],F.prototype,"authMode",void 0),c([h()],F.prototype,"authorizedCrossOriginDomains",void 0),c([Me("authorizedCrossOriginDomains")],F.prototype,"readAuthorizedCrossOriginDomains",null),c([h()],F.prototype,"basemapGalleryGroupQuery",void 0),c([h({json:{name:"3DBasemapGalleryGroupQuery"}})],F.prototype,"basemapGalleryGroupQuery3D",void 0),c([h()],F.prototype,"bingKey",void 0),c([h()],F.prototype,"canListApps",void 0),c([h()],F.prototype,"canListData",void 0),c([h()],F.prototype,"canListPreProvisionedItems",void 0),c([h()],F.prototype,"canProvisionDirectPurchase",void 0),c([h()],F.prototype,"canSearchPublic",void 0),c([h()],F.prototype,"canShareBingPublic",void 0),c([h()],F.prototype,"canSharePublic",void 0),c([h()],F.prototype,"canSignInArcGIS",void 0),c([h()],F.prototype,"canSignInIDP",void 0),c([h()],F.prototype,"colorSetsGroupQuery",void 0),c([h()],F.prototype,"commentsEnabled",void 0),c([h({type:Date})],F.prototype,"created",void 0),c([h()],F.prototype,"credential",void 0),c([h()],F.prototype,"culture",void 0),c([h()],F.prototype,"currentVersion",void 0),c([h()],F.prototype,"customBaseUrl",void 0),c([h()],F.prototype,"defaultBasemap",void 0),c([Me("defaultBasemap")],F.prototype,"readDefaultBasemap",null),c([h()],F.prototype,"defaultDevBasemap",void 0),c([Me("defaultDevBasemap")],F.prototype,"readDefaultDevBasemap",null),c([h({type:Le})],F.prototype,"defaultExtent",void 0),c([h()],F.prototype,"defaultVectorBasemap",void 0),c([Me("defaultVectorBasemap")],F.prototype,"readDefaultVectorBasemap",null),c([h()],F.prototype,"description",void 0),c([h()],F.prototype,"devBasemapGalleryGroupQuery",void 0),c([h()],F.prototype,"eueiEnabled",void 0),c([h({readOnly:!0})],F.prototype,"extraQuery",null),c([h()],F.prototype,"featuredGroups",void 0),c([h()],F.prototype,"featuredItemsGroupQuery",void 0),c([h()],F.prototype,"galleryTemplatesGroupQuery",void 0),c([h()],F.prototype,"layoutGroupQuery",void 0),c([h()],F.prototype,"livingAtlasGroupQuery",void 0),c([h()],F.prototype,"hasCategorySchema",void 0),c([h()],F.prototype,"helpBase",void 0),c([h()],F.prototype,"helperServices",void 0),c([h()],F.prototype,"helpMap",void 0),c([h()],F.prototype,"homePageFeaturedContent",void 0),c([h()],F.prototype,"homePageFeaturedContentCount",void 0),c([h()],F.prototype,"httpPort",void 0),c([h()],F.prototype,"httpsPort",void 0),c([h()],F.prototype,"id",void 0),c([h()],F.prototype,"ipCntryCode",void 0),c([h({readOnly:!0})],F.prototype,"isOrganization",null),c([h()],F.prototype,"isPortal",void 0),c([h()],F.prototype,"isReadOnly",void 0),c([h({readOnly:!0})],F.prototype,"itemPageUrl",null),c([h()],F.prototype,"layerTemplatesGroupQuery",void 0),c([h()],F.prototype,"maxTokenExpirationMinutes",void 0),c([h({type:Date})],F.prototype,"modified",void 0),c([h()],F.prototype,"name",void 0),c([h()],F.prototype,"portalHostname",void 0),c([h()],F.prototype,"portalMode",void 0),c([h()],F.prototype,"portalProperties",void 0),c([h()],F.prototype,"region",void 0),c([h()],F.prototype,"recycleBinEnabled",void 0),c([h({readOnly:!0})],F.prototype,"restUrl",null),c([h()],F.prototype,"rotatorPanels",void 0),c([h()],F.prototype,"showHomePageDescription",void 0),c([h()],F.prototype,"sourceJSON",void 0),c([h()],F.prototype,"staticImagesUrl",void 0),c([h({json:{name:"2DStylesGroupQuery"}})],F.prototype,"stylesGroupQuery2d",void 0),c([h({json:{name:"stylesGroupQuery"}})],F.prototype,"stylesGroupQuery3d",void 0),c([h()],F.prototype,"supportsHostedServices",void 0),c([h()],F.prototype,"symbolSetsGroupQuery",void 0),c([h()],F.prototype,"templatesGroupQuery",void 0),c([h()],F.prototype,"thumbnail",void 0),c([h({readOnly:!0})],F.prototype,"thumbnailUrl",null),c([h()],F.prototype,"units",void 0),c([h()],F.prototype,"url",void 0),c([h()],F.prototype,"urlKey",void 0),c([Me("urlKey")],F.prototype,"readUrlKey",null),c([h()],F.prototype,"user",void 0),c([Me("user")],F.prototype,"readUser",null),c([h()],F.prototype,"use3dBasemaps",void 0),c([h()],F.prototype,"useStandardizedQuery",void 0),c([h()],F.prototype,"useVectorBasemaps",void 0),c([h()],F.prototype,"vectorBasemapGalleryGroupQuery",void 0),F=Lr=c([M("esri.portal.Portal")],F);const si=F,mk=new FinalizationRegistry(e=>{e.remove()});function KJ(e){const t=Ie;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch(()=>{})}}let Qi=class extends ee{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t!=null&&t.portalItem&&t.path?{...t,path:yk(t.path,t.portalItem)}:t}set path(t){t!=null&&qr(t)?z.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return yk(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",r){const n=this.cdnUrl;if(n==null)throw new j("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(n,{responseType:t,query:{token:this.portalItem.apiKey},signal:r==null?void 0:r.signal})}async update(t,r){const{addOrUpdateResources:n}=await U(()=>import("./resourceUtils-Bv_Ez6wW.js"),[]);return await n(this.portalItem,[{resource:this,content:t,compress:r==null?void 0:r.compress,access:r==null?void 0:r.access}],"update",r),this}hasPath(){return this.path!=null}};function yk(e,t){return e==null?e:(e=e.replace(/^\/+/,""),t!=null&&qr(e)&&(e=H$(e,t.itemUrl)),e==null?void 0:e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}c([h()],Qi.prototype,"portalItem",void 0),c([h({type:String,value:null})],Qi.prototype,"path",null),c([Lt("path")],Qi.prototype,"_castPath",null),c([h({type:String,readOnly:!0})],Qi.prototype,"url",null),c([h({type:String,readOnly:!0})],Qi.prototype,"cdnUrl",null),c([h({type:String,readOnly:!0})],Qi.prototype,"itemRelativeUrl",null),Qi=c([M("esri.portal.PortalItemResource")],Qi);const YJ=Qi;let Hd=class extends ee{constructor(t){super(t),this.created=null,this.rating=null}};c([h()],Hd.prototype,"created",void 0),c([h()],Hd.prototype,"rating",void 0),Hd=c([M("esri.portal.PortalRating")],Hd);const B1=Hd;function cf(e,t){var n;const r=(n=t==null?void 0:t.url)==null?void 0:n.path;if(e&&r&&(e=mn(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const i=H$(e,t.portalItem.itemUrl);i!=null&&QJ.test(i)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(i).path)}return(e=T2(e,t==null?void 0:t.portal))&&vv.test(e)?Dx(e):e}function gv(e,t,r=Cp.YES){var i,s;if((e=e&&vv.test(e)?jL(e):e)==null)return e;!qr(e)&&(t!=null&&t.blockedRelativeUrls)&&t.blockedRelativeUrls.push(e);let n=mn(e);if(t){const o=((i=t.verifyItemRelativeUrls)==null?void 0:i.rootPath)||((s=t.url)==null?void 0:s.path);if(o){const a=T2(o,t.portal),l=T2(n,t.portal);n=H$(l,a,a),n!=null&&n!==l&&n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=FL(n,t==null?void 0:t.portal),qr(n)&&(n=Bo(n)),t!=null&&t.resources&&(t!=null&&t.portalItem)&&!qr(n)&&!Yl(n)&&r===Cp.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),n}function Nx(e,t,r){return cf(e,r)}function Gc(e,t,r,n){const i=gv(e,n);i!==void 0&&(t[r]=i)}const vv=/\/items\/([^/]+)\/resources\/(.*)/,QJ=/^\.\/resources\//;function XJ(e){const t=(e==null?void 0:e.match(vv))??null;return(t==null?void 0:t[1])??null}function eK(e){const t=(e==null?void 0:e.match(vv))??null;if(t==null)return null;const r=t[2],n=r.lastIndexOf("/");if(n===-1){const{path:o,extension:a}=I3(r);return{prefix:null,filename:o,extension:a}}const{path:i,extension:s}=I3(r.slice(n+1));return{prefix:r.slice(0,n),filename:i,extension:s}}function FL(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?U_(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function T2(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,n=V$();return Rc(n,`${n.scheme}://${r}`)?U_(e,t.portalHostname,r):U_(e,r,t.portalHostname)}function Dx(e){if(!e)return e||null;let t=e;return t&&Ie&&!Ie.findCredential(t)&&(t=bA(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function jL(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Ie&&!Ie.findCredential(t)&&(t=bA(t)),t}var Cp;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(Cp||(Cp={}));const khe=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Cp},ensureMainOnlineDomain:FL,fromCDNUrl:jL,fromJSON:cf,itemIdFromResourceUrl:XJ,prefixAndFilenameFromResourceUrl:eK,read:Nx,toCDNUrl:Dx,toJSON:gv,write:Gc},Symbol.toStringTag,{value:"Module"}));var Ra;const tK=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),rK=new Set(["KML","GeoJson","CSV"]);let oe=Ra=class extends Xp(oa){static from(e){return J0(Ra,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return e==="Feature Service"||e==="Feature Collection"?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?r="Scene Layer":e==="Video Service"?r="Video Layer":e==="Scene Package"?r="Scene Layer Package":e==="Stream Service"?r="Feature Layer":e==="Geoprocessing Service"?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?r="GeoEnrichment Service":e==="Geocoding Service"?r="Locator":e==="Microsoft Powerpoint"?r="Microsoft PowerPoint":e==="GeoJson"?r="GeoJSON":e==="Globe Service"?r="Globe Layer":e==="Vector Tile Service"?r="Tile Layer":e==="netCDF"?r="NetCDF":e==="Map Service"?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e!=null&&e.toLowerCase().includes("add in")?r=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?r="Big Data File Share":e==="Compact Tile Package"?r="Tile Package (tpkx)":e==="Raster function template"?r="Raster Function Template":e==="OGCFeatureServer"?r="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?r="Instant App":e==="Insights Page"?r="Insights Report":e==="Excalibur Imagery Project"?r="Excalibur Project":e==="3DTiles Service"?r="3D tiles layer":e==="3DTiles Package"&&(r="3D tiles package"),r}readExtent(e){return e&&e.length?new Le(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){var y;const e=((y=this.type)==null?void 0:y.toLowerCase())||"",t=this.typeKeywords||[],r="esri/images/portal/",n="16";let i,s=!1,o=!1,a=!1,l=!1,d=!1,p=!1,f=!1,m=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(s=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(o=t.includes("Table"),a=t.includes("Route Layer"),l=t.includes("Markup"),d=t.includes("Spatiotemporal"),p=t.includes("UtilityNetwork"),i=d&&o?"spatiotemporaltable":o?"table":a?"routelayer":l?"markup":d?"spatiotemporal":p?"utilitynetwork":s?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(d=t.includes("Spatiotemporal"),f=t.includes("Relational"),i=d||f?"mapimages":s||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):i=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?i="maps":e==="web scene"?i=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?i="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?i="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?i="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?i="datafiles":e==="360 vr experience"?i="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?i="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?i="addindesktop":e==="pdf"?i="pdf":e==="microsoft word"?i="word":e==="microsoft excel"?i="excel":e==="microsoft powerpoint"?i="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?i="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?i="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?i="layersgray":e==="analysis model"?i="analysismodel":e==="scene package"?i="scenepackage":e==="3dtiles package"?i="3dtileslayerpackage":e==="3dtiles service"?i="3dtileslayer":e==="mobile scene package"?i="mobilescenepackage":e==="tile package"||e==="compact tile package"?i="tilepackage":e==="task file"?i="taskfile":e==="report template"?i="report-template":e==="statistical data collection"?i="statisticaldatacollection":e==="insights workbook"?i="workbook":e==="insights model"?i="insightsmodel":e==="insights page"?i="insightspage":e==="insights theme"?i="insightstheme":e==="hub initiative"?i="hubinitiative":e==="hub page"?i="hubpage":e==="hub site application"?i="hubsite":e==="hub event"?i="hubevent":e==="hub project"?i="hubproject":e==="relational database connection"?i="relationaldatabaseconnection":e==="big data file share"?i="datastorecollection":e==="image collection"?i="imagecollection":e==="desktop style"?i="desktopstyle":e==="style"?i=t.includes("Dictionary")?"dictionarystyle":"style":e==="dashboard"?i="dashboard":e==="raster function template"?i="rasterprocessingtemplate":e==="vector tile package"?i="vectortilepackage":e==="ortho mapping project"?i="orthomappingproject":e==="ortho mapping template"?i="orthomappingtemplate":e==="solution"?i="solutions":e==="geopackage"?i="geopackage":e==="deep learning package"?i="deeplearningpackage":e==="real time analytic"?i="realtimeanalytics":e==="big data analytic"?i="bigdataanalytics":e==="feed"?i="feed":e==="excalibur imagery project"?i="excaliburimageryproject":e==="notebook"?i="notebook":e==="storymap"?i="storymap":e==="survey123 add in"?i="survey123addin":e==="mission"?i="mission":e==="mission report"?i="missionreport":e==="mission template"?i="missiontemplate":e==="quickcapture project"?i="quickcaptureproject":e==="pro report"?i="proreport":e==="pro report template"?i="proreporttemplate":e==="urban model"?i="urbanmodel":e==="web experience"?i="experiencebuilder":e==="web experience template"?i="webexperiencetemplate":e==="experience builder widget"?i="experiencebuilderwidget":e==="experience builder widget package"?i="experiencebuilderwidgetpackage":e==="workflow"?i="workflow":e==="kernel gateway connection"?i="kernelgatewayconnection":e==="insights script"?i="insightsscript":e==="hub initiative template"?i="hubinitiativetemplate":e==="storymap theme"?i="storymaptheme":e==="knowledge graph"?i="knowledgegraph":e==="knowledge graph layer"?i="knowledgegraphlayer":e==="knowledge studio project"?i="knowledgestudio":e==="native application"?i="nativeapp":e==="native application installer"?i="nativeappinstaller":e==="web link chart"?i="linkchart":e==="knowledge graph web investigation"?i="investigation":e==="ogcfeatureserver"?i="features":e==="pro project"?i="proproject":e==="insights workbook package"?i="insightsworkbookpackage":e==="apache parquet"?i="apacheparquet":e==="notebook code snippet library"?i="notebookcodesnippets":e==="suitability model"?i="suitabilitymodel":e==="esri classifier definition"?i="classifierdefinition":e==="esri classification schema"?i="classificationschema":e==="insights data engineering workbook"?i="dataengineeringworkbook":e==="insights data engineering model"?i="dataengineeringmodel":e==="deep learning studio project"?i="deeplearningproject":e==="discussion"?i="discussion":e==="allsource project"?i="allsourceproject":e==="api key"?i="apikey":e==="data pipeline"?i="datapipelines":e==="group layer"?(m=t.includes("Map"),i=m?"layergroup2d":"layergroup"):i=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":"maps",i?be(r+i+n+".png"):null}get isLayer(){return this.type!=null&&tK.has(this.type)}get itemCdnUrl(){return Dx(this.itemUrl)}get itemPageUrl(){var t;const e=(t=this.portal)==null?void 0:t.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){var r;const e=this.itemUrl,t=this.thumbnail;return e&&t?((r=this.portal)==null?void 0:r.normalizeUrl(`${e}/info/${t}?f=json`))??null:null}get userItemUrl(){var r,n,i;const e=(r=this.portal)==null?void 0:r.restUrl;if(!e)return null;const t=this.owner||((i=(n=this.portal)==null?void 0:n.user)==null?void 0:i.username);return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=si.getDefault()),r=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(n=>{this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(r),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof B1&&(e=e.rating),e==null||isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new B1({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:L(this.applicationProxies),avgRating:this.avgRating,categories:L(this.categories),created:L(this.created),culture:this.culture,description:this.description,extent:L(this.extent),groupCategories:L(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:L(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:L(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:L(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:L(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new Ra({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){var r;const e=this.toJSON();for(const n of["tags","typeKeywords","categories"])e[n]=(r=e[n])==null?void 0:r.join(", ");const{extent:t}=e;return t&&(e.extent=JSON.stringify(t)),e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new B1(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},Ra)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e==null?void 0:e.data,r={method:"post"};r.query=this.createPostQuery();for(const n in r.query)r.query[n]===null&&(r.query[n]="");return r.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?r.query.text=t:typeof t=="object"&&(r.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,r).then(()=>this.reload())}):Promise.reject(new j("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new j("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:r}=this;await t.signIn();const{copyResources:n,folder:i,tags:s,title:o}=e||{},a={method:"post",query:{copyPrivateResources:n==="all",folder:typeof i=="string"?i:i==null?void 0:i.id,includeResources:!!n,tags:s==null?void 0:s.join(","),title:o}},{itemId:l}=await t.request(`${r}/copy`,a);return new Ra({id:l,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,r=e.filename,n={method:"post"};if(typeof t=="string")Yl(t)?n.query={data:t}:n.query={url:mn(t)},r!=null&&(n.query.filename=r);else{const i=new FormData;r!=null?i.append("file",t,r):i.append("file",t),n.body=i}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,n).then(()=>this.reload())}):Promise.reject(new j("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:r}=await U(()=>import("./resourceUtils-Bv_Ez6wW.js"),[]);return r(this,e,t)}async addResource(e,t,r){const{addOrUpdateResources:n}=await U(()=>import("./resourceUtils-Bv_Ez6wW.js"),[]);return e.portalItem=this,await n(this,[{resource:e,content:t,compress:r==null?void 0:r.compress,access:r==null?void 0:r.access}],"add",r),e}async removeResource(e,t){const{removeResource:r}=await U(()=>import("./resourceUtils-Bv_Ez6wW.js"),[]);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new j("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await U(()=>import("./resourceUtils-Bv_Ez6wW.js"),[]);return t(this,e)}resourceFromPath(e){return new YJ({portalItem:this,path:e})}toJSON(){var r,n;const e=this.extent,t={accessInformation:this.accessInformation,categories:L(this.categories),created:(r=this.created)==null?void 0:r.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(n=this.modified)==null?void 0:n.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:L(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:L(this.typeKeywords),url:this.url};return Hj(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Ra({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};c([h({type:["private","shared","org","public"]})],oe.prototype,"access",void 0),c([h()],oe.prototype,"accessInformation",void 0),c([h({type:String})],oe.prototype,"apiKey",void 0),c([h({json:{read:{source:"appProxies"}}})],oe.prototype,"applicationProxies",void 0),c([h()],oe.prototype,"avgRating",void 0),c([h()],oe.prototype,"categories",void 0),c([h({type:Date})],oe.prototype,"created",void 0),c([h()],oe.prototype,"culture",void 0),c([h()],oe.prototype,"description",void 0),c([h({readOnly:!0})],oe.prototype,"displayName",null),c([h({type:Le})],oe.prototype,"extent",void 0),c([Me("extent")],oe.prototype,"readExtent",null),c([h()],oe.prototype,"groupCategories",void 0),c([h({readOnly:!0})],oe.prototype,"iconUrl",null),c([h()],oe.prototype,"id",void 0),c([h({readOnly:!0})],oe.prototype,"isLayer",null),c([h({type:Boolean,readOnly:!0})],oe.prototype,"isOrgItem",void 0),c([h()],oe.prototype,"itemControl",void 0),c([h({readOnly:!0})],oe.prototype,"itemPageUrl",null),c([h({readOnly:!0})],oe.prototype,"itemUrl",null),c([h()],oe.prototype,"licenseInfo",void 0),c([h({type:Date})],oe.prototype,"modified",void 0),c([h()],oe.prototype,"name",void 0),c([h()],oe.prototype,"numComments",void 0),c([h()],oe.prototype,"numRatings",void 0),c([h()],oe.prototype,"numViews",void 0),c([h()],oe.prototype,"owner",void 0),c([h()],oe.prototype,"ownerFolder",void 0),c([h({type:si})],oe.prototype,"portal",void 0),c([h()],oe.prototype,"screenshots",void 0),c([h()],oe.prototype,"size",void 0),c([h()],oe.prototype,"snippet",void 0),c([h()],oe.prototype,"sourceJSON",void 0),c([h({type:String})],oe.prototype,"sourceUrl",void 0),c([h({type:String})],oe.prototype,"spatialReference",void 0),c([h()],oe.prototype,"tags",void 0),c([h()],oe.prototype,"thumbnail",void 0),c([h({readOnly:!0})],oe.prototype,"thumbnailUrl",null),c([h()],oe.prototype,"title",void 0),c([h()],oe.prototype,"type",void 0),c([h()],oe.prototype,"typeKeywords",void 0),c([h({type:String,json:{read(e,t){var r;if(rK.has(t.type)){const n=(r=this.portal)==null?void 0:r.restUrl;e||(e=n&&this.id?`${n}/content/items/${this.id}/data`:null)}return e}}})],oe.prototype,"url",void 0),c([h({readOnly:!0})],oe.prototype,"userItemUrl",null),oe=Ra=c([M("esri.portal.PortalItem")],oe);const zL=oe,UL=Object.freeze(Object.defineProperty({__proto__:null,default:zL},Symbol.toStringTag,{value:"Module"}));async function nK(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,r=await Mx("esri/t9n/basemaps");return r[e]||r[t]}const M2={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return be("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return be("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return be("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return be("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return be("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return be("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return be("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return be("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return be("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return be("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return be("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return be("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return be("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return be("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return be("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return be("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return be("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return be("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return be("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return be("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return be("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return be("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return be("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return be("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return be("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return be("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return be("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}},iK=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let eo=class extends ee{constructor(t){super(t),this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps",this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;const t=Zr().toLowerCase();switch(t){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const r=DW(t);return r==="pt"?"pt-BR":r&&iK.has(r)?r:"global"}};c([h()],eo.prototype,"id",void 0),c([h()],eo.prototype,"language",void 0),c([h()],eo.prototype,"places",void 0),c([h()],eo.prototype,"serviceUrl",void 0),c([h()],eo.prototype,"worldview",void 0),eo=c([M("esri.support.BasemapStyle")],eo);const sK=eo;function oK(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function La(e){return(e==null?void 0:e.type)==="subtype-sublayer"}const Che={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function Ohe(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function wv(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function Ihe(e){var t;return((e==null?void 0:e.type)==="feature"||(e==null?void 0:e.type)==="subtype-group")&&((t=e.source)==null?void 0:t.type)==="feature-layer"}async function Ahe(e,t){const r=Ie==null?void 0:Ie.findServerInfo(e);if((r==null?void 0:r.currentVersion)!=null)return r.owningSystemUrl||null;const n=e.toLowerCase().indexOf("/rest/services");if(n===-1)return null;const i=`${e.substring(0,n)}/rest/info`,s=t!=null?t.signal:null,{data:o}=await at(i,{query:{f:"json"},responseType:"json",signal:s});return(o==null?void 0:o.owningSystemUrl)||null}function aK(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function lK(e){return aK(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function uK(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function cK(e){return!!uK(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const dK=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),hK=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function pK(e){return e.layerContainerType==="basemap"?dK:e.layerContainerType==="operational-layers"?hK:null}function fK(e,t){if(t.restrictedWebMapWriting){const r=pK(t);return r==null||r.has(e.type)&&!wv(e)}return!0}function mK(e,t){var r;if(t)if(wv(e)){const n=Hp("featureCollection.layers",t),i=(r=n==null?void 0:n[0])==null?void 0:r.layerDefinition;i&&gk(e,i)}else e.type!=="group"&&gk(e,t)}function gk(e,t){"maxScale"in e&&(t.maxScale=Tg(e.maxScale)??void 0),"minScale"in e&&(t.minScale=Tg(e.minScale)??void 0)}function yK(e,t){if(mK(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=Tg(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(wv(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function vk(e,t,r){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return r!=null&&r.messages&&r.messages.push(new j("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(wv(e)&&!e.isTable)t=e.resourceInfo;else if(fK(e,r)){const n={};return e.write(n,r)?n:null}return t!=null&&yK(e,t=L(t)),t}var qd;let gK=0,Nr=qd=class extends Xp(oa){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+gK++,this.baseLayers=new X,this.referenceLayers=new X;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type==="elevation"&&z.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=n=>{n.parent=null};this.addHandles([this.baseLayers.on("after-add",n=>t(n.item)),this.referenceLayers.on("after-add",n=>t(n.item)),this.baseLayers.on("after-remove",n=>r(n.item)),this.referenceLayers.on("after-remove",n=>r(n.item))])}initialize(){this.when().catch(e=>{z.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const r of e)r.destroy();const t=this.referenceLayers.toArray();for(const r of t)r.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=He(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",sa(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const n=[];e&&(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach(i=>{const s=vk(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);s!=null&&n.push(s)}),this.referenceLayers.forEach(i=>{const s=vk(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);s!=null&&(i.type!=="scene"&&(s.isReference=!0),n.push(s))})),t.baseMapLayers=n}set referenceLayers(e){this._set("referenceLayers",sa(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return NL(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(t=>hg(t)?t.clone():t),referenceLayers:this.referenceLayers.map(t=>hg(t)?t.clone():t)};return this.loaded&&(e.loadStatus="loaded"),new qd({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){var r;return e=e||{},t!=null&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&((r=this.resourceInfo)!=null&&r.data.baseMapLayers)&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(n=>{const i=L(n);return i.url&&Li(i.url)&&(i.url=`https:${i.url}`),i.templateUrl&&Li(i.templateUrl)&&(i.templateUrl=`https:${i.templateUrl}`),i})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r,style:n}=this;lt(e);const i=[];if(t){const s=t.context?t.context.url:null;if(i.push(this._loadLayersFromJSON(t.data,s,e)),t.data.id&&!t.data.title){const o=t.data.id;i.push(nK(o).then(a=>{a&&this.read({title:a},t.context)}))}}else r?i.push(this._loadFromItem(r,e)):n&&i.push(this._loadFromStylesService(n,e));await Promise.all(i)}async _loadLayersFromJSON(e,t,r){var l,d;const n=(l=this.resourceInfo)==null?void 0:l.context,i=((d=this.portalItem)==null?void 0:d.portal)||(n==null?void 0:n.portal)||null,s=wK[(n==null?void 0:n.origin)||""]??"web-map",{populateOperationalLayers:o}=await U(async()=>{const{populateOperationalLayers:p}=await import("./layersCreator-Cn_pSo1S.js");return{populateOperationalLayers:p}},__vite__mapDeps([185,186,187,188,169,178])),a=[];if(lt(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const p={context:{...n,origin:s,url:t,portal:i,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},f=g=>s==="web-scene"&&g.layerType==="ArcGISSceneServiceLayer"||g.isReference,m=o(this.baseLayers,e.baseMapLayers.filter(g=>!f(g)),p);a.push(m);const y=o(this.referenceLayers,e.baseMapLayers.filter(f),p);a.push(y)}await Promise.allSettled(a)}async _loadFromItem(e,t){const r=await e.load(t),n=await r.fetchData("json",t),i=yr(e.itemUrl??"");return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:vK[e.type||""]??"web-map",portal:e.portal||si.getDefault(),url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||si.getDefault(),url:i}),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}async _loadFromStylesService(e,t){const r=`${e.serviceUrl}/${e.id}`,n=(await at(r,{query:{language:e.getLanguageParamValue(),places:e.places,worldview:e.worldview},signal:t==null?void 0:t.signal})).data,i=yr(r);return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:"web-map",url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}static fromId(e){const t=M2[e];return t?t.itemId?new qd({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):qd.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};c([h({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:X}},writer(e,t,r,n){this._writeBaseLayers(e,t,n)}}}}}})],Nr.prototype,"baseLayers",null),c([h({type:String,json:{origins:{"web-scene":{write:!0}}}})],Nr.prototype,"id",void 0),c([h({type:zL})],Nr.prototype,"portalItem",void 0),c([h()],Nr.prototype,"referenceLayers",null),c([h({readOnly:!0})],Nr.prototype,"resourceInfo",void 0),c([h({type:he})],Nr.prototype,"spatialReference",void 0),c([h({type:sK})],Nr.prototype,"style",void 0),c([h()],Nr.prototype,"thumbnailUrl",void 0),c([h({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Nr.prototype,"title",void 0),c([ge("title")],Nr.prototype,"writeTitle",null),Nr=qd=c([M("esri.Basemap")],Nr);const vK={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},wK={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},Wh=Nr,_K=Object.freeze(Object.defineProperty({__proto__:null,default:Wh},Symbol.toStringTag,{value:"Module"})),Kg={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function bK(e){return!!Kg[e]||!!Kg[e.toLowerCase()]}function VL(e){return Kg[e]??Kg[e.toLowerCase()]}function Rhe(e){return[...VL(e)]}function H1(e,t,r){r<0&&++r,r>1&&--r;const n=6*r;return n<1?e+(t-e)*n:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function SK(e,t,r,n=1){const i=(e%360+360)%360/360,s=r<=.5?r*(t+1):r+t-r*t,o=2*r-s;return[Math.round(255*H1(o,s,i+1/3)),Math.round(255*H1(o,s,i)),Math.round(255*H1(o,s,i-1/3)),n]}function Lhe(e){const t=e.length>5,r=t?8:4,n=(1<<r)-1,i=t?1:17,s=t?e.length===9:e.length===5;let o=+("0x"+e.substr(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&n,o>>=r,a[3]=i*l/255),l=o&n,o>>=r,a[2]=i*l,l=o&n,o>>=r,a[1]=i*l,l=o&n,o>>=r,a[0]=i*l,a}function ym(e){return Ri(C$(e),0,255)}function gm(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}function vm(e,t){const r=e.toString(16).padStart(2,"0");return t?r.substring(0,1):r}let cy=class bt{static blendColors(t,r,n,i=new bt){return i.r=Math.round(t.r+(r.r-t.r)*n),i.g=Math.round(t.g+(r.g-t.g)*n),i.b=Math.round(t.b+(r.b-t.b)*n),i.a=t.a+(r.a-t.a)*n,i._sanitize()}static fromRgb(t,r){const n=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(n){const i=n[2].split(/\s*,\s*/),s=n[1];if(s==="rgb"&&i.length===3||s==="rgba"&&i.length===4){const o=i[0];if(o.charAt(o.length-1)==="%"){const a=i.map(l=>2.56*parseFloat(l));return i.length===4&&(a[3]=parseFloat(i[3])),bt.fromArray(a,r)}return bt.fromArray(i.map(a=>parseFloat(a)),r)}if(s==="hsl"&&i.length===3||s==="hsla"&&i.length===4)return bt.fromArray(SK(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])),r)}return null}static fromHex(t,r=new bt){if(t[0]!=="#"||isNaN(+`0x${t.substring(1)}`))return null;switch(t.length){case 4:case 5:{const n=parseInt(t.substring(1,2),16),i=parseInt(t.substring(2,3),16),s=parseInt(t.substring(3,4),16),o=t.length===5?15:parseInt(t.substring(4),16);return bt.fromArray([n+16*n,i+16*i,s+16*s,(o+16*o)/255],r)}case 7:case 9:{const n=parseInt(t.substring(1,3),16),i=parseInt(t.substring(3,5),16),s=parseInt(t.substring(5,7),16),o=t.length===7?255:parseInt(t.substring(7),16);return bt.fromArray([n,i,s,o/255],r)}default:return null}}static fromArray(t,r=new bt){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const n=bK(t)?VL(t):null;return n&&bt.fromArray(n,r)||bt.fromRgb(t,r)||bt.fromHex(t,r)}static fromJSON(t){return t!=null?new bt([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?bt.fromString(t,this):Array.isArray(t)?bt.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof bt||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const r=(t==null?void 0:t.capitalize)??!1,n=(t==null?void 0:t.digits)??6,i=n===3||n===4,s=n===4||n===8,o=`#${vm(this.r,i)}${vm(this.g,i)}${vm(this.b,i)}${s?vm(Math.round(255*this.a),i):""}`;return r?o.toUpperCase():o}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=bt.AlphaMode.ALWAYS){const r=ym(this.r),n=ym(this.g),i=ym(this.b);return t===bt.AlphaMode.ALWAYS||this.a!==1?[r,n,i,ym(255*this.a)]:[r,n,i]}clone(){return new bt(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(gm(this.r,0,255)),this.g=Math.round(gm(this.g,0,255)),this.b=Math.round(gm(this.b,0,255)),this.a=gm(this.a,0,1),this}_set(t,r,n,i){this.r=t,this.g=r,this.b=n,this.a=i}};cy.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(cy||(cy={}));const ve=cy;function Nhe(e){}function $K(e){return()=>e}function ne(e,t={}){const r=e instanceof Ht?e:new Ht(e,t),n={type:(t==null?void 0:t.ignoreUnknown)??1?r.apiValues:String,json:{type:r.jsonValues,read:!(t!=null&&t.readOnly)&&{reader:r.read},write:{writer:r.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(n.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(n.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(n.json.name=t.name),(t==null?void 0:t.nonNullable)!==void 0&&(n.nonNullable=t.nonNullable),h(n)}var E2;let dy=E2=class extends B{constructor(e){super(e),this.type="none"}clone(){return new E2({type:this.type})}};c([ne({none:"none",stayAbove:"stay-above"})],dy.prototype,"type",void 0),dy=E2=c([M("esri.ground.NavigationConstraint")],dy);function GL(e){const t=C$(100*(1-e));return Math.max(0,Math.min(t,100))}function WL(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var k2;let Xi=k2=class extends Xp(oa){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new X;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type!=="elevation"&&n.type!=="base-elevation"&&z.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},r=n=>{n.parent=null};this.addHandles([this.layers.on("after-add",n=>t(n.item)),this.layers.on("after-remove",n=>r(n.item))])}initialize(){this.when().catch(e=>{Mn(e)||z.getLogger(this).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)He(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",sa(e,this._get("layers")))}writeLayers(e,t,r,n){const i=[];e&&(n={...n,layerContainerType:"ground"},e.forEach(s=>{if("write"in s){const o={};$K(s)().write(o,n)&&i.push(o)}else n!=null&&n.messages&&n.messages.push(new j("layer:unsupported",`Layers (${s.title}, ${s.id}) of type '${s.declaredClass}' cannot be persisted in the ground`,{layer:s}))})),t.layers=i}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return NL(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await U(()=>import("./ElevationQuery-DMKyK2ll.js"),[]);lt(t);const n=new r,i=this.layers.filter(wk).toArray();return n.queryAll(i,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await U(()=>import("./ElevationQuery-DMKyK2ll.js"),[]);lt(t);const n=new r,i=this.layers.filter(wk).toArray();return n.createSamplerAll(i,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:L(this.surfaceColor),navigationConstraint:L(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new k2({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,r){const n=(t==null?void 0:t.origin)||"web-scene",i=(t==null?void 0:t.portal)||null,s=(t==null?void 0:t.url)||null,{populateOperationalLayers:o}=await U(async()=>{const{populateOperationalLayers:l}=await import("./layersCreator-Cn_pSo1S.js");return{populateOperationalLayers:l}},__vite__mapDeps([185,186,187,188,169,178]));lt(r);const a=[];if(e.layers&&Array.isArray(e.layers)){const l={context:{origin:n,url:s,portal:i,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};a.push(o(this.layers,e.layers,l))}await Promise.allSettled(a)}};function xK(e){return e&&"createElevationSampler"in e}function wk(e){return e.type==="elevation"||xK(e)}c([h({json:{read:!1}})],Xi.prototype,"layers",null),c([ge("layers")],Xi.prototype,"writeLayers",null),c([h({readOnly:!0})],Xi.prototype,"resourceInfo",void 0),c([h({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Qe,read:{reader:WL,source:"transparency"},write:{writer:(e,t)=>{t.transparency=GL(e)},target:"transparency"}}})],Xi.prototype,"opacity",void 0),c([h({type:ve,json:{type:[Qe],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],Xi.prototype,"surfaceColor",void 0),c([h({type:dy,json:{write:!0}})],Xi.prototype,"navigationConstraint",void 0),Xi=k2=c([M("esri.Ground")],Xi);const Yg=Xi,wm=new WeakMap;function BL(e){return!e.destroyed&&(wm.has(e)||e.addHandles([re(()=>{const t=e.parent;return!(!t||!("type"in t))&&(t.type==="catalog-dynamic-group"||BL(t))},t=>wm.set(e,t),fn),ke(()=>wm.delete(e))]),wm.get(e))}function TK(e){return typeof e=="object"&&e!=null&&"loaded"in e&&e.loaded===!0&&"type"in e}function MK(e){var t,r;return!(!TK(e)||!((r=(t=lK(e))==null?void 0:t.operations)!=null&&r.supportsEditing)||"editingEnabled"in e&&!cK(e)||BL(e))}const EK=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,kK="screenUtils.toPt: input not recognized!",HL=96;function Dhe(e){return e?e/72*HL:0}function Ul(e){return e?72*e/HL:0}function Je(e){if(typeof e=="string"){const t=e.match(EK);if(t){const r=Number(t[1]),n=t[3]&&t[3].toLowerCase(),i=e.charAt(0)==="-",s=n==="px"?Ul(r):r;return i?-s:s}return console.warn(kK),null}return e}function Gt(e=0,t=0){return{x:e,y:t}}function Fhe(e=0,t=0){return[e,t]}function qL(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function PK(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function CK(e,t,r,n,i,s,o,a,l,d,p,f,m,y,g,v){const S=new Float32Array(16);return S[0]=e,S[1]=t,S[2]=r,S[3]=n,S[4]=i,S[5]=s,S[6]=o,S[7]=a,S[8]=l,S[9]=d,S[10]=p,S[11]=f,S[12]=m,S[13]=y,S[14]=g,S[15]=v,S}function OK(e,t){return new Float32Array(e,t,16)}const IK=qL();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:IK,clone:PK,create:qL,createView:OK,fromValues:CK},Symbol.toStringTag,{value:"Module"}));function AK(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function RK(e,t,r,n,i,s,o,a,l,d,p,f,m,y,g,v,S){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e[6]=a,e[7]=l,e[8]=d,e[9]=p,e[10]=f,e[11]=m,e[12]=y,e[13]=g,e[14]=v,e[15]=S,e}function _v(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function LK(e,t){if(e===t){const r=t[1],n=t[2],i=t[3],s=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=s,e[11]=t[14],e[12]=i,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function NK(e,t){return ZL(e,t)||_v(e),e}function ZL(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],d=t[7],p=t[8],f=t[9],m=t[10],y=t[11],g=t[12],v=t[13],S=t[14],w=t[15],_=r*a-n*o,$=r*l-i*o,x=r*d-s*o,T=n*l-i*a,E=n*d-s*a,P=i*d-s*l,O=p*v-f*g,A=p*S-m*g,R=p*w-y*g,G=f*S-m*v,Z=f*w-y*v,le=m*w-y*S;let W=_*le-$*Z+x*G+T*R-E*A+P*O;return W?(W=1/W,e[0]=(a*le-l*Z+d*G)*W,e[1]=(i*Z-n*le-s*G)*W,e[2]=(v*P-S*E+w*T)*W,e[3]=(m*E-f*P-y*T)*W,e[4]=(l*R-o*le-d*A)*W,e[5]=(r*le-i*R+s*A)*W,e[6]=(S*x-g*P-w*$)*W,e[7]=(p*P-m*x+y*$)*W,e[8]=(o*Z-a*R+d*O)*W,e[9]=(n*R-r*Z-s*O)*W,e[10]=(g*E-v*x+w*_)*W,e[11]=(f*x-p*E-y*_)*W,e[12]=(a*A-o*G-l*O)*W,e[13]=(r*G-n*A+i*O)*W,e[14]=(v*$-g*T-S*_)*W,e[15]=(p*T-f*$+m*_)*W,e):null}function DK(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],d=t[7],p=t[8],f=t[9],m=t[10],y=t[11],g=t[12],v=t[13],S=t[14],w=t[15];return e[0]=a*(m*w-y*S)-f*(l*w-d*S)+v*(l*y-d*m),e[1]=-(n*(m*w-y*S)-f*(i*w-s*S)+v*(i*y-s*m)),e[2]=n*(l*w-d*S)-a*(i*w-s*S)+v*(i*d-s*l),e[3]=-(n*(l*y-d*m)-a*(i*y-s*m)+f*(i*d-s*l)),e[4]=-(o*(m*w-y*S)-p*(l*w-d*S)+g*(l*y-d*m)),e[5]=r*(m*w-y*S)-p*(i*w-s*S)+g*(i*y-s*m),e[6]=-(r*(l*w-d*S)-o*(i*w-s*S)+g*(i*d-s*l)),e[7]=r*(l*y-d*m)-o*(i*y-s*m)+p*(i*d-s*l),e[8]=o*(f*w-y*v)-p*(a*w-d*v)+g*(a*y-d*f),e[9]=-(r*(f*w-y*v)-p*(n*w-s*v)+g*(n*y-s*f)),e[10]=r*(a*w-d*v)-o*(n*w-s*v)+g*(n*d-s*a),e[11]=-(r*(a*y-d*f)-o*(n*y-s*f)+p*(n*d-s*a)),e[12]=-(o*(f*S-m*v)-p*(a*S-l*v)+g*(a*m-l*f)),e[13]=r*(f*S-m*v)-p*(n*S-i*v)+g*(n*m-i*f),e[14]=-(r*(a*S-l*v)-o*(n*S-i*v)+g*(n*l-i*a)),e[15]=r*(a*m-l*f)-o*(n*m-i*f)+p*(n*l-i*a),e}function FK(e){const t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],a=e[6],l=e[7],d=e[8],p=e[9],f=e[10],m=e[11],y=e[12],g=e[13],v=e[14],S=e[15];return(t*o-r*s)*(f*S-m*v)-(t*a-n*s)*(p*S-m*g)+(t*l-i*s)*(p*v-f*g)+(r*a-n*o)*(d*S-m*y)-(r*l-i*o)*(d*v-f*y)+(n*l-i*a)*(d*g-p*y)}function JL(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],d=t[6],p=t[7],f=t[8],m=t[9],y=t[10],g=t[11],v=t[12],S=t[13],w=t[14],_=t[15];let $=r[0],x=r[1],T=r[2],E=r[3];return e[0]=$*n+x*a+T*f+E*v,e[1]=$*i+x*l+T*m+E*S,e[2]=$*s+x*d+T*y+E*w,e[3]=$*o+x*p+T*g+E*_,$=r[4],x=r[5],T=r[6],E=r[7],e[4]=$*n+x*a+T*f+E*v,e[5]=$*i+x*l+T*m+E*S,e[6]=$*s+x*d+T*y+E*w,e[7]=$*o+x*p+T*g+E*_,$=r[8],x=r[9],T=r[10],E=r[11],e[8]=$*n+x*a+T*f+E*v,e[9]=$*i+x*l+T*m+E*S,e[10]=$*s+x*d+T*y+E*w,e[11]=$*o+x*p+T*g+E*_,$=r[12],x=r[13],T=r[14],E=r[15],e[12]=$*n+x*a+T*f+E*v,e[13]=$*i+x*l+T*m+E*S,e[14]=$*s+x*d+T*y+E*w,e[15]=$*o+x*p+T*g+E*_,e}function jK(e,t,r){const n=r[0],i=r[1],s=r[2];if(t===e)e[12]=t[0]*n+t[4]*i+t[8]*s+t[12],e[13]=t[1]*n+t[5]*i+t[9]*s+t[13],e[14]=t[2]*n+t[6]*i+t[10]*s+t[14],e[15]=t[3]*n+t[7]*i+t[11]*s+t[15];else{const o=t[0],a=t[1],l=t[2],d=t[3],p=t[4],f=t[5],m=t[6],y=t[7],g=t[8],v=t[9],S=t[10],w=t[11];e[0]=o,e[1]=a,e[2]=l,e[3]=d,e[4]=p,e[5]=f,e[6]=m,e[7]=y,e[8]=g,e[9]=v,e[10]=S,e[11]=w,e[12]=o*n+p*i+g*s+t[12],e[13]=a*n+f*i+v*s+t[13],e[14]=l*n+m*i+S*s+t[14],e[15]=d*n+y*i+w*s+t[15]}return e}function zK(e,t,r){const n=r[0],i=r[1],s=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function UK(e,t,r,n){let i,s,o,a,l,d,p,f,m,y,g,v,S,w,_,$,x,T,E,P,O,A,R,G,Z=n[0],le=n[1],W=n[2],pe=Math.sqrt(Z*Z+le*le+W*W);return pe<Cr()?null:(pe=1/pe,Z*=pe,le*=pe,W*=pe,i=Math.sin(r),s=Math.cos(r),o=1-s,a=t[0],l=t[1],d=t[2],p=t[3],f=t[4],m=t[5],y=t[6],g=t[7],v=t[8],S=t[9],w=t[10],_=t[11],$=Z*Z*o+s,x=le*Z*o+W*i,T=W*Z*o-le*i,E=Z*le*o-W*i,P=le*le*o+s,O=W*le*o+Z*i,A=Z*W*o+le*i,R=le*W*o-Z*i,G=W*W*o+s,e[0]=a*$+f*x+v*T,e[1]=l*$+m*x+S*T,e[2]=d*$+y*x+w*T,e[3]=p*$+g*x+_*T,e[4]=a*E+f*P+v*O,e[5]=l*E+m*P+S*O,e[6]=d*E+y*P+w*O,e[7]=p*E+g*P+_*O,e[8]=a*A+f*R+v*G,e[9]=l*A+m*R+S*G,e[10]=d*A+y*R+w*G,e[11]=p*A+g*R+_*G,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function VK(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[4],o=t[5],a=t[6],l=t[7],d=t[8],p=t[9],f=t[10],m=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*i+d*n,e[5]=o*i+p*n,e[6]=a*i+f*n,e[7]=l*i+m*n,e[8]=d*i-s*n,e[9]=p*i-o*n,e[10]=f*i-a*n,e[11]=m*i-l*n,e}function GK(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[0],o=t[1],a=t[2],l=t[3],d=t[8],p=t[9],f=t[10],m=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i-d*n,e[1]=o*i-p*n,e[2]=a*i-f*n,e[3]=l*i-m*n,e[8]=s*n+d*i,e[9]=o*n+p*i,e[10]=a*n+f*i,e[11]=l*n+m*i,e}function WK(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[0],o=t[1],a=t[2],l=t[3],d=t[4],p=t[5],f=t[6],m=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i+d*n,e[1]=o*i+p*n,e[2]=a*i+f*n,e[3]=l*i+m*n,e[4]=d*i-s*n,e[5]=p*i-o*n,e[6]=f*i-a*n,e[7]=m*i-l*n,e}function BK(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function HK(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function qK(e,t,r){if(t===0)return _v(e);let n,i,s,o=r[0],a=r[1],l=r[2],d=Math.sqrt(o*o+a*a+l*l);return d<Cr()?null:(d=1/d,o*=d,a*=d,l*=d,n=Math.sin(t),i=Math.cos(t),s=1-i,e[0]=o*o*s+i,e[1]=a*o*s+l*n,e[2]=l*o*s-a*n,e[3]=0,e[4]=o*a*s-l*n,e[5]=a*a*s+i,e[6]=l*a*s+o*n,e[7]=0,e[8]=o*l*s+a*n,e[9]=a*l*s-o*n,e[10]=l*l*s+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function ZK(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function JK(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function KK(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function KL(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=n+n,l=i+i,d=s+s,p=n*a,f=n*l,m=n*d,y=i*l,g=i*d,v=s*d,S=o*a,w=o*l,_=o*d;return e[0]=1-(y+v),e[1]=f+_,e[2]=m-w,e[3]=0,e[4]=f-_,e[5]=1-(p+v),e[6]=g+S,e[7]=0,e[8]=m+w,e[9]=g-S,e[10]=1-(p+y),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function YK(e,t){const r=QK,n=-t[0],i=-t[1],s=-t[2],o=t[3],a=t[4],l=t[5],d=t[6],p=t[7],f=n*n+i*i+s*s+o*o;return f>0?(r[0]=2*(a*o+p*n+l*s-d*i)/f,r[1]=2*(l*o+p*i+d*n-a*s)/f,r[2]=2*(d*o+p*s+a*i-l*n)/f):(r[0]=2*(a*o+p*n+l*s-d*i),r[1]=2*(l*o+p*i+d*n-a*s),r[2]=2*(d*o+p*s+a*i-l*n)),KL(e,t,r),e}const QK=pa();function XK(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function eY(e,t){const r=t[0],n=t[1],i=t[2],s=t[4],o=t[5],a=t[6],l=t[8],d=t[9],p=t[10];return e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(s*s+o*o+a*a),e[2]=Math.sqrt(l*l+d*d+p*p),e}function tY(e,t){const r=t[0]+t[5]+t[10];let n=0;return r>0?(n=2*Math.sqrt(r+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function rY(e,t,r,n){const i=t[0],s=t[1],o=t[2],a=t[3],l=i+i,d=s+s,p=o+o,f=i*l,m=i*d,y=i*p,g=s*d,v=s*p,S=o*p,w=a*l,_=a*d,$=a*p,x=n[0],T=n[1],E=n[2];return e[0]=(1-(g+S))*x,e[1]=(m+$)*x,e[2]=(y-_)*x,e[3]=0,e[4]=(m-$)*T,e[5]=(1-(f+S))*T,e[6]=(v+w)*T,e[7]=0,e[8]=(y+_)*E,e[9]=(v-w)*E,e[10]=(1-(f+g))*E,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function nY(e,t,r,n,i){const s=t[0],o=t[1],a=t[2],l=t[3],d=s+s,p=o+o,f=a+a,m=s*d,y=s*p,g=s*f,v=o*p,S=o*f,w=a*f,_=l*d,$=l*p,x=l*f,T=n[0],E=n[1],P=n[2],O=i[0],A=i[1],R=i[2],G=(1-(v+w))*T,Z=(y+x)*T,le=(g-$)*T,W=(y-x)*E,pe=(1-(m+w))*E,Dt=(S+_)*E,nt=(g+$)*P,N=(S-_)*P,te=(1-(m+v))*P;return e[0]=G,e[1]=Z,e[2]=le,e[3]=0,e[4]=W,e[5]=pe,e[6]=Dt,e[7]=0,e[8]=nt,e[9]=N,e[10]=te,e[11]=0,e[12]=r[0]+O-(G*O+W*A+nt*R),e[13]=r[1]+A-(Z*O+pe*A+N*R),e[14]=r[2]+R-(le*O+Dt*A+te*R),e[15]=1,e}function iY(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=r+r,a=n+n,l=i+i,d=r*o,p=n*o,f=n*a,m=i*o,y=i*a,g=i*l,v=s*o,S=s*a,w=s*l;return e[0]=1-f-g,e[1]=p+w,e[2]=m-S,e[3]=0,e[4]=p-w,e[5]=1-d-g,e[6]=y+v,e[7]=0,e[8]=m+S,e[9]=y-v,e[10]=1-d-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function sY(e,t,r,n,i,s,o){const a=1/(r-t),l=1/(i-n),d=1/(s-o);return e[0]=2*s*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*l,e[6]=0,e[7]=0,e[8]=(r+t)*a,e[9]=(i+n)*l,e[10]=(o+s)*d,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*s*2*d,e[15]=0,e}function oY(e,t,r,n,i){const s=1/Math.tan(t/2);let o;return e[0]=s/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(o=1/(n-i),e[10]=(i+n)*o,e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e}function aY(e,t,r,n){const i=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+a),d=2/(i+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d,e[6]=0,e[7]=0,e[8]=-(o-a)*l*.5,e[9]=(i-s)*d*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function lY(e,t,r,n,i,s,o){const a=1/(t-r),l=1/(n-i),d=1/(s-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*d,e[11]=0,e[12]=(t+r)*a,e[13]=(i+n)*l,e[14]=(o+s)*d,e[15]=1,e}function uY(e,t,r,n){const i=t[0],s=t[1],o=t[2];let a=i-r[0],l=s-r[1],d=o-r[2];const p=Cr();if(Math.abs(a)<p&&Math.abs(l)<p&&Math.abs(d)<p)return void _v(e);let f=1/Math.sqrt(a*a+l*l+d*d);a*=f,l*=f,d*=f;const m=n[0],y=n[1],g=n[2];let v=y*d-g*l,S=g*a-m*d,w=m*l-y*a;f=Math.sqrt(v*v+S*S+w*w),f?(f=1/f,v*=f,S*=f,w*=f):(v=0,S=0,w=0);let _=l*w-d*S,$=d*v-a*w,x=a*S-l*v;f=Math.sqrt(_*_+$*$+x*x),f?(f=1/f,_*=f,$*=f,x*=f):(_=0,$=0,x=0),e[0]=v,e[1]=_,e[2]=a,e[3]=0,e[4]=S,e[5]=$,e[6]=l,e[7]=0,e[8]=w,e[9]=x,e[10]=d,e[11]=0,e[12]=-(v*i+S*s+w*o),e[13]=-(_*i+$*s+x*o),e[14]=-(a*i+l*s+d*o),e[15]=1}function cY(e,t,r,n){const i=t[0],s=t[1],o=t[2],a=n[0],l=n[1],d=n[2];let p=i-r[0],f=s-r[1],m=o-r[2],y=p*p+f*f+m*m;y>0&&(y=1/Math.sqrt(y),p*=y,f*=y,m*=y);let g=l*m-d*f,v=d*p-a*m,S=a*f-l*p;return y=g*g+v*v+S*S,y>0&&(y=1/Math.sqrt(y),g*=y,v*=y,S*=y),e[0]=g,e[1]=v,e[2]=S,e[3]=0,e[4]=f*S-m*v,e[5]=m*g-p*S,e[6]=p*v-f*g,e[7]=0,e[8]=p,e[9]=f,e[10]=m,e[11]=0,e[12]=i,e[13]=s,e[14]=o,e[15]=1,e}function dY(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function hY(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function pY(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function YL(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function fY(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function mY(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function yY(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function gY(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],d=e[7],p=e[8],f=e[9],m=e[10],y=e[11],g=e[12],v=e[13],S=e[14],w=e[15],_=t[0],$=t[1],x=t[2],T=t[3],E=t[4],P=t[5],O=t[6],A=t[7],R=t[8],G=t[9],Z=t[10],le=t[11],W=t[12],pe=t[13],Dt=t[14],nt=t[15],N=Cr();return Math.abs(r-_)<=N*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(n-$)<=N*Math.max(1,Math.abs(n),Math.abs($))&&Math.abs(i-x)<=N*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(s-T)<=N*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(o-E)<=N*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(a-P)<=N*Math.max(1,Math.abs(a),Math.abs(P))&&Math.abs(l-O)<=N*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(d-A)<=N*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(p-R)<=N*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(f-G)<=N*Math.max(1,Math.abs(f),Math.abs(G))&&Math.abs(m-Z)<=N*Math.max(1,Math.abs(m),Math.abs(Z))&&Math.abs(y-le)<=N*Math.max(1,Math.abs(y),Math.abs(le))&&Math.abs(g-W)<=N*Math.max(1,Math.abs(g),Math.abs(W))&&Math.abs(v-pe)<=N*Math.max(1,Math.abs(v),Math.abs(pe))&&Math.abs(S-Dt)<=N*Math.max(1,Math.abs(S),Math.abs(Dt))&&Math.abs(w-nt)<=N*Math.max(1,Math.abs(w),Math.abs(nt))}function vY(e){const t=Cr(),r=e[0],n=e[1],i=e[2],s=e[4],o=e[5],a=e[6],l=e[8],d=e[9],p=e[10];return Math.abs(1-(r*r+s*s+l*l))<=t&&Math.abs(1-(n*n+o*o+d*d))<=t&&Math.abs(1-(i*i+a*a+p*p))<=t}function wY(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const _Y=JL,bY=YL;Object.freeze(Object.defineProperty({__proto__:null,add:pY,adjoint:DK,copy:AK,determinant:FK,equals:gY,exactEquals:yY,frob:hY,fromQuat:iY,fromQuat2:YK,fromRotation:qK,fromRotationTranslation:KL,fromRotationTranslationScale:rY,fromRotationTranslationScaleOrigin:nY,fromScaling:HK,fromTranslation:BK,fromXRotation:ZK,fromYRotation:JK,fromZRotation:KK,frustum:sY,getRotation:tY,getScaling:eY,getTranslation:XK,hasIdentityRotation:wY,identity:_v,invert:ZL,invertOrIdentity:NK,isOrthoNormal:vY,lookAt:uY,mul:_Y,multiply:JL,multiplyScalar:fY,multiplyScalarAndAdd:mY,ortho:lY,perspective:oY,perspectiveFromFieldOfView:aY,rotate:UK,rotateX:VK,rotateY:GK,rotateZ:WK,scale:zK,set:RK,str:dY,sub:bY,subtract:YL,targetTo:cY,translate:jK,transpose:LK},Symbol.toStringTag,{value:"Module"}));const _k=()=>z.getLogger("esri.support.basemapUtils");function SY(){return{}}function $Y(e){for(const t in e){const r=e[t];He(r),delete e[t]}}function xY(e,t){let r;if(typeof e=="string"){const n=e in M2,i=!n&&e.includes("/");if(!n&&!i){const s=Object.entries(M2).filter(([o,a])=>ye.apiKey&&!a.classic||!ye.apiKey&&(a.classic||a.is3d)).map(([o])=>`"${o}"`).sort().join(", ");return _k().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${s}`),null}t&&(r=t[e]),r||(r=n?Wh.fromId(e):new Wh({style:{id:e}}),t&&(t[e]=r))}else r=Mt(Wh,e);return r!=null&&r.destroyed&&(_k().warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function TY(e){return new $p({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const r=[];return"tables"in t&&r.push(t.tables),"layers"in t&&r.push(t.layers),r},itemFilterFunction:t=>{const r=t.parent;return!!r&&"tables"in r&&r.tables.includes(t)}})}function q1(e){for(const t of e.values())t==null||t.destroy();e.clear()}const bk={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function MY(e){let t=null;if(typeof e=="string")if(e in bk){const r=bk[e];t=new Yg({resourceInfo:{data:{layers:[r]}}})}else z.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=Mt(Yg,e);return t}const Sk={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function Z1(e,t,r,n=Fi){const i=new ii(xx(n)),s=se.fromJSDate(e,{zone:i}),o=r==="decades"||r==="centuries"?"year":QL(r);return r==="decades"&&(t*=10),r==="centuries"&&(t*=100),s.plus({[o]:t}).toJSDate()}function jhe(e,t,r="milliseconds"){const n=e.getTime(),i=EY(t,r,"milliseconds");return new Date(n+i)}function $k(e,t,r=Fi){const n=new ii(xx(r)),i=se.fromJSDate(e,{zone:n});if(t==="decades"||t==="centuries"){const o=i.startOf("year"),{year:a}=o,l=a-a%(t==="decades"?10:100);return o.set({year:l}).toJSDate()}const s=QL(t);return i.startOf(s).toJSDate()}function EY(e,t,r){return e===0?0:e*Sk[t]/Sk[r]}function QL(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var an;let zr=an=class extends B{static get allTime(){return xk}static get empty(){return kY}static fromArray(e){return new an({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(an.allTime)}get isEmpty(){return this.equals(an.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=(e==null?void 0:e.getTime())??null}clone(){return new an({end:this.end,start:this.start})}equals(e){var s,o,a,l;if(!e)return!1;const t=((s=this.start)==null?void 0:s.getTime())??this.start,r=((o=this.end)==null?void 0:o.getTime())??this.end,n=((a=e.start)==null?void 0:a.getTime())??e.start,i=((l=e.end)==null?void 0:l.getTime())??e.end;return t===n&&r===i}expandTo(e,t=Fi){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=$k(r,e,t));let n=this.end;if(n){const i=$k(n,e,t);n=n.getTime()===i.getTime()?i:Z1(i,1,e,t)}return new an({start:r,end:n})}intersection(e){var a,l,d,p;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return an.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=((a=this.start)==null?void 0:a.getTime())??-1/0,r=((l=this.end)==null?void 0:l.getTime())??1/0,n=((d=e.start)==null?void 0:d.getTime())??-1/0,i=((p=e.end)==null?void 0:p.getTime())??1/0;let s,o;return n>=t&&n<=r?s=n:t>=n&&t<=i&&(s=t),r>=n&&r<=i?o=r:i>=t&&i<=r&&(o=i),s==null||o==null||isNaN(s)||isNaN(o)?an.empty:new an({start:s===-1/0?null:new Date(s),end:o===1/0?null:new Date(o)})}offset(e,t,r=Fi){if(this.isEmpty||this.isAllTime)return this.clone();const n=new an,{start:i,end:s}=this;return i!=null&&(n.start=Z1(i,e,t,r)),s!=null&&(n.end=Z1(s,e,t,r)),n}toArray(){var e,t;return this.isEmpty?[void 0,void 0]:[((e=this.start)==null?void 0:e.getTime())??null,((t=this.end)==null?void 0:t.getTime())??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return xk.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new an({start:t,end:r})}};c([h({type:Date,json:{write:{allowNull:!0}}})],zr.prototype,"end",void 0),c([Me("end")],zr.prototype,"readEnd",null),c([ge("end")],zr.prototype,"writeEnd",null),c([h({readOnly:!0,json:{read:!1}})],zr.prototype,"isAllTime",null),c([h({readOnly:!0,json:{read:!1}})],zr.prototype,"isEmpty",null),c([h({type:Date,json:{write:{allowNull:!0}}})],zr.prototype,"start",void 0),c([Me("start")],zr.prototype,"readStart",null),c([ge("start")],zr.prototype,"writeStart",null),zr=an=c([M("esri.TimeExtent")],zr);const xk=new zr,kY=new zr({start:void 0,end:void 0}),Fx=zr;let XL=0;const bv=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+XL++})}};return t=c([M("esri.core.Identifiable")],t),t},jx=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:XL++})}};return t=c([M("esri.core.Identifiable.NumericIdentifiable")],t),t};let Tk=class extends bv(class{}){};Tk=c([M("esri.core.Identifiable")],Tk);async function PY(e){var n;const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await U(async()=>{const{fromItem:i}=await import("./portalLayers-DbrqU9TQ.js").then(s=>s.p);return{fromItem:i}},__vite__mapDeps([186,187,188,169]));try{return await r(t)}catch(i){const s=t==null?void 0:t.portalItem,o=(s==null?void 0:s.id)||"unset",a=((n=s==null?void 0:s.portal)==null?void 0:n.url)||ye.portalUrl;throw z.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+a+"', id: '"+o+"')",i),i}}let CY=0,dt=class extends Ns.EventedMixin(bv(oa)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Le(-180,-90,180,90,he.WGS84),this.id=Date.now().toString(16)+"-layer-"+CY++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=he.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const r=typeof t=="string"?{url:t}:t;return(await U(async()=>{const{fromUrl:n}=await import("./arcgisLayers-vnbS18c_.js");return{fromUrl:n}},__vite__mapDeps([189,187,188]))).fromUrl(r)}static fromPortalItem(t){return PY(t)}initialize(){this.when().catch(t=>{Mn(t)||z.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const t=this.parent;if(t){const r=this;"layers"in t&&t.layers.includes(r)?t.layers.remove(r):"tables"in t&&t.tables.includes(r)?t.tables.remove(r):"baseLayers"in t&&t.baseLayers.includes(r)?t.baseLayers.remove(r):"referenceLayers"in t&&t.referenceLayers.includes(r)&&t.referenceLayers.remove(r),this._set("parent",null)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return yr(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await at(t,{query:{f:"json"},responseType:"json"})).data;throw new j("layer:no-attribution-data","Layer does not have attribution data")}};c([h({type:String})],dt.prototype,"attributionDataUrl",void 0),c([h({type:Le})],dt.prototype,"fullExtent",void 0),c([h({readOnly:!0})],dt.prototype,"hasAttributionData",null),c([h({type:String,clonable:!1})],dt.prototype,"id",void 0),c([h({type:Boolean,nonNullable:!0})],dt.prototype,"legendEnabled",void 0),c([h({type:["show","hide","hide-children"]})],dt.prototype,"listMode",void 0),c([h({type:Number,range:{min:0,max:1},nonNullable:!0})],dt.prototype,"opacity",void 0),c([h({clonable:!1})],dt.prototype,"parent",void 0),c([h({readOnly:!0})],dt.prototype,"parsedUrl",null),c([h({type:Boolean,readOnly:!0})],dt.prototype,"persistenceEnabled",void 0),c([h({type:Boolean})],dt.prototype,"popupEnabled",void 0),c([h({type:Boolean})],dt.prototype,"attributionVisible",void 0),c([h({type:he})],dt.prototype,"spatialReference",void 0),c([h({type:String})],dt.prototype,"title",void 0),c([h({readOnly:!0,json:{read:!1}})],dt.prototype,"type",void 0),c([h()],dt.prototype,"url",void 0),c([h({type:Fx})],dt.prototype,"visibilityTimeExtent",void 0),c([h({type:Boolean,nonNullable:!0})],dt.prototype,"visible",void 0),dt=c([M("esri.layers.Layer")],dt);const OY=dt;function P2(e,t,r){let n,i;if(e)for(let s=0,o=e.length;s<o;s++){if(n=e.at(s),(n==null?void 0:n[t])===r)return n;if((n==null?void 0:n.type)==="group"&&(i=P2(n.layers,t,r),i))return i}}const IY=e=>{let t=class extends e{constructor(...r){super(...r),this.layers=new X;const n=o=>{o.parent&&"remove"in o.parent&&o.parent.remove(o)},i=o=>{o.parent=this,this.layerAdded(o),o.type!=="elevation"&&o.type!=="base-elevation"||z.getLogger(this).error(`Layer 'title:${o.title}, id:${o.id}' of type '${o.type}' is not supported as an operational layer and will therefore be ignored.`)},s=o=>{o.parent=null,this.layerRemoved(o)};this.addHandles([this.layers.on("before-add",o=>{if(o.item===this)return o.preventDefault(),void z.getLogger(this).error("#add()","Cannot add layer to itself.");n(o.item)}),this.layers.on("after-add",o=>i(o.item)),this.layers.on("after-remove",o=>s(o.item))])}destroy(){const r=this.layers.toArray();for(const n of r)n.destroy();this.layers.destroy()}set layers(r){this._set("layers",sa(r,this._get("layers")))}add(r,n){const i=this.layers;if(n=i.getNextIndex(n),r instanceof OY){const s=r;s.parent===this?this.reorder(s,n):i.add(s,n)}else ha(r)?r.then(s=>{this.destroyed||this.add(s,n)}):z.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,n){const i=this.layers;let s=i.getNextIndex(n);r.slice().forEach(o=>{o.parent!==this?(i.add(o,s),s+=1):this.reorder(o,s)})}findLayerById(r){return P2(this.layers,"id",r)}findLayerByUid(r){return P2(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,n){return this.layers.reorder(r,n)}layerAdded(r){}layerRemoved(r){}};return c([h()],t.prototype,"layers",null),t=c([M("esri.support.LayersMixin")],t),t};function C2(e,t,r){if(e)for(let n=0,i=e.length;n<i;n++){const s=e.at(n);if(s[t]===r)return s;if((s==null?void 0:s.type)==="group"){const o=C2(s.tables,t,r);if(o)return o}}}const AY=e=>{let t=class extends e{constructor(...r){super(...r),this.tables=new X,this.addHandles([this.tables.on("after-add",n=>{const i=n.item;i.parent&&i.parent!==this&&"tables"in i.parent&&i.parent.tables.remove(i),i.parent=this,i.type!=="feature"&&z.getLogger(this).error(`Layer 'title:${i.title}, id:${i.id}' of type '${i.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",n=>{n.item.parent=null})])}destroy(){const r=this.tables.toArray();for(const n of r)n.destroy();this.tables.destroy()}set tables(r){this._set("tables",sa(r,this._get("tables")))}findTableById(r){return C2(this.tables,"id",r)}findTableByUid(r){return C2(this.tables,"uid",r)}};return c([h()],t.prototype,"tables",null),t=c([M("esri.support.TablesMixin")],t),t};let Rn=class extends AY(IY(Ns.EventedMixin(ee))){constructor(t){super(t),this.allLayers=new $p({getCollections:()=>{var r,n,i;return[(r=this.basemap)==null?void 0:r.baseLayers,(n=this.ground)==null?void 0:n.layers,this.layers,(i=this.basemap)==null?void 0:i.referenceLayers]},getChildrenFunction:r=>"layers"in r?r.layers:null}),this.allTables=TY(this),this.basemap=null,this.editableLayers=new $p({getCollections:()=>[this.allLayers],itemFilterFunction:MK}),this.ground=new Yg,this._basemapCache=SY()}destroy(){$Y(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=He(this.basemap),He(this.ground),this._set("ground",null)}castBasemap(t){return xY(t,this._basemapCache)}castGround(t){return MY(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(r=>r.id===t)}findTableById(t){return this.allTables.find(r=>r.id===t)}};c([h({readOnly:!0,dependsOn:[]})],Rn.prototype,"allLayers",void 0),c([h({readOnly:!0})],Rn.prototype,"allTables",void 0),c([h({type:Wh,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Rn.prototype,"basemap",void 0),c([Lt("basemap")],Rn.prototype,"castBasemap",null),c([h({readOnly:!0})],Rn.prototype,"editableLayers",void 0),c([h({type:Yg,nonNullable:!0})],Rn.prototype,"ground",void 0),c([Lt("ground")],Rn.prototype,"castGround",null),c([h()],Rn.prototype,"undoRedo",void 0),Rn=c([M("esri.Map")],Rn);const eN=Rn;let Bh=class extends X{constructor(t){super(t),this.addHandles([this.on("before-add",r=>{r.item==null&&r.preventDefault()}),this.on("after-add",r=>this._own(r.item)),this.on("after-remove",r=>this._release(r.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(X.ofType(this.itemType.Type))(t):new X(t)}};function Mk(e,t){return{type:e,cast:RL,set(r){const n=sa(r,this._get(t),e);n.owner=this,this._set(t,n)}}}c([h()],Bh.prototype,"owner",null),Bh=c([M("esri.core.support.OwningCollection")],Bh);var Zd;const Qg=Ir()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),tN=Qg.jsonValues.slice();Fj(tN,"orthometric");const Hh=Ir()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Ln=Zd=class extends B{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return Qg.write(e,t,r)}readHeightModel(e,t,r){return Qg.read(e)||(r!=null&&r.messages&&r.messages.push(RY(e,{context:r})),null)}readHeightUnit(e,t,r){return Hh.read(e)||(r!=null&&r.messages&&r.messages.push(Ek(e,{context:r})),null)}readHeightUnitService(e,t,r){return ZA(e)||Hh.read(e)||(r!=null&&r.messages&&r.messages.push(Ek(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new Zd({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=mG(t);return new Zd({heightModel:e.heightModel,heightUnit:r??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new Zd;return t.read(e,{origin:"web-scene"}),t}};function Ek(e,t){return new Os("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function RY(e,t){return new Os("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}c([h({type:Qg.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:tN,default:"ellipsoidal"}}}})],Ln.prototype,"heightModel",void 0),c([ge("web-scene","heightModel")],Ln.prototype,"writeHeightModel",null),c([Me(["web-scene","service"],"heightModel")],Ln.prototype,"readHeightModel",null),c([h({type:Hh.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Hh.jsonValues,write:Hh.write}}}})],Ln.prototype,"heightUnit",void 0),c([Me("web-scene","heightUnit")],Ln.prototype,"readHeightUnit",null),c([Me("service","heightUnit")],Ln.prototype,"readHeightUnitService",null),c([h({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Ln.prototype,"vertCRS",void 0),c([Me("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Ln.prototype,"readVertCRS",null),Ln=Zd=c([M("esri.geometry.HeightModelInfo")],Ln);const zx=Ln;let Xg=class extends Bh{constructor(t){super(t),this.addHandles(this.on("before-add",r=>{r.item!=null&&r.item.parent===this.owner&&(z.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),r.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};Xg=c([M("esri.support.AnalysesCollection")],Xg);async function LY(e,t){const{WhereClause:r}=await U(()=>import("./WhereClause-DGBp5Cgb.js").then(n=>n.W),__vite__mapDeps([24,25,26]));return r.create(e,t)}function Bhe(e,t){return e==="1=1"?t??e:t==="1=1"?e??t:e!=null&&e!==""?t!=null&&t!==""?`(${e}) AND (${t})`:e:t}function Hhe(e){return typeof e=="number"}function Ux(e){return typeof e=="string"||e instanceof String}const NY="yyyy-MM-dd",DY="TT";var qh;(function(e){e.HM="HH:mm",e.HMS="HH:mm:ss",e.HMS_MS="HH:mm:ss.SSS"})(qh||(qh={}));const FY=[qh.HMS_MS,qh.HMS,qh.HM,DY];function kk(e){if(!e||!Ux(e))return null;const t=se.fromFormat(e,NY);return t.isValid?t:null}function Pk(e){return e&&Ux(e)?pg(FY,t=>{const r=se.fromFormat(e,t);return r.isValid?r:null})??null:null}function Ck(e){if(!e||!Ux(e))return null;const t=se.fromISO(e);return t.isValid?t:null}var Wc;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(Wc||(Wc={}));const jY=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function zY(e){return e!=null&&jY.has(e.type)}function rN(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function nN(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function iN(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function UY(e,t,r){const n=e==null?void 0:e.domain;if(!n)return null;switch(n.type){case"range":{const{min:i,max:s}=VY(e);if(i!=null&&+t<i||s!=null&&+t>s)return Wc.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(n.codedValues==null||n.codedValues.every(i=>i==null||i.code!==t))return Wc.INVALID_CODED_VALUE}return null}function VY(e,t){const r=e==null?void 0:e.domain;if(!r||r.type!=="range")return;const n="range"in r?r.range[0]:r.minValue,i="range"in r?r.range[1]:r.maxValue,s=zY(e);return rN(e)||iN(e)||nN(e)?{...GY(e,i,n),isInteger:s}:{min:n!=null&&typeof n=="number"?n:null,max:i!=null&&typeof i=="number"?i:null,rawMin:n,rawMax:i,isInteger:s}}function GY(e,t,r){var n,i,s,o,a,l;return rN(e)?{min:(n=kk(r))==null?void 0:n.toMillis(),max:(i=kk(t))==null?void 0:i.toMillis(),rawMin:r,rawMax:t}:iN(e)?{min:(s=Pk(r))==null?void 0:s.toMillis(),max:(o=Pk(t))==null?void 0:o.toMillis(),rawMin:r,rawMax:t}:nN(e)?{min:(a=Ck(r))==null?void 0:a.toMillis(),max:(l=Ck(t))==null?void 0:l.toMillis(),rawMin:r,rawMax:t}:{max:null,min:null}}const WY=()=>z.getLogger("esri.support.arcadeOnDemand");let J1;function sN(){return J1||(J1=(async()=>{const e=await U(()=>import("./arcadeUtils-Cpet9i3n.js").then(t=>t.aN),__vite__mapDeps([190,25,26,191,29,17,15,18,28]));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),J1}const qhe=(e,t,r)=>oN.create(e,t,r,null,["$feature","$view"],[]),Zhe=(e,t,r,n)=>oN.create(e,t,r,n,["$feature","$view"],[]);let oN=class aN{constructor(t,r,n,i,s,o,a){this.services=null,this.script=t,this.evaluate=i;const l=Array.isArray(o)?o:o==null?void 0:o.fields;this.fields=l??[],this._syntaxTree=n,this._arcade=r,this._arcadeFeature=s,this._spatialReference=a,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,n,i,s,o){const{arcade:a,Feature:l,Dictionary:d}=await sN(),p=he.fromJSON(r);let f;try{f=a.parseScript(t,o)}catch(O){return WY().error(new j("arcade-bad-expression","Failed to parse arcade script",{script:t,error:O})),null}const m=s.reduce((O,A)=>({...O,[A]:null}),{});let y=null;i!=null&&(y=new d(i),y.immutable=!0,m.$config=null);const g=a.scriptUsesGeometryEngine(f),v=g&&a.enableGeometrySupport(),S=a.scriptUsesFeatureSet(f)&&a.enableFeatureSetSupport(),w=a.scriptIsAsync(f),_=w&&a.enableAsyncSupport(),$={vars:m,spatialReference:p,useAsync:!!_};await Promise.all([v,S,_]);const x=new Set;await a.loadDependentModules(x,f,null,w,g);const T=new d;T.immutable=!1,T.setField("scale",0);const E=a.compileScript(f,$),P=(O,A)=>{var G;const R=(G=O.$view)==null?void 0:G.timeZone;return"$view"in O&&O.$view&&(T.setField("scale",typeof O.$view=="object"&&"scale"in O.$view?O.$view.scale:void 0),O.$view=T),y&&(O.$config=y),E({vars:O,spatialReference:p,services:A,timeZone:R})};return new aN(t,a,f,P,new l,n,p)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const BY=/^([0-9_])/,HY=/[^a-z0-9_\u0080-\uffff]+/gi;function Jhe(e){return e==null?null:e.trim().replaceAll(HY,"_").replace(BY,"F$1")||null}const qY=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],ZY=["field","normalizationField"];function Khe(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(Ok(qY,r,t),"visualVariables"in r&&r.visualVariables)for(const n of r.visualVariables)Ok(ZY,n,t)}}function Ok(e,t,r){if(e)for(const n of e){const i=Hp(n,t),s=i&&typeof i!="function"&&r.get(i);s&&Yc(n,s.name,t)}}function Yhe(e,t){var r;if(e!=null&&((r=t==null?void 0:t.fields)!=null&&r.length))if("startField"in e){const n=t.get(e.startField),i=t.get(e.endField);e.startField=(n==null?void 0:n.name)??null,e.endField=(i==null?void 0:i.name)??null}else{const n=t.get(e.startTimeField),i=t.get(e.endTimeField);e.startTimeField=(n==null?void 0:n.name)??null,e.endTimeField=(i==null?void 0:i.name)??null}}const K1=new Set;function Vx(e,t){return e&&t?(K1.clear(),Op(K1,e,t),Array.from(K1).sort()):[]}function Op(e,t,r){var n;if(r)if((n=t==null?void 0:t.fields)!=null&&n.length)if(r.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of r)Sv(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const i of r)i!=null&&e.add(i)}}function Sv(e,t,r){if(typeof r=="string")if(t){const n=t.get(r);n&&e.add(n.name)}else e.add(r)}function Qhe(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(r=>r.name):t}function Xhe(e,t,r=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const n=Vx(e,t);return n.length/e.fields.length>=r?["*"]:n}async function Vl(e,t,r){var s;if(!r)return;const{arcadeUtils:n}=await sN(),i=n.extractFieldNames(r,(s=t==null?void 0:t.fields)==null?void 0:s.map(o=>o.name));for(const o of i)Sv(e,t,o)}async function lN(e,t,r){if(r&&r!=="1=1"){const n=await LY(r,t);if(!n.isStandardized)throw new j("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});Op(e,t,n.fieldNames)}}function epe({displayField:e,fields:t}){return e||(t!=null&&t.length?Y1(t,"name-or-title")||Y1(t,"unique-identifier")||Y1(t,"type-or-category")||JY(t):null)}function JY(e){for(const t of e){if(!(t!=null&&t.name))continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function Y1(e,t){for(const r of e)if(r!=null&&r.valueType&&r.valueType===t)return r.name;return null}async function tpe(e,t){var n;if(!t)return;const r=(n=t.elevationInfo)==null?void 0:n.featureExpressionInfo;return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}function KY(e,t,r){r.onStatisticExpression?Vl(e,t,r.onStatisticExpression.expression):e.add(r.onStatisticField)}async function rpe(e,t,r){if(!t||!r||!("fields"in r))return;const n=[],i=r.popupTemplate;n.push(YY(e,t,i)),r.fields&&n.push(...r.fields.map(async s=>KY(e,t.fieldsIndex,s))),await Promise.all(n)}async function YY(e,t,r){const n=[];r!=null&&r.expressionInfos&&n.push(...r.expressionInfos.map(s=>Vl(e,t.fieldsIndex,s.expression)));const i=r==null?void 0:r.content;if(Array.isArray(i))for(const s of i)s.type==="expression"&&s.expressionInfo&&n.push(Vl(e,t.fieldsIndex,s.expressionInfo.expression));await Promise.all(n)}async function npe(e,t,r){t&&(t.timeInfo&&(r!=null&&r.timeExtent)&&Op(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&Op(e,t.fieldsIndex,[t.floorInfo.floorField]),(r==null?void 0:r.where)!=null&&await lN(e,t.fieldsIndex,r.where))}async function ipe(e,t,r){t&&r&&await Promise.all(r.map(n=>QY(e,t,n)))}async function QY(e,t,r){t&&r&&(r.valueExpression?await Vl(e,t.fieldsIndex,r.valueExpression):r.field&&Sv(e,t.fieldsIndex,r.field))}function spe(e){return e?Vx(e.fieldsIndex,uN(e)):[]}function XY(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?Vx(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const eQ=new Set(["oid","global-id","guid"]),tQ=new Set(["oid","global-id"]),rQ=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function nQ(e){const t=new Set;cN(e).forEach(n=>t.add(n)),XY(e).forEach(n=>t.add(n.toLowerCase()));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach(n=>t.add(n.toLowerCase())),Object.values(r.transformFieldRoles).forEach(n=>t.add(n.toLowerCase()))),Array.from(t)}function uN(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:n,editDateField:i,editorField:s}=t;return[r,n,i,s].filter(Boolean)}function cN(e){return uN(e).map(t=>t.toLowerCase())}function ope(e,t){var r;return e.editable&&!eQ.has(e.type)&&!cN(t).includes(((r=e.name)==null?void 0:r.toLowerCase())??"")}function ape(e,t){var n;const r=((n=e.name)==null?void 0:n.toLowerCase())??"";return!((t==null?void 0:t.objectIdField)!=null&&r===t.objectIdField.toLowerCase()||(t==null?void 0:t.globalIdField)!=null&&r===t.globalIdField.toLowerCase()||nQ(t).includes(r)||tQ.has(e.type)||rQ.some(i=>i.test(r)))}async function lpe(e,t){const{labelingInfo:r,fieldsIndex:n}=t;r!=null&&r.length&&await Promise.all(r.map(i=>iQ(e,n,i)))}async function iQ(e,t,r){if(!r)return;const n=r.getLabelExpression(),i=r.where;if(n.type==="arcade")await Vl(e,t,n.expression);else{const s=n.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{Sv(e,t,o.slice(1,-1))})}await lN(e,t,i)}function upe(e){const t=e.defaultValue;return t!==void 0&&pN(e,t)?t:e.nullable?null:void 0}function cpe(e){const t=typeof e=="string"?{type:e}:e;return gQ(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function dN(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function sQ(e){return e===null||dN(e)}function oQ(e){return e===null||Number.isInteger(e)}function hN(e){return e!=null&&typeof e=="string"}function aQ(e){return e===null||hN(e)}function lQ(){return!0}function pN(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?oQ:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?sQ:dN;break;case"string":case"esriFieldTypeString":r=e.nullable?aQ:hN;break;default:r=lQ}return arguments.length===1?r:r(t)}const uQ=["integer","small-integer","big-integer"],cQ=["single","double"],dQ=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],hQ=["esriFieldTypeSingle","esriFieldTypeDouble"],pQ=new Set([...uQ,...dQ]),fQ=new Set([...cQ,...hQ]),mQ=C4(pQ,fQ);function yQ(e){return e!=null&&mQ.has(e.type)}function gQ(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function dpe(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function hpe(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function ppe(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function fpe(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function mpe(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function ype(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function gpe(e,t){return vQ(e,t)===null}var e0,t0;function vpe(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function vQ(e,t){return e==null||e.nullable&&t===null?null:yQ(e)&&!wQ(e.type,Number(t))?e0.OUT_OF_RANGE:pN(e,t)?e.domain?UY(e,t):null:t0.INVALID_TYPE}function wQ(e,t){const r=typeof e=="string"?fN(e):e;if(!r)return!1;const n=r.min,i=r.max;return r.isInteger?Number.isInteger(t)&&t>=n&&t<=i:t>=n&&t<=i}function fN(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return _Q;case"esriFieldTypeInteger":case"integer":return bQ;case"esriFieldTypeBigInteger":case"big-integer":return SQ;case"esriFieldTypeSingle":case"single":return $Q;case"esriFieldTypeDouble":case"double":return xQ}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(e0||(e0={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(t0||(t0={}));const _Q={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},bQ={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},SQ={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},$Q={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},xQ={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function wpe(e,t,r){switch(e){case Wc.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Wc.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case t0.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case e0.OUT_OF_RANGE:{const{min:n,max:i}=fN(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${n} to ${i}`}}}function _pe(e,t){return!TQ(e,t,null)}function TQ(e,t,r){if(!(t!=null&&t.attributes)||!e)return!0;const n=new Set(Object.keys(t.attributes));let i=!1;for(const s of e)if(!n.has(s)&&(i=!0,r==null))break;return i}function bpe(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function MQ(e){const t=e==null?void 0:e.match(/{[^}]+}/g);return t?t.map(r=>r.slice(1,-1).split(":")[0].trim()):[]}let hy=class extends B{constructor(t){super(t),this.type=null}};c([h({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],hy.prototype,"type",void 0),hy=c([M("esri.popup.content.Content")],hy);const ma=hy;var O2;let Na=O2=class extends ma{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new O2({description:this.description,displayType:this.displayType,title:this.title})}};c([h({type:String,json:{write:!0}})],Na.prototype,"description",void 0),c([h({type:["auto","preview","list"],json:{write:!0}})],Na.prototype,"displayType",void 0),c([h({type:String,json:{write:!0}})],Na.prototype,"title",void 0),c([h({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Na.prototype,"type",void 0),Na=O2=c([M("esri.popup.content.AttachmentsContent")],Na);const r0=Na;var I2;let Da=I2=class extends ma{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new I2({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?L(this.outFields):null})}};c([h()],Da.prototype,"creator",void 0),c([h()],Da.prototype,"destroyer",void 0),c([h()],Da.prototype,"outFields",void 0),c([h({type:["custom"],readOnly:!0})],Da.prototype,"type",void 0),Da=I2=c([M("esri.popup.content.CustomContent")],Da);const EQ=Da;var A2;let vu=A2=class extends B{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new A2({title:this.title,expression:this.expression})}};c([h({type:String,json:{write:!0}})],vu.prototype,"title",void 0),c([h({type:String,json:{write:!0}})],vu.prototype,"expression",void 0),c([h({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],vu.prototype,"returnType",void 0),vu=A2=c([M("esri.popup.ElementExpressionInfo")],vu);const kQ=vu;var R2;let Jd=R2=class extends ma{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new R2({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};c([h({type:kQ,json:{write:!0}})],Jd.prototype,"expressionInfo",void 0),c([h({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Jd.prototype,"type",void 0),Jd=R2=c([M("esri.popup.content.ExpressionContent")],Jd);const Gx=Jd;let wu=class extends Ui(B){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};c([ne(ZH)],wu.prototype,"dateFormat",void 0),c([h({type:Boolean,json:{write:!0}})],wu.prototype,"digitSeparator",void 0),c([h({type:Qe,json:{write:!0}})],wu.prototype,"places",void 0),wu=c([M("esri.popup.support.FieldInfoFormat")],wu);const PQ=wu;var L2;let Nn=L2=class extends B{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){var e;return new L2({fieldName:this.fieldName,format:(e=this.format)==null?void 0:e.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};c([h({type:String,json:{write:!0}})],Nn.prototype,"fieldName",void 0),c([h({type:PQ,json:{write:!0}})],Nn.prototype,"format",void 0),c([h({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Nn.prototype,"isEditable",void 0),c([h({type:String,json:{write:!0}})],Nn.prototype,"label",void 0),c([ne(new Ht({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Nn.prototype,"stringFieldOption",void 0),c([h({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Nn.prototype,"statisticType",void 0),c([h({type:String,json:{write:!0}})],Nn.prototype,"tooltip",void 0),c([h({type:Boolean,json:{write:!0}})],Nn.prototype,"visible",void 0),Nn=L2=c([M("esri.popup.FieldInfo")],Nn);const mN=Nn;var N2;let es=N2=class extends ma{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new N2(L({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};c([h({type:Object,json:{write:!0}})],es.prototype,"attributes",void 0),c([h({type:String,json:{write:!0}})],es.prototype,"description",void 0),c([h({type:[mN]})],es.prototype,"fieldInfos",void 0),c([ge("fieldInfos")],es.prototype,"writeFieldInfos",null),c([h({type:String,json:{write:!0}})],es.prototype,"title",void 0),c([h({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],es.prototype,"type",void 0),es=N2=c([M("esri.popup.content.FieldsContent")],es);const n0=es;let Fa=class extends B{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};c([h({type:String,json:{write:!0}})],Fa.prototype,"altText",void 0),c([h({type:String,json:{write:!0}})],Fa.prototype,"caption",void 0),c([h({type:String,json:{write:!0}})],Fa.prototype,"title",void 0),c([h({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Fa.prototype,"type",void 0),Fa=c([M("esri.popup.content.mixins.MediaInfo")],Fa);const Wx=Fa;var D2;let ja=D2=class extends ee{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){var e;return new D2({color:(e=this.color)==null?void 0:e.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};c([h()],ja.prototype,"color",void 0),c([h()],ja.prototype,"fieldName",void 0),c([h()],ja.prototype,"tooltip",void 0),c([h()],ja.prototype,"value",void 0),ja=D2=c([M("esri.popup.content.support.ChartMediaInfoValueSeries")],ja);const CQ=ja;var F2;let to=F2=class extends B{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new F2({colors:L(this.colors),fields:L(this.fields),normalizeField:this.normalizeField,series:L(this.series),tooltipField:this.tooltipField})}};c([h({type:[ve],json:{type:[[Qe]],write:!0}})],to.prototype,"colors",void 0),c([h({type:[String],json:{write:!0}})],to.prototype,"fields",void 0),c([h({type:String,json:{write:!0}})],to.prototype,"normalizeField",void 0),c([h({type:[CQ],json:{read:!1}})],to.prototype,"series",void 0),c([h({type:String,json:{write:!0}})],to.prototype,"tooltipField",void 0),to=F2=c([M("esri.popup.content.support.ChartMediaInfoValue")],to);const OQ=to;let Kd=class extends Wx{constructor(t){super(t),this.type=null,this.value=void 0}};c([h({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Kd.prototype,"type",void 0),c([h({type:OQ,json:{write:!0}})],Kd.prototype,"value",void 0),Kd=c([M("esri.popup.content.mixins.ChartMediaInfo")],Kd);const $v=Kd,xv=Ir()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var j2;let py=j2=class extends $v{constructor(e){super(e),this.type="bar-chart"}clone(){var e;return new j2({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([h({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:xv.write}})],py.prototype,"type",void 0),py=j2=c([M("esri.popup.content.BarChartMediaInfo")],py);const yN=py;var z2;let fy=z2=class extends $v{constructor(e){super(e),this.type="column-chart"}clone(){var e;return new z2({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([h({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:xv.write}})],fy.prototype,"type",void 0),fy=z2=c([M("esri.popup.content.ColumnChartMediaInfo")],fy);const gN=fy;var U2;let Yd=U2=class extends B{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new U2({linkURL:this.linkURL,sourceURL:this.sourceURL})}};c([h({type:String,json:{write:!0}})],Yd.prototype,"linkURL",void 0),c([h({type:String,json:{write:!0}})],Yd.prototype,"sourceURL",void 0),Yd=U2=c([M("esri.popup.content.support.ImageMediaInfoValue")],Yd);const IQ=Yd;var V2;let _u=V2=class extends Wx{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){var e;return new V2({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:(e=this.value)==null?void 0:e.clone()})}};c([h({type:Number,json:{write:!0}})],_u.prototype,"refreshInterval",void 0),c([h({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],_u.prototype,"type",void 0),c([h({type:IQ,json:{write:!0}})],_u.prototype,"value",void 0),_u=V2=c([M("esri.popup.content.ImageMediaInfo")],_u);const vN=_u;var G2;let my=G2=class extends $v{constructor(e){super(e),this.type="line-chart"}clone(){var e;return new G2({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([h({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:xv.write}})],my.prototype,"type",void 0),my=G2=c([M("esri.popup.content.LineChartMediaInfo")],my);const wN=my;var W2;let yy=W2=class extends $v{constructor(e){super(e),this.type="pie-chart"}clone(){var e;return new W2({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([h({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:xv.write}})],yy.prototype,"type",void 0),yy=W2=c([M("esri.popup.content.PieChartMediaInfo")],yy);const _N=yy,bN={base:Wx,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":yN,"column-chart":gN,"line-chart":wN,"pie-chart":_N,image:vN}};var B2;let Dn=B2=class extends ma{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?vN.fromJSON(t):t.type==="barchart"?yN.fromJSON(t):t.type==="columnchart"?gN.fromJSON(t):t.type==="linechart"?wN.fromJSON(t):t.type==="piechart"?_N.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new B2(L({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};c([h()],Dn.prototype,"activeMediaInfoIndex",void 0),c([h({type:Object,json:{write:!0}})],Dn.prototype,"attributes",void 0),c([h({type:String,json:{write:!0}})],Dn.prototype,"description",void 0),c([h({types:[bN]})],Dn.prototype,"mediaInfos",void 0),c([Me("mediaInfos")],Dn.prototype,"readMediaInfos",null),c([ge("mediaInfos")],Dn.prototype,"writeMediaInfos",null),c([h({type:String,json:{write:!0}})],Dn.prototype,"title",void 0),c([h({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Dn.prototype,"type",void 0),Dn=B2=c([M("esri.popup.content.MediaContent")],Dn);const i0=Dn;var H2;let Qd=H2=class extends B{constructor(e){super(e),this.field=null,this.order=null}clone(){return new H2({field:this.field,order:this.order})}};c([h({type:String,json:{write:!0}})],Qd.prototype,"field",void 0),c([h({type:["asc","desc"],json:{write:!0}})],Qd.prototype,"order",void 0),Qd=H2=c([M("esri.popup.support.RelatedRecordsInfoFieldOrder")],Qd);const SN=Qd;let mi=class extends Ui(ma){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};c([h({type:String,json:{write:!0}})],mi.prototype,"description",void 0),c([h({type:Number,json:{type:Qe,write:!0}})],mi.prototype,"displayCount",void 0),c([h({type:["list"],json:{write:!0}})],mi.prototype,"displayType",void 0),c([h({type:[SN],json:{write:!0}})],mi.prototype,"orderByFields",void 0),c([h({type:Number,json:{type:Qe,write:!0}})],mi.prototype,"relationshipId",void 0),c([h({type:String,json:{write:!0}})],mi.prototype,"title",void 0),c([h({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],mi.prototype,"type",void 0),mi=c([M("esri.popup.content.RelationshipContent")],mi);const s0=mi;var q2;let Xd=q2=class extends ma{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new q2({text:this.text})}};c([h({type:String,json:{write:!0}})],Xd.prototype,"text",void 0),c([h({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Xd.prototype,"type",void 0),Xd=q2=c([M("esri.popup.content.TextContent")],Xd);const o0=Xd,AQ={base:null,key:"type",typeMap:{attachment:r0,media:i0,text:o0,expression:Gx,field:n0,relationship:s0}};var Z2;let za=Z2=class extends B{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new Z2({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};c([h({type:String,json:{write:!0}})],za.prototype,"name",void 0),c([h({type:String,json:{write:!0}})],za.prototype,"title",void 0),c([h({type:String,json:{write:!0}})],za.prototype,"expression",void 0),c([h({type:["string","number"],json:{write:!0}})],za.prototype,"returnType",void 0),za=Z2=c([M("esri.popup.ExpressionInfo")],za);const RQ=za;var J2;let eh=J2=class extends B{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new J2({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};c([h({type:Boolean,json:{write:!0}})],eh.prototype,"returnTopmostRaster",void 0),c([h({type:Boolean,json:{write:!0}})],eh.prototype,"showNoDataRecords",void 0),eh=J2=c([M("esri.popup.LayerOptions")],eh);const LQ=eh;var K2;let th=K2=class extends B{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new K2({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?L(this.orderByFields):null})}};c([h({type:Boolean,json:{write:!0}})],th.prototype,"showRelatedRecords",void 0),c([h({type:[SN],json:{write:!0}})],th.prototype,"orderByFields",void 0),th=K2=c([M("esri.popup.RelatedRecordsInfo")],th);const NQ=th;var Y2;let ln=Y2=class extends bv(ee){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Y2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};c([h()],ln.prototype,"active",void 0),c([h()],ln.prototype,"className",void 0),c([h()],ln.prototype,"disabled",void 0),c([h()],ln.prototype,"icon",void 0),c([h()],ln.prototype,"id",void 0),c([h()],ln.prototype,"indicator",void 0),c([h()],ln.prototype,"title",void 0),c([h()],ln.prototype,"type",void 0),c([h()],ln.prototype,"visible",void 0),ln=Y2=c([M("esri.support.actions.ActionBase")],ln);const Bx=ln;var Q2;let gy=Q2=class extends Bx{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new Q2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};c([h()],gy.prototype,"image",void 0),gy=Q2=c([M("esri.support.actions.ActionButton")],gy);const DQ=gy;var X2;let rh=X2=class extends Bx{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new X2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};c([h()],rh.prototype,"image",void 0),c([h()],rh.prototype,"value",void 0),rh=X2=c([M("esri.support.actions.ActionToggle")],rh);const FQ=rh,Cd="relationships/",Ik="expression/",jQ=X.ofType({key:"type",defaultKeyValue:"button",base:Bx,typeMap:{button:DQ,toggle:FQ}}),zQ={base:ma,key:"type",typeMap:{media:i0,custom:EQ,text:o0,attachments:r0,fields:n0,expression:Gx,relationship:s0}},UQ=new Set(["attachments","fields","media","text","expression","relationship"]);let St=class extends Ui(B){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(r=>Cs(zQ,r)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||ha(t)?t:(z.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,r){const{popupElements:n}=r;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(r.description,r.mediaInfos,n):this._readPopupInfo(r)}writeContent(t,r,n,i){typeof t!="string"?Array.isArray(t)&&(r.popupElements=t.filter(s=>UQ.has(s.type)).map(s=>s==null?void 0:s.toJSON(i)),r.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(r):s.type==="media"?this._writeMediaContent(s,r):s.type==="text"?this._writeTextContent(s,r):s.type==="relationship"&&this._writeRelationshipContent(s,r)})):r.description=t}writeFieldInfos(t,r,n,i){const{content:s}=this,o=Array.isArray(s)?s:null;if(t){const a=o?o.filter(d=>d.type==="fields"):[],l=a.length&&a.every(d=>{var p;return(p=d.fieldInfos)==null?void 0:p.length});r.fieldInfos=t.filter(Boolean).map(d=>{const p=d.toJSON(i);return l&&(p.visible=!1),p})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,r)}writeLayerOptions(t,r,n,i){r[n]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(i)}writeTitle(t,r){r.title=t||""}async collectRequiredFields(t,r){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(t,r,[...n,...this._getContentExpressionInfos(this.content,n)]),Op(t,r,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const r=new Set;return await this.collectRequiredFields(r,t),[...r].sort()}_writeFieldsContent(t,r){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const n=L(t.fieldInfos);Array.isArray(r.fieldInfos)?n.forEach(i=>{const s=r.fieldInfos.find(o=>{var a,l;return((a=o.fieldName)==null?void 0:a.toLowerCase())===((l=i.fieldName)==null?void 0:l.toLowerCase())});s?s.visible=!0:r.fieldInfos.push(i)}):r.fieldInfos=n}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,r){var s,o;const n=((s=t.orderByFields)==null?void 0:s.map(a=>this._toFieldOrderJSON(a,t.relationshipId)))||[],i=[...((o=r.relatedRecordsInfo)==null?void 0:o.orderByFields)||[],...n];r.relatedRecordsInfo={showRelatedRecords:!0,...(i==null?void 0:i.length)&&{orderByFields:i}}}_writeTextContent(t,r){!r.description&&t.text&&(r.description=t.text)}_writeMediaContent(t,r){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const n=L(t.mediaInfos);Array.isArray(r.mediaInfos)?r.mediaInfos=[...r.mediaInfos,...n]:r.mediaInfos=n}_readPopupInfoElements(t,r,n){const i={description:!1,mediaInfos:!1};return n.map(s=>s.type==="media"?(s.mediaInfos||!r||i.mediaInfos||(s.mediaInfos=r,i.mediaInfos=!0),i0.fromJSON(s)):s.type==="text"?(s.text||!t||i.description||(s.text=t,i.description=!0),o0.fromJSON(s)):s.type==="attachments"?r0.fromJSON(s):s.type==="fields"?n0.fromJSON(s):s.type==="expression"?Gx.fromJSON(s):s.type==="relationship"?s0.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:r,order:n}=t;if(!(r!=null&&r.startsWith(Cd)))return null;const i=r.replace(Cd,"").split("/");if(i.length!==2)return null;const s=parseInt(i[0],10),o=i[1];return typeof s=="number"&&o?s0.fromJSON({relationshipId:s,orderByFields:[{field:o,order:n}]}):null}_toFieldOrderJSON(t,r){const{order:n,field:i}=t;return{field:`${Cd}${r}/${i}`,order:n}}_readPopupInfo({description:t,mediaInfos:r,showAttachments:n,relatedRecordsInfo:i={showRelatedRecords:!1}}){const s=[];t?s.push(new o0({text:t})):s.push(new n0),Array.isArray(r)&&r.length&&s.push(i0.fromJSON({mediaInfos:r})),n&&s.push(r0.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=i;return o&&(a!=null&&a.length)&&a.forEach(l=>{const d=this._toRelationshipContent(l);d&&s.push(d)}),s.length?s:t}_getContentElementFields(t){const r=t==null?void 0:t.type;if(r==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(r==="custom")return t.outFields||[];if(r==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(r==="media"){const n=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...n.reduce((i,s)=>[...i,...this._getMediaInfoFields(s)],[])]}return r==="text"?this._extractFieldNames(t.text):[]}_getMediaInfoFields(t){const{caption:r,title:n,value:i}=t,s=i||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:d,linkURL:p}=s,f=[...this._extractFieldNames(n),...this._extractFieldNames(r),...this._extractFieldNames(d),...this._extractFieldNames(p),...o??[]];return a&&f.push(a),l&&f.push(l),f}_getContentExpressionInfos(t,r){return Array.isArray(t)?t.reduce((n,i)=>[...n,...i.type==="expression"&&i.expressionInfo?[i.expressionInfo]:[]],r):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((r,n)=>[...r,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(t,r,n){n&&await Promise.all(n.map(i=>Vl(t,r,i.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:r,visible:n})=>!(n!==void 0&&!n||!r||r.startsWith(Cd)||r.startsWith(Ik))).map(r=>r.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((r,n)=>[...r,...this._getActionFields(n)],[]):[]}_getActionFields(t){const{className:r,title:n,type:i}=t,s=i==="button"||i==="toggle"?t.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(r),...this._extractFieldNames(s)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return MQ(t).filter(r=>!(r.indexOf(Cd)===0||r.indexOf(Ik)===0))}};c([h({type:jQ})],St.prototype,"actions",void 0),c([h()],St.prototype,"content",void 0),c([Lt("content")],St.prototype,"castContent",null),c([Me("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],St.prototype,"readContent",null),c([ge("content",{popupElements:{type:X.ofType(AQ)},showAttachments:{type:Boolean},mediaInfos:{type:X.ofType(bN)},description:{type:String},relatedRecordsInfo:{type:NQ}})],St.prototype,"writeContent",null),c([h({type:[RQ],json:{write:!0}})],St.prototype,"expressionInfos",void 0),c([h({type:[mN]})],St.prototype,"fieldInfos",void 0),c([ge("fieldInfos")],St.prototype,"writeFieldInfos",null),c([h({type:LQ})],St.prototype,"layerOptions",void 0),c([ge("layerOptions")],St.prototype,"writeLayerOptions",null),c([h({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],St.prototype,"lastEditInfoEnabled",void 0),c([h()],St.prototype,"outFields",void 0),c([h()],St.prototype,"overwriteActions",void 0),c([h()],St.prototype,"returnGeometry",void 0),c([h({json:{type:String}})],St.prototype,"title",void 0),c([ge("title")],St.prototype,"writeTitle",null),St=c([M("esri.PopupTemplate")],St);const Hx=St,Ak=new Ht({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let VQ=0,bu=class extends B{constructor(t){super(t),this.id="sym"+VQ++,this.type=null,this.color=new ve([0,0,0,1])}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};c([h({type:Ak.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:Ak.write}}})],bu.prototype,"type",void 0),c([h({type:ve,json:{write:{allowNull:!0}}})],bu.prototype,"color",void 0),c([Me("color")],bu.prototype,"readColor",null),bu=c([M("esri.symbols.Symbol")],bu);const or=bu;var eb;let ro=eb=class extends or{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){var r;if(((r=this.data)==null?void 0:r.type)==="CIMSymbolReference"){const n=this.data.primitiveOverrides;if(n){const i=n.map(s=>{const o=s.valueExpressionInfo;return o?Vl(e,t,o.expression):null});await Promise.all(i)}}}clone(){return new eb({data:L(this.data)})}hash(){return o4(JSON.stringify(this.data)).toString()}};c([h({json:{write:!1}})],ro.prototype,"color",void 0),c([h({json:{write:!0}})],ro.prototype,"data",void 0),c([Me("data",["symbol"])],ro.prototype,"readData",null),c([ge("data",{})],ro.prototype,"writeData",null),c([ne({CIMSymbolReference:"cim"},{readOnly:!0})],ro.prototype,"type",void 0),ro=eb=c([M("esri.symbols.CIMSymbol")],ro);const tu=ro;let Su=class extends B{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,n){t||(r[n]=t)}};c([h({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Su.prototype,"enabled",void 0),c([ge("enabled")],Su.prototype,"writeEnabled",null),c([h({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Su.prototype,"type",void 0),Su=c([M("esri.symbols.Symbol3DLayer")],Su);const Gi=Su;function GQ(e,t){const r=t.transparency!=null?WL(t.transparency):1,n=t.color;return n&&Array.isArray(n)?new ve([n[0]||0,n[1]||0,n[2]||0,r]):null}function WQ(e,t){t.color=e.toJSON().slice(0,3);const r=GL(e.a);r!==0&&(t.transparency=r)}const ya={type:ve,json:{type:[Qe],default:null,read:{source:["color","transparency"],reader:GQ},write:{target:{color:{type:[Qe]},transparency:{type:Qe}},writer:WQ}}},zi={type:Number,cast:Je,json:{write:!0}};let Ua=class extends B{constructor(t){super(t),this.color=new ve([0,0,0,1]),this.extensionLength=0,this.size=Ul(1)}clone(){}cloneProperties(){return{color:L(this.color),size:this.size,extensionLength:this.extensionLength}}};c([h({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Ua.prototype,"type",void 0),c([h(ya)],Ua.prototype,"color",void 0),c([h({...zi,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Ua.prototype,"extensionLength",void 0),c([h(zi)],Ua.prototype,"size",void 0),Ua=c([M("esri.symbols.edges.Edges3D")],Ua);const qx=Ua;var tb;let vy=tb=class extends qx{constructor(e){super(e),this.type="sketch"}clone(){return new tb(this.cloneProperties())}};c([ne({sketch:"sketch"},{readOnly:!0})],vy.prototype,"type",void 0),vy=tb=c([M("esri.symbols.edges.SketchEdges3D")],vy);const BQ=vy;var rb;let wy=rb=class extends qx{constructor(e){super(e),this.type="solid"}clone(){return new rb(this.cloneProperties())}};c([ne({solid:"solid"},{readOnly:!0})],wy.prototype,"type",void 0),wy=rb=c([M("esri.symbols.edges.SolidEdges3D")],wy);const HQ=wy,$N={types:{key:"type",base:qx,typeMap:{solid:HQ,sketch:BQ}},json:{write:!0}};var nb;let Sn=nb=class extends B{constructor(e){super(e),this.color=null}clone(){const e={color:this.color!=null?this.color.clone():null};return new nb(e)}};c([h(ya)],Sn.prototype,"color",void 0),Sn=nb=c([M("esri.symbols.support.Symbol3DMaterial")],Sn);var ib;let no=ib=class extends Gi{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){var e,t;return new ib({edges:(e=this.edges)==null?void 0:e.clone(),enabled:this.enabled,material:(t=this.material)==null?void 0:t.clone(),castShadows:this.castShadows,size:this.size})}};c([ne({Extrude:"extrude"},{readOnly:!0})],no.prototype,"type",void 0),c([h({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],no.prototype,"size",void 0),c([h({type:Sn,json:{write:!0}})],no.prototype,"material",void 0),c([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],no.prototype,"castShadows",void 0),c([h($N)],no.prototype,"edges",void 0),no=ib=c([M("esri.symbols.ExtrudeSymbol3DLayer")],no);const xN=no;let nh=class extends or{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};c([ne({esriSLS:"simple-line"},{readOnly:!0})],nh.prototype,"type",void 0),c([h({type:Number,cast:Je,json:{write:!0}})],nh.prototype,"width",void 0),nh=c([M("esri.symbols.LineSymbol")],nh);const qQ=nh,ZQ=["begin","end","begin-end"],TN=["arrow","circle","square","diamond","cross","x"];var sb;let yi=sb=class extends B{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,n){t[r]=(n==null?void 0:n.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,n){(n==null?void 0:n.origin)==="web-map"||(t[r]=e)}clone(){return new sb({color:L(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};c([h({type:["begin","end","begin-end"],json:{write:!0}})],yi.prototype,"placement",void 0),c([ne({"line-marker":"line-marker"},{readOnly:!0}),h({json:{origins:{"web-map":{write:!1}}}})],yi.prototype,"type",void 0),c([h({type:TN})],yi.prototype,"style",void 0),c([ge("style")],yi.prototype,"writeStyle",null),c([h({type:ve,value:null,json:{write:{allowNull:!0}}})],yi.prototype,"color",null),c([Me("color")],yi.prototype,"readColor",null),c([ge("color")],yi.prototype,"writeColor",null),yi=sb=c([M("esri.symbols.LineSymbolMarker")],yi);const JQ=yi;var ob;const Q1=new Ht({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let ts=ob=class extends qQ{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,n,i,s){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),r!=null&&(o.width=Je(r)),n!=null&&(o.cap=n),i!=null&&(o.join=i),s!=null&&(o.miterLimit=Je(s)),o}clone(){var e;return new ob({color:L(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};c([ne({esriSLS:"simple-line"},{readOnly:!0})],ts.prototype,"type",void 0),c([h({type:Q1.apiValues,json:{read:Q1.read,write:Q1.write}})],ts.prototype,"style",void 0),c([h({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null?void 0:r.origin)==null})}}})],ts.prototype,"cap",void 0),c([h({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null?void 0:r.origin)==null})}}})],ts.prototype,"join",void 0),c([h({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":JQ}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],ts.prototype,"marker",void 0),c([h({type:Number,json:{read:!1,write:!1}})],ts.prototype,"miterLimit",void 0),ts=ob=c([M("esri.symbols.SimpleLineSymbol")],ts);const ga=ts;let ih=class extends or{constructor(t){super(t),this.outline=null,this.type=null}hash(){var t;return`${this.type}.${(t=this.outline)==null?void 0:t.hash()}`}};c([h({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ga}},json:{default:null,write:!0}})],ih.prototype,"outline",void 0),c([h({type:["simple-fill","picture-fill"],readOnly:!0})],ih.prototype,"type",void 0),ih=c([M("esri.symbols.FillSymbol")],ih);const MN=ih;let _y=class extends B{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};c([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],_y.prototype,"type",void 0),_y=c([M("esri.symbols.patterns.LinePattern3D")],_y);const EN=_y,KQ=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var ab;const YQ=Ir()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let sh=ab=class extends EN{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new ab(e)}};c([h({type:["style"]})],sh.prototype,"type",void 0),c([ne(YQ),h({type:KQ})],sh.prototype,"style",void 0),sh=ab=c([M("esri.symbols.patterns.LineStylePattern3D")],sh);const Zx=sh;let by=class extends B{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};c([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],by.prototype,"type",void 0),by=c([M("esri.symbols.patterns.Pattern3D")],by);const kN=by,QQ=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var lb;let oh=lb=class extends kN{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new lb({style:this.style})}};c([h({type:["style"]})],oh.prototype,"type",void 0),c([h({type:QQ,json:{read:!0,write:!0}})],oh.prototype,"style",void 0),oh=lb=c([M("esri.symbols.patterns.StylePattern3D")],oh);const PN=oh,XQ={types:{key:"type",base:kN,typeMap:{style:PN}},json:{write:!0}},CN={types:{key:"type",base:EN,typeMap:{style:Zx}},json:{write:!0}},Zh=new ve("white");new ve("black");const eX=new ve([255,255,255,0]);function tX(e){return e.r===0&&e.g===0&&e.b===0}var ub;let Jh=ub=class extends Sn{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color!=null?this.color.clone():null,colorMixMode:this.colorMixMode};return new ub(e)}};c([ne({multiply:"multiply",replace:"replace",tint:"tint"})],Jh.prototype,"colorMixMode",void 0),Jh=ub=c([M("esri.symbols.support.Symbol3DFillMaterial")],Jh);function Jx(e=oX){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function Kx(e,t,r,n,i,s,o=Jx()){return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=i,o[5]=s,o}function Lpe(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new Le(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function Npe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function Dpe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function Fpe(e,t,r=0,n=t.length/3){let i=e[0],s=e[1],o=e[2],a=e[3],l=e[4],d=e[5];for(let p=0;p<n;p++)i=Math.min(i,t[r+3*p]),s=Math.min(s,t[r+3*p+1]),o=Math.min(o,t[r+3*p+2]),a=Math.max(a,t[r+3*p]),l=Math.max(l,t[r+3*p+1]),d=Math.max(d,t[r+3*p+2]);e[0]=i,e[1]=s,e[2]=o,e[3]=a,e[4]=l,e[5]=d}function rX(e){return e[0]>=e[3]?0:e[3]-e[0]}function nX(e){return e[1]>=e[4]?0:e[4]-e[1]}function iX(e){return e[2]>=e[5]?0:e[5]-e[2]}function jpe(e,t=[0,0,0]){return t[0]=rX(e),t[1]=nX(e),t[2]=iX(e),t}function zpe(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function Upe(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function sX(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Vpe(e){return e?sX(e,Lk):Jx(Lk)}function Gpe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function Wpe(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=Number.NEGATIVE_INFINITY,e[3]=n,e[4]=i,e[5]=Number.POSITIVE_INFINITY,e}function Rk(e){return e.length===6}function Bpe(e,t,r){if(e==null||t==null)return e===t;if(!Rk(e)||!Rk(t))return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const Lk=[1/0,1/0,1/0,-1/0,-1/0,-1/0],oX=[0,0,0,0,0,0];Jx();const aX=Kx(-.5,-.5,-.5,.5,.5,.5),lX=Kx(-.5,-.5,0,.5,.5,1),uX=Kx(-.5,-.5,0,.5,.5,.5);function Hpe(e){switch(e){case"sphere":case"cube":case"diamond":return aX;case"cylinder":case"cone":case"inverted-cone":return lX;case"tetrahedron":return uX;default:return}}const Yx=["butt","square","round"],cX=[...Yx,"none"],ON=["miter","bevel","round"];var cb;let Va=cb=class extends B{constructor(e){super(e),this.color=new ve([0,0,0,1]),this.size=Ul(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new cb(e)}};c([h(ya)],Va.prototype,"color",void 0),c([h(zi)],Va.prototype,"size",void 0),c([h(CN)],Va.prototype,"pattern",void 0),c([h({type:Yx,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Va.prototype,"patternCap",void 0),Va=cb=c([M("esri.symbols.support.Symbol3DOutline")],Va);var Sy;let rs=Sy=class extends Gi{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new Sy(e)}static fromSimpleFillSymbol(e){var n,i,s;const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new Zx({style:e.outline.style}):null,r={size:((n=e.outline)==null?void 0:n.width)??0,color:(((i=e.outline)==null?void 0:i.color)??Zh).clone(),pattern:t};return t&&((s=e.outline)!=null&&s.cap)&&(r.patternCap=e.outline.cap),new Sy({material:new Jh({color:(e.color??eX).clone()}),pattern:e.style&&e.style!=="solid"?new PN({style:e.style}):null,outline:r})}};c([ne({Fill:"fill"},{readOnly:!0})],rs.prototype,"type",void 0),c([h({type:Jh,json:{write:!0}})],rs.prototype,"material",void 0),c([h(XQ)],rs.prototype,"pattern",void 0),c([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],rs.prototype,"castShadows",void 0),c([h({type:Va,json:{write:!0}})],rs.prototype,"outline",void 0),c([h($N)],rs.prototype,"edges",void 0),rs=Sy=c([M("esri.symbols.FillSymbol3DLayer")],rs);const df=rs,dX=["none","underline","line-through"],hX=["normal","italic","oblique"],pX=["normal","lighter","bold","bolder"],IN={type:Number,cast:e=>{const t=Hn(e);return t===0?1:Ri(t,.1,4)},nonNullable:!0},fX=["left","right","center"],mX=["baseline","top","middle","bottom"],AN={type:fX,nonNullable:!0},RN={type:mX,nonNullable:!0},qpe=8;var db;let ns=db=class extends B{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return Je(e)}clone(){return new db({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};c([h({type:dX,json:{default:"none",write:!0}})],ns.prototype,"decoration",void 0),c([h({type:String,json:{write:!0}})],ns.prototype,"family",void 0),c([h({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],ns.prototype,"size",void 0),c([Lt("size")],ns.prototype,"castSize",null),c([h({type:hX,json:{default:"normal",write:!0}})],ns.prototype,"style",void 0),c([h({type:pX,json:{default:"normal",write:!0}})],ns.prototype,"weight",void 0),ns=db=c([M("esri.symbols.Font")],ns);const Tv=ns;var hb;const yX=Ir()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Ga=hb=class extends B{constructor(e){super(e)}readHref(e,t,r){return e?cf(e,r):t.dataURI}writeHref(e,t,r,n){e&&(Yl(e)?t.dataURI=e:(t.href=gv(e,n),qr(t.href)&&(t.href=Bo(t.href))))}clone(){return new hb({href:this.href,primitive:this.primitive})}};c([h({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Ga.prototype,"href",void 0),c([Me("href")],Ga.prototype,"readHref",null),c([ge("href",{href:{type:String},dataURI:{type:String}})],Ga.prototype,"writeHref",null),c([ne(yX)],Ga.prototype,"primitive",void 0),Ga=hb=c([M("esri.symbols.support.IconSymbol3DLayerResource")],Ga);var pb;let tc=pb=class extends ee{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new pb({x:this.x,y:this.y})}};c([h({type:Number})],tc.prototype,"x",void 0),c([h({type:Number})],tc.prototype,"y",void 0),tc=pb=c([M("esri.symbols.support.Symbol3DAnchorPosition2D")],tc);var fb;let ah=fb=class extends B{constructor(e){super(e),this.color=new ve([0,0,0,1]),this.size=Ul(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new fb(e)}};c([h(ya)],ah.prototype,"color",void 0),c([h(zi)],ah.prototype,"size",void 0),ah=fb=c([M("esri.symbols.support.Symbol3DIconOutline")],ah);var $u;const LN="esri.symbols.IconSymbol3DLayer";let gi=$u=class extends Gi{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new $u({anchor:this.anchor,anchorPosition:L(this.anchorPosition),enabled:this.enabled,material:L(this.material),outline:L(this.outline),resource:L(this.resource),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Zh,r=Nk(e),n=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Zh).clone()}:null;return new $u({size:e.size,resource:{primitive:vX(e.style)},material:{color:t},outline:n,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||tX(e.color)?Zh:e.color,r=Nk(e);return new $u({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new $u({resource:{href:TA({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};c([h({type:Sn,json:{write:!0}})],gi.prototype,"material",void 0),c([h({type:Ga,json:{write:!0}})],gi.prototype,"resource",void 0),c([ne({Icon:"icon"},{readOnly:!0})],gi.prototype,"type",void 0),c([h(zi)],gi.prototype,"size",void 0),c([ne({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),h({json:{default:"center"}})],gi.prototype,"anchor",void 0),c([h({type:tc,json:{type:[Number],read:{reader:e=>new tc({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],gi.prototype,"anchorPosition",void 0),c([h({type:ah,json:{write:!0}})],gi.prototype,"outline",void 0),gi=$u=c([M(LN)],gi);const yl=gi;function Nk(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,n=Dk(e.xoffset),i=Dk(e.yoffset);return(n||i)&&t&&r?{x:-n/t,y:i/r}:null}function Dk(e){return isFinite(e)?e:0}const gX={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function vX(e){return gX[e]||(z.getLogger(LN).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}let Wa=class extends Ui(B){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};c([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Wa.prototype,"type",void 0),c([h({type:ZQ,json:{default:"begin-end",write:!0}})],Wa.prototype,"placement",void 0),c([h({type:TN,json:{default:"arrow",write:!0}})],Wa.prototype,"style",void 0),c([h({type:ve,json:{type:[Qe],default:null,write:!0}})],Wa.prototype,"color",void 0),Wa=c([M("esri.symbols.LineStyleMarker3D")],Wa);const mb=Wa;var $y;let vi=$y=class extends Gi{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Ul(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new $y(e)}static fromSimpleLineSymbol(e){var r;const t={enabled:!0,size:e.width??Ul(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new Zx({style:e.style}):null,material:new Sn({color:(e.color||Zh).clone()}),marker:e.marker?new mb({placement:e.marker.placement,style:e.marker.style,color:((r=e.marker.color)==null?void 0:r.clone())??null}):null};return new $y(t)}};c([h({type:Sn,json:{write:!0}})],vi.prototype,"material",void 0),c([ne({Line:"line"},{readOnly:!0})],vi.prototype,"type",void 0),c([h({type:ON,json:{write:!0,default:"miter"}})],vi.prototype,"join",void 0),c([h({type:Yx,json:{write:!0,default:"butt"}})],vi.prototype,"cap",void 0),c([h(zi)],vi.prototype,"size",void 0),c([h(CN)],vi.prototype,"pattern",void 0),c([h({types:{key:"type",base:mb,typeMap:{style:mb}},json:{write:!0}})],vi.prototype,"marker",void 0),vi=$y=c([M("esri.symbols.LineSymbol3DLayer")],vi);const hf=vi;var yb;const wX=Ir()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let lh=yb=class extends B{clone(){return new yb({href:this.href,primitive:this.primitive})}};c([h({type:String,json:{read:Nx,write:Gc}})],lh.prototype,"href",void 0),c([ne(wX)],lh.prototype,"primitive",void 0),lh=yb=c([M("esri.symbols.support.ObjectSymbol3DLayerResource")],lh);var gb;let al=gb=class extends ee{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new gb({x:this.x,y:this.y,z:this.z})}};c([h({type:Number})],al.prototype,"x",void 0),c([h({type:Number})],al.prototype,"y",void 0),c([h({type:Number})],al.prototype,"z",void 0),al=gb=c([M("esri.symbols.support.Symbol3DAnchorPosition3D")],al);var vb;let Kt=vb=class extends Gi{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,t,r;return new vb({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(e=this.anchorPosition)==null?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((t=this.material)==null?void 0:t.clone())??null,castShadows:this.castShadows,resource:(r=this.resource)==null?void 0:r.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};c([h({type:Sn,json:{write:!0}})],Kt.prototype,"material",void 0),c([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Kt.prototype,"castShadows",void 0),c([h({type:lh,json:{write:!0}})],Kt.prototype,"resource",void 0),c([ne({Object:"object"},{readOnly:!0})],Kt.prototype,"type",void 0),c([h({type:Number,json:{write:!0}})],Kt.prototype,"width",void 0),c([h({type:Number,json:{write:!0}})],Kt.prototype,"height",void 0),c([h({type:Number,json:{write:!0}})],Kt.prototype,"depth",void 0),c([ne({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),h({json:{default:"origin"}})],Kt.prototype,"anchor",void 0),c([h({type:al,json:{type:[Number],read:{reader:e=>new al({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Kt.prototype,"anchorPosition",void 0),c([h({type:Number,json:{write:!0}})],Kt.prototype,"heading",void 0),c([h({type:Number,json:{write:!0}})],Kt.prototype,"tilt",void 0),c([h({type:Number,json:{write:!0}})],Kt.prototype,"roll",void 0),c([h({readOnly:!0})],Kt.prototype,"isPrimitive",null),Kt=vb=c([M("esri.symbols.ObjectSymbol3DLayer")],Kt);const Qx=Kt;var wb;let lr=wb=class extends Gi{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new wb({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};c([h({type:Sn,json:{write:!0}})],lr.prototype,"material",void 0),c([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],lr.prototype,"castShadows",void 0),c([ne({Path:"path"},{readOnly:!0})],lr.prototype,"type",void 0),c([h({type:["circle","quad"],json:{write:!0,default:"circle"}})],lr.prototype,"profile",void 0),c([h({type:ON,json:{write:!0,default:"miter"}})],lr.prototype,"join",void 0),c([h({type:cX,json:{write:!0,default:"butt"}})],lr.prototype,"cap",void 0),c([h({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],lr.prototype,"width",void 0),c([Me("width",["width","size","height"])],lr.prototype,"readWidth",null),c([h({type:Number,json:{write:!0}})],lr.prototype,"height",void 0),c([Me("height",["height","size","width"])],lr.prototype,"readHeight",null),c([h({type:["center","bottom","top"],json:{write:!0,default:"center"}})],lr.prototype,"anchor",void 0),c([h({type:["heading","all"],json:{write:!0,default:"all"}})],lr.prototype,"profileRotation",void 0),lr=wb=c([M("esri.symbols.PathSymbol3DLayer")],lr);const Xx=lr;var _b;let rc=_b=class extends B{constructor(){super(...arguments),this.color=new ve([0,0,0,1]),this.size=0}clone(){const e={color:L(this.color),size:this.size};return new _b(e)}};c([h(ya)],rc.prototype,"color",void 0),c([h(zi)],rc.prototype,"size",void 0),rc=_b=c([M("esri.symbols.support.Symbol3DHalo")],rc);let Kh=class extends Ui(B){constructor(t){super(t),this.color=null}};c([h(ya)],Kh.prototype,"color",void 0),Kh=c([M("esri.symbols.support.Symbol3DTextBackground")],Kh);var xy;let _r=xy=class extends Gi{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,n){const i={...n,textSymbol3D:!0};t.font=e.write({},i),delete t.font.size}get size(){var e;return this._userSize!=null?this._userSize:((e=this.font)==null?void 0:e.size)!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new xy({enabled:this.enabled,font:this.font&&L(this.font),halo:this.halo&&L(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:L(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new xy({font:e.font!=null?e.font.clone():new Tv,halo:_X(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Sn({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Kh({color:e.backgroundColor.clone()}):null})}};function _X(e,t){return e&&t!=null&&t>0?new rc({color:L(e),size:t}):null}c([h({type:Tv,json:{write:!0}})],_r.prototype,"font",null),c([ge("font")],_r.prototype,"writeFont",null),c([h({type:rc,json:{write:!0}})],_r.prototype,"halo",void 0),c([h({...AN,json:{default:"center",write:!0}})],_r.prototype,"horizontalAlignment",void 0),c([h({...IN,json:{default:1,write:!0}})],_r.prototype,"lineHeight",void 0),c([h({type:Sn,json:{write:!0}})],_r.prototype,"material",void 0),c([h({type:Kh,json:{write:!0}})],_r.prototype,"background",void 0),c([h(zi)],_r.prototype,"size",null),c([h({type:String,json:{write:!0}})],_r.prototype,"text",void 0),c([ne({Text:"text"},{readOnly:!0})],_r.prototype,"type",void 0),c([h({...RN,json:{default:"baseline",write:!0}})],_r.prototype,"verticalAlignment",void 0),_r=xy=c([M("esri.symbols.TextSymbol3DLayer")],_r);const id=_r;var bb;let io=bb=class extends Gi{constructor(e){super(e),this.color=Sb.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new bb({color:L(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};c([h({type:ve,nonNullable:!0,json:{type:[Qe],write:(e,t,r)=>t[r]=e.toArray(ve.AlphaMode.UNLESS_OPAQUE),default:()=>Sb.clone(),defaultEquals:e=>e.toCss(!0)===Sb.toCss(!0)}})],io.prototype,"color",void 0),c([ne({Water:"water"},{readOnly:!0})],io.prototype,"type",void 0),c([h({type:["small","medium","large"],json:{write:!0,default:"medium"}})],io.prototype,"waterbodySize",void 0),c([h({type:Number,json:{write:!0,default:null}})],io.prototype,"waveDirection",void 0),c([h({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],io.prototype,"waveStrength",void 0),io=bb=c([M("esri.symbols.WaterSymbol3DLayer")],io);const NN=io,Sb=new ve([0,119,190]);var $b;let Ba=$b=class extends ee{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new $b({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};c([h({type:String})],Ba.prototype,"name",void 0),c([h({type:String})],Ba.prototype,"styleUrl",void 0),c([h({type:String})],Ba.prototype,"styleName",void 0),c([h({type:si})],Ba.prototype,"portal",void 0),Ba=$b=c([M("esri.symbols.support.StyleOrigin")],Ba);const xb=Ba;var Tb;let Yh=Tb=class extends ee{constructor(){super(...arguments),this.url=""}clone(){return new Tb({url:this.url})}};c([h({type:String})],Yh.prototype,"url",void 0),Yh=Tb=c([M("esri.symbols.support.Thumbnail")],Yh);const DN={icon:yl,object:Qx,line:hf,path:Xx,fill:df,extrude:xN,text:id,water:NN},bX=X.ofType({base:Gi,key:"type",typeMap:DN,errorContext:"symbol-layer"});let wi=class extends or{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,n=r==null?void 0:r.type,i=n||X;this._set("symbolLayers",new i)}get color(){return null}set color(t){this.constructed&&z.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){sa(t,this._get("symbolLayers"))}readStyleOrigin(t,r,n){if(t.styleUrl&&t.name){const i=cf(t.styleUrl,n);return new xb({styleUrl:i,name:t.name})}if(t.styleName&&t.name)return new xb({portal:(n==null?void 0:n.portal)||si.getDefault(),styleName:t.styleName,name:t.name});n!=null&&n.messages&&n.messages.push(new Os("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:t}))}writeStyleOrigin(t,r,n,i){if(t.styleUrl&&t.name){let s=gv(t.styleUrl,i);qr(s)&&(s=Bo(s)),r.styleOrigin={styleUrl:s,name:t.name}}else t.styleName&&t.name&&(t.portal&&(i!=null&&i.portal)&&!vV(t.portal.restUrl,i.portal.restUrl)?i!=null&&i.messages&&i.messages.push(new Os("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Gi||t&&DN[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};c([h({json:{read:!1,write:!1}})],wi.prototype,"color",null),c([h({type:bX,nonNullable:!0,json:{write:!0}}),Lt(RL)],wi.prototype,"symbolLayers",null),c([h({type:xb})],wi.prototype,"styleOrigin",void 0),c([Me("styleOrigin")],wi.prototype,"readStyleOrigin",null),c([ge("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],wi.prototype,"writeStyleOrigin",null),c([h({type:Yh,json:{read:!1}})],wi.prototype,"thumbnail",void 0),c([h({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],wi.prototype,"type",void 0),wi=c([M("esri.symbols.Symbol3D")],wi);const pf=wi;let uh=class extends B{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};c([h({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],uh.prototype,"type",void 0),c([h({readOnly:!0})],uh.prototype,"visible",void 0),uh=c([M("esri.symbols.callouts.Callout3D")],uh);const FN=uh;var Mb;let Ty=Mb=class extends B{constructor(e){super(e),this.color=new ve("white")}clone(){return new Mb({color:L(this.color)})}};c([h(ya)],Ty.prototype,"color",void 0),Ty=Mb=c([M("esri.symbols.callouts.LineCallout3DBorder")],Ty);const SX=Ty;var Eb;let so=Eb=class extends FN{constructor(e){super(e),this.type="line",this.color=new ve([0,0,0,1]),this.size=Ul(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new Eb({color:L(this.color),size:this.size,border:L(this.border)})}};c([ne({line:"line"})],so.prototype,"type",void 0),c([h(ya)],so.prototype,"color",void 0),c([h(zi)],so.prototype,"size",void 0),c([h({type:SX,json:{write:!0}})],so.prototype,"border",void 0),c([h({readOnly:!0})],so.prototype,"visible",null),so=Eb=c([M("esri.symbols.callouts.LineCallout3D")],so);const jN=so;function eT(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function zN(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!eT(e)}const UN={types:{key:"type",base:FN,typeMap:{line:jN}},json:{write:!0}};var kb;let xu=kb=class extends B{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new kb({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};c([h(zi)],xu.prototype,"screenLength",void 0),c([h({type:Number,nonNullable:!0,json:{write:!0,default:0}})],xu.prototype,"minWorldLength",void 0),c([h({type:Number,json:{write:!0}})],xu.prototype,"maxWorldLength",void 0),xu=kb=c([M("esri.symbols.support.Symbol3DVerticalOffset")],xu);const tT=xu;var My;const VN=X.ofType({base:null,key:"type",typeMap:{text:id}});let oo=My=class extends pf{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new VN,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return zN(this)}hasVisibleVerticalOffset(){return eT(this)}clone(){return new My({styleOrigin:L(this.styleOrigin),symbolLayers:L(this.symbolLayers),thumbnail:L(this.thumbnail),callout:L(this.callout),verticalOffset:L(this.verticalOffset)})}static fromTextSymbol(e){return new My({symbolLayers:new X([id.fromTextSymbol(e)])})}};c([h({type:tT,json:{write:!0}})],oo.prototype,"verticalOffset",void 0),c([h(UN)],oo.prototype,"callout",void 0),c([h({json:{read:!1,write:!1}})],oo.prototype,"styleOrigin",void 0),c([h({type:VN})],oo.prototype,"symbolLayers",void 0),c([ne({LabelSymbol3D:"label-3d"},{readOnly:!0})],oo.prototype,"type",void 0),oo=My=c([M("esri.symbols.LabelSymbol3D")],oo);const rT=oo;var Ey;const GN=X.ofType({base:null,key:"type",typeMap:{line:hf,path:Xx}}),$X=X.ofType({base:null,key:"type",typeMap:{line:hf,path:Xx}});let ch=Ey=class extends pf{constructor(e){super(e),this.symbolLayers=new GN,this.type="line-3d"}clone(){return new Ey({styleOrigin:L(this.styleOrigin),symbolLayers:L(this.symbolLayers),thumbnail:L(this.thumbnail)})}static fromSimpleLineSymbol(e){return new Ey({symbolLayers:new X([hf.fromSimpleLineSymbol(e)])})}};c([h({type:GN,json:{type:$X}})],ch.prototype,"symbolLayers",void 0),c([ne({LineSymbol3D:"line-3d"},{readOnly:!0})],ch.prototype,"type",void 0),ch=Ey=c([M("esri.symbols.LineSymbol3D")],ch);const Mv=ch;let ao=class extends or{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};c([h({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],ao.prototype,"angle",void 0),c([h({type:["simple-marker","picture-marker"],readOnly:!0})],ao.prototype,"type",void 0),c([h({type:Number,cast:Je,json:{write:!0}})],ao.prototype,"xoffset",void 0),c([h({type:Number,cast:Je,json:{write:!0}})],ao.prototype,"yoffset",void 0),c([h({type:Number,cast:e=>e==="auto"?e:Je(e),json:{write:!0}})],ao.prototype,"size",void 0),ao=c([M("esri.symbols.MarkerSymbol")],ao);const WN=ao;var ky;const BN=X.ofType({base:null,key:"type",typeMap:{fill:df}});let dh=ky=class extends pf{constructor(e){super(e),this.symbolLayers=new BN,this.type="mesh-3d"}clone(){return new ky({styleOrigin:L(this.styleOrigin),symbolLayers:L(this.symbolLayers),thumbnail:L(this.thumbnail)})}static fromSimpleFillSymbol(e){return new ky({symbolLayers:new X([df.fromSimpleFillSymbol(e)])})}};c([h({type:BN})],dh.prototype,"symbolLayers",void 0),c([ne({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],dh.prototype,"type",void 0),dh=ky=c([M("esri.symbols.MeshSymbol3D")],dh);const nT=dh;function xX(e,t,r){return t.imageData?TA({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):HN(t.url,r)}function HN(e,t){if(!qr(e)){const r=MX(t);if(r)return X0(r,"images",e)}return cf(e,t)}function TX(e,t,r,n){if(Yl(e)){const i=bp(e);if(!i)return;t.contentType=i.mediaType,t.imageData=i.data,r&&r.imageData===t.imageData&&r.url&&Gc(r.url,t,"url",n)}else Gc(e,t,"url",n)}const qN={json:{read:{source:["imageData","url"],reader:xX},write:{writer(e,t,r,n){TX(e,t,this.source,n)}}}},ZN={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=HN(t.url,r)),n}}}};function MX(e){var i,s;if(!e)return null;const{origin:t,layer:r}=e;if(t!=="service"&&t!=="portal-item")return null;const n=r==null?void 0:r.type;return n==="feature"||n==="stream"?(i=r.parsedUrl)==null?void 0:i.path:n==="map-image"||n==="tile"?(s=e.url)==null?void 0:s.path:null}var Pb;let un=Pb=class extends MN{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t&&(i.outline=t),r!=null&&(i.width=Je(r)),n!=null&&(i.height=Je(n)),i}clone(){const e=new Pb({color:L(this.color),height:this.height,outline:L(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",L(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};c([ne({esriPFS:"picture-fill"},{readOnly:!0})],un.prototype,"type",void 0),c([h(qN)],un.prototype,"url",void 0),c([h({type:Number,json:{write:!0}})],un.prototype,"xscale",void 0),c([h({type:Number,json:{write:!0}})],un.prototype,"yscale",void 0),c([h({type:Number,cast:Je,json:{write:!0}})],un.prototype,"width",void 0),c([h({type:Number,cast:Je,json:{write:!0}})],un.prototype,"height",void 0),c([h({type:Number,cast:Je,json:{write:!0}})],un.prototype,"xoffset",void 0),c([h({type:Number,cast:Je,json:{write:!0}})],un.prototype,"yoffset",void 0),c([h(ZN)],un.prototype,"source",void 0),un=Pb=c([M("esri.symbols.PictureFillSymbol")],un);const iT=un;var Cb;let Fn=Cb=class extends WN{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t!=null&&(n.width=Je(t)),r!=null&&(n.height=Je(r)),n}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new Cb({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",L(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};c([h({json:{write:!1}})],Fn.prototype,"color",void 0),c([ne({esriPMS:"picture-marker"},{readOnly:!0})],Fn.prototype,"type",void 0),c([h(qN)],Fn.prototype,"url",void 0),c([h(ZN)],Fn.prototype,"source",void 0),c([h({type:Number,cast:Je,json:{write:!0}})],Fn.prototype,"height",void 0),c([Me("height",["height","size"])],Fn.prototype,"readHeight",null),c([h({type:Number,cast:Je,json:{write:!0}})],Fn.prototype,"width",void 0),c([h({json:{write:!1}})],Fn.prototype,"size",void 0),Fn=Cb=c([M("esri.symbols.PictureMarkerSymbol")],Fn);const ff=Fn;var Ha;const JN=X.ofType({base:null,key:"type",typeMap:{icon:yl,object:Qx,text:id}});let qa=Ha=class extends pf{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new JN,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return zN(this)}hasVisibleVerticalOffset(){return eT(this)}clone(){return new Ha({verticalOffset:L(this.verticalOffset),callout:L(this.callout),styleOrigin:L(this.styleOrigin),symbolLayers:L(this.symbolLayers),thumbnail:L(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new Ha({symbolLayers:new X([yl.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new Ha({symbolLayers:new X([yl.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){var n,i;if(((i=(n=e.data)==null?void 0:n.symbol)==null?void 0:i.type)!=="CIMPointSymbol")return null;const r=e.data.symbol;return new Ha(r!=null&&r.callout?{symbolLayers:new X([yl.fromCIMSymbol(e)]),callout:new jN({size:.5,color:new ve([0,0,0])}),verticalOffset:new tT({screenLength:40})}:{symbolLayers:new X([yl.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new Ha({symbolLayers:new X([id.fromTextSymbol(e)])})}};c([h({type:tT,json:{write:!0}})],qa.prototype,"verticalOffset",void 0),c([h(UN)],qa.prototype,"callout",void 0),c([h({type:JN,json:{origins:{"web-scene":{write:!0}}}})],qa.prototype,"symbolLayers",void 0),c([ne({PointSymbol3D:"point-3d"},{readOnly:!0})],qa.prototype,"type",void 0),qa=Ha=c([M("esri.symbols.PointSymbol3D")],qa);const Ev=qa;var hh;const KN=X.ofType({base:null,key:"type",typeMap:{extrude:xN,fill:df,icon:yl,line:hf,object:Qx,text:id,water:NN}});let ph=hh=class extends pf{constructor(e){super(e),this.symbolLayers=new KN,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&Ol(z.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&Ol(z.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(ea(()=>this.symbolLayers,"after-add",({item:t})=>e(t),zl))}clone(){return new hh({styleOrigin:L(this.styleOrigin),symbolLayers:L(this.symbolLayers),thumbnail:L(this.thumbnail)})}static fromJSON(e){var r;const t=new hh;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const n=t.symbolLayers.at(0),i=t.symbolLayers.at(1);!i.enabled||(r=e.symbolLayers)!=null&&r[1]&&e.symbolLayers[1].enable===!1||(n.outline={size:i.size,color:i.material!=null?i.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new hh({symbolLayers:new X([df.fromSimpleFillSymbol(e)])})}};c([h({type:KN,json:{write:!0}})],ph.prototype,"symbolLayers",void 0),c([ne({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],ph.prototype,"type",void 0),ph=hh=c([M("esri.symbols.PolygonSymbol3D")],ph);const kv=ph;var Ob;const X1=new Ht({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Za=Ob=class extends MN{constructor(...e){super(...e),this.color=new ve([0,0,0,.25]),this.outline=new ga,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t&&(n.outline=t),r&&(n.color=r),n}clone(){return new Ob({color:L(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};c([h()],Za.prototype,"color",void 0),c([h()],Za.prototype,"outline",void 0),c([ne({esriSFS:"simple-fill"},{readOnly:!0})],Za.prototype,"type",void 0),c([h({type:X1.apiValues,json:{read:X1.read,write:X1.write}})],Za.prototype,"style",void 0),Za=Ob=c([M("esri.symbols.SimpleFillSymbol")],Za);const Pv=Za;var Ib;const ew=new Ht({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let _i=Ib=class extends WN{constructor(...e){super(...e),this.color=new ve([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new ga}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t!=null&&(i.size=Je(t)),r&&(i.outline=r),n&&(i.color=n),i}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new Ib({angle:this.angle,color:L(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};c([h()],_i.prototype,"color",void 0),c([ge("color")],_i.prototype,"writeColor",null),c([ne({esriSMS:"simple-marker"},{readOnly:!0})],_i.prototype,"type",void 0),c([h()],_i.prototype,"size",void 0),c([h({type:ew.apiValues,json:{read:ew.read,write:ew.write}})],_i.prototype,"style",void 0),c([h({type:String,json:{write:!0}})],_i.prototype,"path",null),c([h({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ga}},json:{default:null,write:!0}})],_i.prototype,"outline",void 0),_i=Ib=c([M("esri.symbols.SimpleMarkerSymbol")],_i);const Cv=_i;var Ab;let Ge=Ab=class extends or{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Tv,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.text=e),t&&(n.font=t),r&&(n.color=r),n}writeLineWidth(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}castLineWidth(e){return Je(e)}writeLineHeight(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}clone(){return new Ab({angle:this.angle,backgroundColor:L(this.backgroundColor),borderLineColor:L(this.borderLineColor),borderLineSize:this.borderLineSize,color:L(this.color),font:this.font&&this.font.clone(),haloColor:L(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e,t,r;return`${(e=this.backgroundColor)==null?void 0:e.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(t=this.color)==null?void 0:t.hash()}.${this.font&&this.font.hash()}.${(r=this.haloColor)==null?void 0:r.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};c([h({type:ve,json:{write:!0}})],Ge.prototype,"backgroundColor",void 0),c([h({type:ve,json:{write:!0}})],Ge.prototype,"borderLineColor",void 0),c([h({type:Number,json:{write:!0},cast:Je})],Ge.prototype,"borderLineSize",void 0),c([h({type:Tv,json:{write:!0}})],Ge.prototype,"font",void 0),c([h({...AN,json:{write:!0}})],Ge.prototype,"horizontalAlignment",void 0),c([h({type:Boolean,json:{write:!0}})],Ge.prototype,"kerning",void 0),c([h({type:ve,json:{write:!0}})],Ge.prototype,"haloColor",void 0),c([h({type:Number,cast:Je,json:{write:!0}})],Ge.prototype,"haloSize",void 0),c([h({type:Boolean,json:{write:!0}})],Ge.prototype,"rightToLeft",void 0),c([h({type:Boolean,json:{write:!0}})],Ge.prototype,"rotated",void 0),c([h({type:String,json:{write:!0}})],Ge.prototype,"text",void 0),c([ne({esriTS:"text"},{readOnly:!0})],Ge.prototype,"type",void 0),c([h({...RN,json:{write:!0}})],Ge.prototype,"verticalAlignment",void 0),c([h({type:Number,cast:Je,json:{write:!0}})],Ge.prototype,"xoffset",void 0),c([h({type:Number,cast:Je,json:{write:!0}})],Ge.prototype,"yoffset",void 0),c([h({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Ge.prototype,"angle",void 0),c([h({type:Number,json:{write:!0}})],Ge.prototype,"width",void 0),c([h({type:Number})],Ge.prototype,"lineWidth",void 0),c([ge("lineWidth")],Ge.prototype,"writeLineWidth",null),c([Lt("lineWidth")],Ge.prototype,"castLineWidth",null),c([h(IN)],Ge.prototype,"lineHeight",void 0),c([ge("lineHeight")],Ge.prototype,"writeLineHeight",null),Ge=Ab=c([M("esri.symbols.TextSymbol")],Ge);const mf=Ge;var Rb;let jn=Rb=class extends or{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:si.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t==null?void 0:t.portal,super.read(e,t)}clone(){return new Rb({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=t!=null?t.cache:null,n=r?this._fetchCacheKey:null;if(r!=null){const a=n&&r.get(n);if(a)return a.clone()}const{resolveWebStyleSymbol:i}=await U(()=>import("./webStyleSymbolUtils-QFEFA8Ox.js"),__vite__mapDeps([192,193,138,82,31,139]));lt(t);const s=i(this,{portal:this.portal},e,t);s.catch(a=>{z.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",a)});const o=await s;return e==="webRef"&&o.type==="point-3d"||e==="cimRef"&&o.type==="cim"?(r!=null&&r.set(n,o.clone()),o):null}};c([h({json:{write:!1}})],jn.prototype,"color",void 0),c([h({type:String,json:{write:!0}})],jn.prototype,"styleName",void 0),c([h({type:si,json:{write:!1}})],jn.prototype,"portal",void 0),c([h({type:String,json:{read:Nx,write:Gc}})],jn.prototype,"styleUrl",void 0),c([h({type:Yh,json:{read:!1}})],jn.prototype,"thumbnail",void 0),c([h({type:String,json:{write:!0}})],jn.prototype,"name",void 0),c([ne({styleSymbolReference:"web-style"},{readOnly:!0})],jn.prototype,"type",void 0),c([h()],jn.prototype,"_fetchCacheKey",null),jn=Rb=c([M("esri.symbols.WebStyleSymbol")],jn);const Ov=jn;function Xpe(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function efe(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const sT={base:or,key:"type",typeMap:{"simple-fill":Pv,"picture-fill":iT,"picture-marker":ff,"simple-line":ga,"simple-marker":Cv,text:mf,"label-3d":rT,"line-3d":Mv,"mesh-3d":nT,"point-3d":Ev,"polygon-3d":kv,"web-style":Ov,cim:tu},errorContext:"symbol"},tfe={base:or,key:"type",typeMap:{"picture-marker":ff,"simple-marker":Cv,"point-3d":Ev,cim:tu},errorContext:"symbol"},rfe={base:or,key:"type",typeMap:{"simple-line":ga,"line-3d":Mv,cim:tu},errorContext:"symbol"},nfe={base:or,key:"type",typeMap:{"simple-fill":Pv,"picture-fill":iT,"polygon-3d":kv,cim:tu},errorContext:"symbol"},ife={base:or,key:"type",typeMap:{"picture-marker":ff,"simple-marker":Cv,text:mf,"web-style":Ov,cim:tu},errorContext:"symbol"},sfe=I$({types:sT}),ofe={base:or,key:"type",typeMap:{"simple-fill":Pv,"picture-fill":iT,"picture-marker":ff,"simple-line":ga,"simple-marker":Cv,text:mf,"line-3d":Mv,"mesh-3d":nT,"point-3d":Ev,"polygon-3d":kv,"web-style":Ov,cim:tu},errorContext:"symbol"},afe={base:or,key:"type",typeMap:{text:mf,"label-3d":rT},errorContext:"symbol"},lfe={base:or,key:"type",typeMap:{"line-3d":Mv,"mesh-3d":nT,"point-3d":Ev,"polygon-3d":kv,"web-style":Ov,cim:tu},errorContext:"symbol"},ufe={base:or,key:"type",typeMap:{"label-3d":rT},errorContext:"symbol"},cfe=Cs(sT);var Lb;function EX(e){if(!e)return null;const t={};for(const r in e){const n=jc(e[r]);n&&(t[r]=n)}return Object.keys(t).length!==0?t:null}function kX(e){if(e==null)return null;const t={};for(const r in e){const n=e[r];n&&(t[r]=n.toJSON())}return Object.keys(t).length!==0?t:null}let ur=Lb=class extends Ui(B){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Nh(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&Nj(z.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),(e==null?void 0:e.type)!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new Lb({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const r of[t,this.sourceLayer,this.layer])if(r){if("popupTemplate"in r&&r.popupTemplate)return r.popupTemplate;if(e&&"defaultPopupTemplate"in r&&r.defaultPopupTemplate!=null)return r.defaultPopupTemplate}return null}getAttribute(e){var t;return(t=this.attributes)==null?void 0:t[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){var e;return{aggregateGeometries:kX(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:F_(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((e=this.popupTemplate)==null?void 0:e.toJSON())??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if((t==null?void 0:t.type)==="mesh"){const r={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,t,r,n){if(!this.layer||!("graphicChanged"in this.layer))return;const i={graphic:this,property:e,oldValue:t,newValue:r};e==="origin-transform"&&(i.action=n),e==="attributes"&&(i.attributeName=n),this.layer.graphicChanged(i)}_watchMeshGeometryChanges(){this.addHandles([Is(()=>{var e,t;return((e=this.geometry)==null?void 0:e.type)==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:(t=this.geometry.transform)==null?void 0:t.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0},({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),Is(()=>{var e;return((e=this.geometry)==null?void 0:e.type)==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0},()=>{var t;const e=this.geometry;(e==null?void 0:e.type)==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=(t=e.transform)==null?void 0:t.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};c([h({value:null,json:{read:EX}})],ur.prototype,"aggregateGeometries",null),c([h({value:null})],ur.prototype,"attributes",null),c([h({value:null,types:sv,json:{read:jc}})],ur.prototype,"geometry",null),c([h({type:Boolean})],ur.prototype,"isAggregate",void 0),c([h({clonable:"reference"})],ur.prototype,"layer",void 0),c([h({clonable:"reference"})],ur.prototype,"origin",void 0),c([h({type:Hx})],ur.prototype,"popupTemplate",void 0),c([h({clonable:"reference"})],ur.prototype,"sourceLayer",void 0),c([h({value:null,types:sT})],ur.prototype,"symbol",null),c([h({type:Boolean,value:!0})],ur.prototype,"visible",null),ur=Lb=c([M("esri.Graphic")],ur),function(e){e.generateUID=Nh}(ur||(ur={}));const Gl=ur;let Qh=class extends Bh{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};c([PR({Type:Gl,ensureType:Mt(Gl)})],Qh.prototype,"itemType",void 0),Qh=c([M("esri.support.GraphicsCollection")],Qh);let lo=class extends ee{constructor(t){super(t),this.view=null,this.baseLayerViews=new X,this.referenceLayerViews=new X,this._loadingHandle=re(()=>{var r,n;return(n=(r=this.view)==null?void 0:r.map)==null?void 0:n.basemap},r=>{r&&r.load().catch(()=>{})},Rt)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const t of this.baseLayerViews)t.destroy();this.baseLayerViews.length=0;for(const t of this.referenceLayerViews)t.destroy();this.referenceLayerViews.length=0}get suspended(){return!this.view||this.view.suspended}get updating(){var r,n,i;if((r=this.view)!=null&&r.suspended)return!1;const t=(i=(n=this.view)==null?void 0:n.map)==null?void 0:i.basemap;return!!t&&!!t.loaded&&(this.baseLayerViews.some(s=>s.updating)||this.referenceLayerViews.some(s=>s.updating))}};c([h({constructOnly:!0})],lo.prototype,"view",void 0),c([h({readOnly:!0})],lo.prototype,"baseLayerViews",void 0),c([h({readOnly:!0})],lo.prototype,"referenceLayerViews",void 0),c([h({readOnly:!0})],lo.prototype,"suspended",null),c([h({type:Boolean,readOnly:!0})],lo.prototype,"updating",null),lo=c([M("esri.views.BasemapView")],lo);function PX(e){return"tryRecycleWith"in e}function CX(e){return e!=null&&typeof e=="object"&&"layerViews"in e}let OX=class{constructor(t,r,n){this.layer=t,this.view=r,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=Tn(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,_n(this._controller.signal,()=>{const i=new j("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(i)})}tryRecycle(t){if(!this.done||!this.layerView||!PX(this.layerView))return null;const r=this.layer.type,n=this._controller.signal;for(let i=0;i<t.length;i++){const s=t[i];if(s.type!==r)continue;const o=this.layerView.tryRecycleWith(s,{signal:n});if(o){t.splice(i,1),this.layer=s;const a=this.layerView,l=a.view;return this.promise=Promise.race([o.then(()=>(lt(this._controller.signal),s.emit("layerview-destroy",{view:l,layerView:a}),l.emit("layerview-destroy",{view:l,layerView:a}),s.emit("layerview-create",{view:l,layerView:a}),l.emit("layerview-create",{view:l,layerView:a}),a)),new Promise((d,p)=>_n(this._controller.signal,()=>p(mt())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:t}=this;if(t){const{layer:r,view:n}=this;r.emit("layerview-destroy",{view:n,layerView:t}),n.emit("layerview-destroy",{layer:r,layerView:t})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){var i,s;if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:r,view:n}=this;this._map=n.map;try{let o,a;if(await r.load({signal:t}),r.prefetchResources&&await r.prefetchResources({signal:t}),AX(r))o=await r.createLayerView(n,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new j("layer:view-not-supported","No layerview implementation was found");const p=await this.layerViewImporter.importLayerView(r);lt(t),o="default"in p?new p.default({layer:r,view:n}):new p({layer:r,view:n})}const l=()=>{a=Ke(a),o.destroyed||o.destroy(),o.layer=null,o.parent=null,o.view=null,this.done=!0};a=_n(t,l),lt(t);try{await o.when()}catch(p){throw l(),p}if(!((s=(i=this._map)==null?void 0:i.allLayers)==null?void 0:s.includes(r)))return l(),void this._deferred.reject(new j("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=o,r.emit("layerview-create",{view:n,layerView:o}),n.emit("layerview-create",{layer:r,layerView:o}),this.done=!0,this._deferred.resolve(o)}catch(o){r.emit("layerview-create-error",{view:n,error:o}),n.emit("layerview-create-error",{layer:r,error:o}),this.done=!0,this._deferred.reject(new j("layerview:create-error","layerview creation failed",{layer:r,error:o}))}}},cn=class extends ee{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new xl,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var n;const r=(n=this.view.map)==null?void 0:n.allLayers;if(r)for(const i of r)this.layerViewImporter.hasLayerViewModule(i)&&this.layerViewImporter.importLayerView(i)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=Tn(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(Yp(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var l,d,p;if(this.destroyed)return;const r=this.view.map;if(this._map!==r&&(this.clear(),this._map=r),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const n=new Set,i=[],s=this.view.ready,o=f=>{if(f!=null){for(const m of f)if(m){n.add(m);const y=this._layerLayerViewInfoMap.get(m);y&&s?y.start():y||this._recyclingInfoMap.has(m)||i.push(m),"layers"in m&&m.layers&&o(m.layers)}}};for(const f of this._rootCollectionNames)o(Oi(this,f));for(const[f,m]of this._layerLayerViewInfoMap)if(!n.has(f)){this._layerLayerViewInfoMap.delete(m.layer);const y=m.tryRecycle(i);y?(this.notifyChange("updating"),this._recyclingInfoMap.set(m.layer,m),y.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(m.layer),this._layerLayerViewInfoMap.set(m.layer,m),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(m.layer),m.destroy(),this._reschedule()})):m.destroy()}for(const[f,m]of this._recyclingInfoMap)n.has(f)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(m.layer),m.destroy());for(const f of i)this._createLayerView(f);this._refreshCollections();const a=[(l=r==null?void 0:r.ground)==null?void 0:l.layers,(d=r==null?void 0:r.basemap)==null?void 0:d.baseLayers,(p=r==null?void 0:r.basemap)==null?void 0:p.referenceLayers,r==null?void 0:r.layers].filter(f=>!!f);n.forEach(f=>"layers"in f&&a.push(f.layers)),this.addHandles(a.map(f=>this._watchUpdatingTracking.addOnCollectionChange(()=>f,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([ea(()=>{var t,r;return(r=(t=this.view)==null?void 0:t.map)==null?void 0:r.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),re(()=>{const t=this.view,r=t==null?void 0:t.map;return[r==null?void 0:r.basemap,r==null?void 0:r.ground,r==null?void 0:r.layers,t==null?void 0:t.ready]},()=>this._reschedule(),fn)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),q1(this._recyclingInfoMap),q1(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(mt()),this._workPromise=null)}get _layersToLayerViews(){const t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||Z0(this._layerLayerViewInfoMap,t=>!t.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let t=0;for(const r of this._layerLayerViewInfoMap.values())r.done||++t;return t}clear(){this.destroyed||(q1(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new j("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise}isCreatingLayerViewsForLayer(t,r){var s;this.commitProperty("updatingRemaining");const n=this._layerLayerViewInfoMap.get(t);if(!(n!=null&&n.done))return!0;const i=n.layerView;return!(!i||!r||i.parent===r)||!!(n.done&&i&&"layers"in t&&((s=t.layers)!=null&&s.length))&&t.layers.some(o=>this.isCreatingLayerViewsForLayer(o,i))}_refreshCollections(){for(const[t,r]of this._layersToLayerViews)this._populateLayerViewsOwners(Oi(this,t),Oi(this,r),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,r,n){if(!t||!r)return void(r&&r.removeAll());let i=0;for(const s of t){const o=this._layerLayerViewInfoMap.get(s);if(!(o!=null&&o.layerView))continue;const a=o.layerView;a.layer=s,a.parent=n,r.at(i)!==a&&r.splice(i,0,a),"layers"in s&&CX(a)&&this._populateLayerViewsOwners(s.layers,a.layerViews,a),i+=1}i<r.length&&r.splice(i,r.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const r=new OX(t,this.view,this.layerViewImporter);r.promise.then(()=>this._refreshCollections(),n=>{n&&(Mn(n)||n.name==="cancelled:layerview-create")||z.getLogger(this).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:n}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,r),this.view.ready&&r.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};c([h()],cn.prototype,"_workPromise",void 0),c([h({readOnly:!0})],cn.prototype,"_watchUpdatingTracking",void 0),c([h({readOnly:!0})],cn.prototype,"_layersToLayerViews",null),c([h({readOnly:!0})],cn.prototype,"_rootCollectionNames",null),c([h()],cn.prototype,"layerViewImporter",void 0),c([h()],cn.prototype,"supportsGround",void 0),c([h({readOnly:!0})],cn.prototype,"updating",null),c([h({readOnly:!0})],cn.prototype,"updatingRemaining",null),c([h({constructOnly:!0})],cn.prototype,"view",void 0),cn=c([M("esri.views.LayerViewManager")],cn);const IX=cn;function AX(e){return"createLayerView"in e&&e.createLayerView!=null}let Dr=class extends ee{constructor(t){super(t),this.factor=1.5,this.offset=Gt(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};c([h({type:Number})],Dr.prototype,"factor",void 0),c([h({nonNullable:!0})],Dr.prototype,"offset",void 0),c([h()],Dr.prototype,"position",void 0),c([h({type:Number,range:{min:0}})],Dr.prototype,"size",void 0),c([h()],Dr.prototype,"maskUrl",void 0),c([h()],Dr.prototype,"maskEnabled",void 0),c([h()],Dr.prototype,"overlayUrl",void 0),c([h()],Dr.prototype,"overlayEnabled",void 0),c([h({readOnly:!0})],Dr.prototype,"version",null),c([h({type:Boolean})],Dr.prototype,"visible",void 0),Dr=c([M("esri.views.Magnifier")],Dr);const YN=Dr;let Py=class{constructor(t){this._observable=new nf,this._map=new Map(t)}get size(){return K(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(t){const r=this._map.delete(t);return r&&this._observable.notify(),r}entries(){return K(this._observable),this._map.entries()}forEach(t,r){K(this._observable),this._map.forEach((n,i)=>t.call(r,n,i,this),r)}get(t){return K(this._observable),this._map.get(t)}has(t){return K(this._observable),this._map.has(t)}keys(){return K(this._observable),this._map.keys()}set(t,r){return this._map.set(t,r),this._observable.notify(),this}values(){return K(this._observable),this._map.values()}[Symbol.iterator](){return K(this._observable),this._map[Symbol.iterator]()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};var Nb;let fh=Nb=class extends B{constructor(e){super(e),this.name=null,this.code=null}clone(){return new Nb({name:this.name,code:this.code})}};c([h({type:String,json:{write:!0}})],fh.prototype,"name",void 0),c([h({type:[String,Number],json:{write:!0}})],fh.prototype,"code",void 0),fh=Nb=c([M("esri.layers.support.CodedValue")],fh);const RX=new Ht({inherited:"inherited",codedValue:"coded-value",range:"range"});let mh=class extends B{constructor(t){super(t),this.name=null,this.type=null}};c([h({type:String,json:{write:!0}})],mh.prototype,"name",void 0),c([ne(RX)],mh.prototype,"type",void 0),mh=c([M("esri.layers.support.Domain")],mh);const Iv=mh;var Db;let yh=Db=class extends Iv{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some(n=>(String(n.code)===r&&(t=n.name),!!t))}return t}clone(){return new Db({codedValues:L(this.codedValues),name:this.name})}};c([h({type:[fh],json:{write:!0}})],yh.prototype,"codedValues",void 0),c([ne({codedValue:"coded-value"})],yh.prototype,"type",void 0),yh=Db=c([M("esri.layers.support.CodedValueDomain")],yh);const QN=yh;var Fb;let Cy=Fb=class extends Iv{constructor(e){super(e),this.type="inherited"}clone(){return new Fb}};c([ne({inherited:"inherited"})],Cy.prototype,"type",void 0),Cy=Fb=c([M("esri.layers.support.InheritedDomain")],Cy);const XN=Cy;var jb;let Tu=jb=class extends Iv{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new jb({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};c([h({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var r;return(r=t.range)==null?void 0:r[1]}},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],Tu.prototype,"maxValue",void 0),c([h({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var r;return(r=t.range)==null?void 0:r[0]}},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],Tu.prototype,"minValue",void 0),c([ne({range:"range"})],Tu.prototype,"type",void 0),Tu=jb=c([M("esri.layers.support.RangeDomain")],Tu);const e6=Tu,LX={key:"type",base:Iv,typeMap:{range:e6,"coded-value":QN,inherited:XN}};function NX(e){if(!(e!=null&&e.type))return null;switch(e.type){case"range":return e6.fromJSON(e);case"codedValue":return QN.fromJSON(e);case"inherited":return XN.fromJSON(e)}return null}const DX=new Ht({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var zb;const FX=new Ht({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let Yt=zb=class extends B{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch{}return(r==null?void 0:r.value)??null}readValueType(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch{}return r?FX.fromJSON(r.fieldValueType):null}clone(){var e;return new zb({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:((e=this.domain)==null?void 0:e.clone())??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};c([h({type:String,json:{write:!0}})],Yt.prototype,"alias",void 0),c([h({type:[String,Number],json:{write:{allowNull:!0}}})],Yt.prototype,"defaultValue",void 0),c([h()],Yt.prototype,"description",void 0),c([Me("description")],Yt.prototype,"readDescription",null),c([h({types:LX,json:{read:{reader:NX},write:!0}})],Yt.prototype,"domain",void 0),c([h({type:Boolean,json:{write:!0}})],Yt.prototype,"editable",void 0),c([h({type:Qe,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],Yt.prototype,"length",void 0),c([h({type:String,json:{write:!0}})],Yt.prototype,"name",void 0),c([h({type:Boolean,json:{write:!0}})],Yt.prototype,"nullable",void 0),c([ne(DX)],Yt.prototype,"type",void 0),c([h()],Yt.prototype,"valueType",void 0),c([Me("valueType",["description"])],Yt.prototype,"readValueType",null),c([h({type:Boolean,json:{read:!1}})],Yt.prototype,"visible",void 0),Yt=zb=c([M("esri.layers.support.Field")],Yt);const jX=Yt;var Ub;let Mu=Ub=class extends B{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new Ub({mapLayerId:e,gdbVersion:t})}};c([ne({mapLayer:"map-layer"})],Mu.prototype,"type",void 0),c([h({type:Qe,json:{write:!0}})],Mu.prototype,"mapLayerId",void 0),c([h({type:String,json:{write:!0}})],Mu.prototype,"gdbVersion",void 0),Mu=Ub=c([M("esri.layers.support.source.MapLayerSource")],Mu);var Vb;let is=Vb=class extends B{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:r,spatialReference:n,geometryType:i}=this,s={workspaceId:e,query:t,oidFields:r,spatialReference:(n==null?void 0:n.clone())??void 0,geometryType:i};return new Vb(s)}};c([ne({queryTable:"query-table"})],is.prototype,"type",void 0),c([h({type:String,json:{write:!0}})],is.prototype,"workspaceId",void 0),c([h({type:String,json:{write:!0}})],is.prototype,"query",void 0),c([h({type:String,json:{write:!0}})],is.prototype,"oidFields",void 0),c([h({type:he,json:{write:!0}})],is.prototype,"spatialReference",void 0),c([ne(pW)],is.prototype,"geometryType",void 0),is=Vb=c([M("esri.layers.support.source.QueryTableDataSource")],is);var Gb;let Eu=Gb=class extends B{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new Gb({workspaceId:e,dataSourceName:t})}};c([ne({raster:"raster"})],Eu.prototype,"type",void 0),c([h({type:String,json:{write:!0}})],Eu.prototype,"dataSourceName",void 0),c([h({type:String,json:{write:!0}})],Eu.prototype,"workspaceId",void 0),Eu=Gb=c([M("esri.layers.support.source.RasterDataSource")],Eu);var Wb;let Ja=Wb=class extends B{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new Wb({workspaceId:e,gdbVersion:t,dataSourceName:r})}};c([ne({table:"table"})],Ja.prototype,"type",void 0),c([h({type:String,json:{write:!0}})],Ja.prototype,"workspaceId",void 0),c([h({type:String,json:{write:!0}})],Ja.prototype,"gdbVersion",void 0),c([h({type:String,json:{write:!0}})],Ja.prototype,"dataSourceName",void 0),Ja=Wb=c([M("esri.layers.support.source.TableDataSource")],Ja);var Bb,Hb;const zX=Ir()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Fr=Bb=class extends B{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return Fk()(e,t,r)}castLeftTableSource(e){return Cs(qb(),e)}readRightTableSource(e,t,r){return Fk()(e,t,r)}castRightTableSource(e){return Cs(qb(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:r,rightTableSource:n,joinType:i}=this,s={leftTableKey:e,rightTableKey:t,leftTableSource:(r==null?void 0:r.clone())??void 0,rightTableSource:(n==null?void 0:n.clone())??void 0,joinType:i};return new Bb(s)}};c([ne({joinTable:"join-table"})],Fr.prototype,"type",void 0),c([h({type:String,json:{write:!0}})],Fr.prototype,"leftTableKey",void 0),c([h({type:String,json:{write:!0}})],Fr.prototype,"rightTableKey",void 0),c([h({json:{write:!0}})],Fr.prototype,"leftTableSource",void 0),c([Me("leftTableSource")],Fr.prototype,"readLeftTableSource",null),c([Lt("leftTableSource")],Fr.prototype,"castLeftTableSource",null),c([h({json:{write:!0}})],Fr.prototype,"rightTableSource",void 0),c([Me("rightTableSource")],Fr.prototype,"readRightTableSource",null),c([Lt("rightTableSource")],Fr.prototype,"castRightTableSource",null),c([ne(zX)],Fr.prototype,"joinType",void 0),Fr=Bb=c([M("esri.layers.support.source.JoinTableDataSource")],Fr);let tw=null;function Fk(){return tw||(tw=I$({types:qb()})),tw}let rw=null;function qb(){return rw||(rw={key:"type",base:null,typeMap:{"data-layer":hs,"map-layer":Mu}}),rw}const UX={key:"type",base:null,typeMap:{"join-table":Fr,"query-table":is,raster:Eu,table:Ja}};let hs=Hb=class extends B{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new Hb({fields:e,dataSource:t})}};c([ne({dataLayer:"data-layer"})],hs.prototype,"type",void 0),c([h({type:[jX],json:{write:!0}})],hs.prototype,"fields",void 0),c([h({types:UX,json:{write:!0}})],hs.prototype,"dataSource",void 0),hs=Hb=c([M("esri.layers.support.source.DataLayerSource")],hs),hs.from=Mt(hs);let Ka=class extends Ui(B){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};c([h({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],Ka.prototype,"onFields",void 0),c([h({type:String,json:{write:!0}})],Ka.prototype,"operator",void 0),c([h({type:String,json:{write:!0}})],Ka.prototype,"searchTerm",void 0),c([h({type:String,json:{write:!0}})],Ka.prototype,"searchType",void 0),Ka=c([M("esri.rest.support.FullTextSearch")],Ka);const t6=Ka;var Zb;const jk=new Ht({upperLeft:"upper-left",lowerLeft:"lower-left"});let Ya=Zb=class extends B{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new Zb(L({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};c([h({type:Le,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Ya.prototype,"extent",void 0),c([h({type:["view","edit"],json:{write:!0}})],Ya.prototype,"mode",void 0),c([h({type:String,json:{read:jk.read,write:jk.write}})],Ya.prototype,"originPosition",void 0),c([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Ya.prototype,"tolerance",void 0),Ya=Zb=c([M("esri.rest.support.QuantizationParameters")],Ya);const r6=Ya,VX=new Ht({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var Jb;const zk=new Ht({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let zn=Jb=class extends B{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=L(e))}clone(){return new Jb({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:L(this.statisticParameters)})}};c([h({type:Number,json:{write:!0}})],zn.prototype,"maxPointCount",void 0),c([h({type:Number,json:{write:!0}})],zn.prototype,"maxRecordCount",void 0),c([h({type:Number,json:{write:!0}})],zn.prototype,"maxVertexCount",void 0),c([h({type:String,json:{write:!0}})],zn.prototype,"onStatisticField",void 0),c([h({type:String,json:{write:!0}})],zn.prototype,"outStatisticFieldName",void 0),c([h({type:String,json:{read:{source:"statisticType",reader:zk.read},write:{target:"statisticType",writer:zk.write}}})],zn.prototype,"statisticType",void 0),c([h({type:Object})],zn.prototype,"statisticParameters",void 0),c([ge("statisticParameters")],zn.prototype,"writeStatisticParameters",null),zn=Jb=c([M("esri.rest.support.StatisticDefinition")],zn);const GX=zn;var Oy;const WX=new Ht({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Y=Oy=class extends B{static from(e){return J0(Oy,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const n in e){const i=e[n];Array.isArray(i)?r[n]=i.map(s=>s instanceof Date?s.getTime():s):i instanceof Date?r[n]=i.getTime():r[n]=i}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new Oy(L({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Y.MAX_MAX_RECORD_COUNT_FACTOR=5,c([h({json:{write:!0}})],Y.prototype,"aggregateIds",void 0),c([h({type:Boolean,json:{write:!0}})],Y.prototype,"cacheHint",void 0),c([h({type:Boolean,json:{default:!1,write:!0}})],Y.prototype,"compactGeometryEnabled",void 0),c([h({json:{write:!0}})],Y.prototype,"datumTransformation",void 0),c([Lt("datumTransformation")],Y.prototype,"castDatumTransformation",null),c([h({type:Boolean,json:{default:!1,write:!0}})],Y.prototype,"defaultSpatialReferenceEnabled",void 0),c([h({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Y.prototype,"distance",void 0),c([h({type:hs,json:{write:!0}})],Y.prototype,"dynamicDataSource",void 0),c([h({type:String,json:{write:!0}})],Y.prototype,"formatOf3DObjects",void 0),c([h({type:[t6],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],Y.prototype,"fullText",void 0),c([h({type:String,json:{write:!0}})],Y.prototype,"gdbVersion",void 0),c([h({types:sv,json:{read:jc,write:!0}})],Y.prototype,"geometry",void 0),c([h({type:Number,json:{write:!0}})],Y.prototype,"geometryPrecision",void 0),c([h({type:[String],json:{write:!0}})],Y.prototype,"groupByFieldsForStatistics",void 0),c([h({type:String,json:{write:!0}})],Y.prototype,"having",void 0),c([h({type:Date})],Y.prototype,"historicMoment",void 0),c([ge("historicMoment")],Y.prototype,"writeHistoricMoment",null),c([h({type:Number,json:{write:!0}})],Y.prototype,"maxAllowableOffset",void 0),c([h({type:Number,cast:e=>e<1?1:e>Y.MAX_MAX_RECORD_COUNT_FACTOR?Y.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],Y.prototype,"maxRecordCountFactor",void 0),c([h({type:["xyFootprint"],json:{write:!0}})],Y.prototype,"multipatchOption",void 0),c([h({type:Number,json:{read:{source:"resultRecordCount"}}})],Y.prototype,"num",void 0),c([h({json:{write:!0}})],Y.prototype,"objectIds",void 0),c([h({type:[String],json:{write:!0}})],Y.prototype,"orderByFields",void 0),c([h({type:[String],json:{write:!0}})],Y.prototype,"outFields",void 0),c([h({type:he,json:{name:"outSR",write:!0}})],Y.prototype,"outSpatialReference",void 0),c([h({type:[GX],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],Y.prototype,"outStatistics",void 0),c([h({json:{write:!0}})],Y.prototype,"parameterValues",void 0),c([ge("parameterValues")],Y.prototype,"writeParameterValues",null),c([h({type:Q,json:{write:!0}})],Y.prototype,"pixelSize",void 0),c([h({type:r6,json:{write:!0}})],Y.prototype,"quantizationParameters",void 0),c([h({type:[Object],json:{write:!0}})],Y.prototype,"rangeValues",void 0),c([h({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],Y.prototype,"relationParameter",void 0),c([h({type:String,json:{write:!0}})],Y.prototype,"resultType",void 0),c([h({type:Boolean,json:{default:!1,write:!0}})],Y.prototype,"returnCentroid",void 0),c([h({type:Boolean,json:{default:!1,write:!0}})],Y.prototype,"returnDistinctValues",void 0),c([h({type:Boolean,json:{default:!0,write:!0}})],Y.prototype,"returnExceededLimitFeatures",void 0),c([h({type:Boolean,json:{write:!0}})],Y.prototype,"returnGeometry",void 0),c([h({type:Boolean,json:{default:!1,write:!0}})],Y.prototype,"returnQueryGeometry",void 0),c([h({type:Boolean,json:{default:!1,write:!0}})],Y.prototype,"returnM",void 0),c([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Y.prototype,"returnZ",void 0),c([h({type:he,json:{write:!0}})],Y.prototype,"sourceSpatialReference",void 0),c([ne(VX,{ignoreUnknown:!1,name:"spatialRel"})],Y.prototype,"spatialRelationship",void 0),c([h({type:Number,json:{read:{source:"resultOffset"}}})],Y.prototype,"start",void 0),c([ge("start"),ge("num")],Y.prototype,"writeStart",null),c([h({type:String,json:{write:!0}})],Y.prototype,"sqlFormat",void 0),c([h({type:String,json:{write:!0}})],Y.prototype,"text",void 0),c([h({type:Fx,json:{write:!0}})],Y.prototype,"timeExtent",void 0),c([h({type:Boolean,json:{default:!1,write:!0}})],Y.prototype,"timeReferenceUnknownClient",void 0),c([ne(WX,{ignoreUnknown:!1}),h({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null&&this.distance>0}}}}})],Y.prototype,"units",void 0),c([h({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],Y.prototype,"where",void 0),c([ge("where")],Y.prototype,"writeWhere",null),Y=Oy=c([M("esri.rest.support.Query")],Y);const Uk=Y;function _m(e){return!!(e!=null&&typeof e=="object"&&"createQuery"in e&&e.createQuery&&"on"in e&&e.on)}let ss=class extends Ns.EventedAccessor{constructor(t){super(t),this._selectionMap=new Py,this._sources=new X,this._trashCan=[],this._layerEditHandles=new X,this._vizTaskId=0,this.showHighlight=!0}initialize(){this.addHandles([re(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),ea(()=>this.sources,"change",r=>{const n=this._selectionMap;for(const i of r.removed)n.delete(i);this._refreshListeners(),this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);const t=new X;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(r=>"sublayers"in r&&r.sublayers?r.sublayers:null).forEach(r=>{(_m(r)&&!oK(r)||La(r))&&t.add(r)}),this.sources=t)})}destroy(){this._layerEditHandles.drain(Ke)}get selections(){return Array.from(this._selectionMap.entries()).map(t=>{const[r,n]=t;return{layer:r,selection:[...n.selection]}})}get count(){let t=0;for(const r of this._selectionMap.values())t+=r.selection.length;return t}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(t){sa(t,this._sources)}async getSelectedFeatures(t,r={},n="layerView"){const{view:i,selections:s}=this,o=(t!==void 0?s.filter(a=>t.includes(a.layer)):s).filter(a=>a.selection.length>0).map(async a=>{const{layer:l,selection:d}=a,p=La(l)?l.parent:l;if(p==null||!Gk(p))return null;if(n==="layer")return Wk(p,d,r);if(Vk(p))return null;const f=await i.whenLayerView(p).catch(()=>null);return f?Wk(f,d,r):null});return(await Promise.all(o)).filter(a=>a!=null)}updateSelection(t){const r=new Map;for(const[s,o]of this._selectionMap)r.set(s,[...o.selection]);let n=!1;const i=t.current.concat(t.added);for(const s of i){const o=s.sourceLayer,a=s.getObjectId();if(this.sources.includes(o)&&(_m(o)||La(o))&&a!==null){const l=L4(r,o,()=>[]);l.includes(a)||(l.push(a),n=!0)}}for(const s of t.removed){const o=s.sourceLayer,a=s.getObjectId();if(this.sources.includes(o)&&(_m(o)||La(o))&&a!==null){const l=r.get(o),d=l==null?void 0:l.indexOf(a);d!==void 0&&d>=0&&(l==null||l.splice(d,1),n=!0)}}if(n){const{_selectionMap:s,_trashCan:o}=this,a=[];for(const[l,d]of r){const p=s.get(l);p!==void 0&&o.push(p),s.set(l,{selection:d}),a.push({layer:l,selection:d,...JM(p!==void 0?p.selection:[],d)})}this._onSelectionChange(a)}}setSelection(t,r){this._setSelection(t,r)}getSelection(t){const r=this._selectionMap.get(t);return r==null?void 0:r.selection}appendToSelection(t,r){const n=this._selectionMap.get(t),i=n!==void 0?[...n.selection]:[];for(const s of r)i.includes(s)||i.push(s);this._setSelection(t,i)}removeFromSelection(t,r){const n=this._selectionMap.get(t);if(!n)return;const i=[];for(const s of n.selection)r.includes(s)||i.push(s);this._setSelection(t,i)}toggleInSelection(t,r){const n=this._selectionMap.get(t);if(!n||n.selection.length===0)return void this._setSelection(t,r);const i=new Set(n.selection),s=new Set(r),o=H7(i,s);this._setSelection(t,Array.from(o))}clear(){const t=this._selectionMap.values();this._trashCan.push(...t);const r=[];for(const[n,i]of this._selectionMap.entries())r.push({layer:n,added:[],removed:[...i.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(r)}_onSelectionChange(t){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:t})}_refreshVisualization(){var o;if(this.view==null||this.sources==null)return;for(this._vizTaskId++;this._trashCan.length>0;){const a=this._trashCan.pop();(o=a==null?void 0:a.highlightHandle)==null||o.remove()}const{sources:t,view:r,_selectionMap:n,showHighlight:i}=this,s=this._vizTaskId;for(const a of t){const l=n.get(a),d=La(a)?a.parent:a;if(d!=null&&Gk(d)){if(Vk(d))continue;r.whenLayerView(d).then(p=>{var f;(f=l==null?void 0:l.highlightHandle)==null||f.remove(),l!=null&&i&&s===this._vizTaskId&&"highlight"in p&&typeof p.highlight=="function"&&l.selection.length>0&&(l.highlightHandle=p.highlight(l.selection,"selection"))}).catch(()=>{var p;(p=l==null?void 0:l.highlightHandle)==null||p.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(Ke);for(const t of this.sources){const r=La(t)?t.parent:t;if(r!=null&&_m(r)){const n=r.on("edits",i=>{this._handleEditChanges(i,t)});this._layerEditHandles.push(n)}}}_handleEditChanges(t,r){if(t.deletedFeatures!==void 0&&t.deletedFeatures.length>0&&this._selectionMap.has(r)){const n=t.deletedFeatures.filter(i=>i.error==null).map(i=>i.objectId).filter(Wo);this.removeFromSelection(r,n)}}_setSelection(t,r){if(!this.sources.includes(t))throw new Error(`Cannot set selection on layer ${t.title} because it is not in 'sources'`);const n=this._selectionMap.get(t);if(n===void 0||!HX(n,{selection:r})){n!==void 0&&this._trashCan.push(n),this._selectionMap.set(t,{selection:[...r]});const i={layer:t,selection:[...r],...JM(n!==void 0?n.selection:[],r)};this._onSelectionChange([i])}}};c([h({readOnly:!0,nonNullable:!0})],ss.prototype,"selections",null),c([h({readOnly:!0,nonNullable:!0})],ss.prototype,"count",null),c([h({constructOnly:!0,nonNullable:!0})],ss.prototype,"view",void 0),c([h({readOnly:!0,nonNullable:!0})],ss.prototype,"hasSelection",null),c([h()],ss.prototype,"showHighlight",void 0),c([h()],ss.prototype,"sources",null),ss=c([M("esri.views.SelectionManager")],ss);const Vk=e=>{var t;return La(e)?((t=e.parent)==null?void 0:t.isTable)===!0:e.isTable},BX=e=>e.layer!==void 0,Gk=e=>(e==null?void 0:e.when)!==void 0,HX=(e,t)=>{if(e==null&&t==null)return!0;if(e!=null&&t==null||e==null&&t!=null)return!1;if(e!=null&&t!=null&&e.selection!=null&&t.selection!=null){const r=[...e.selection],n=[...t.selection];if(r.length!==n.length)return!1;r.sort(),n.sort();for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1}return!0},Wk=async(e,t,r={})=>{let n;if(BX(e)){const i=e;n=i===void 0?null:await i.queryFeatures(new Uk({...r,objectIds:t})).then(s=>({data:s,layer:e.layer}))}else{const i=e;n=i===void 0?null:await i.queryFeatures(new Uk({...r,objectIds:t})).then(s=>({data:s,layer:i}))}return n},qX=ss;let gh=class extends Ui(ee){constructor(t){super(t),this.accentColor=new ve([255,127,0]),this.textColor=new ve([255,255,255])}};c([h({type:ve,nonNullable:!0})],gh.prototype,"accentColor",void 0),c([h({type:ve,nonNullable:!0})],gh.prototype,"textColor",void 0),gh=c([M("esri.views.Theme")],gh);const Kb=gh;var Bk;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(Bk||(Bk={}));const n6=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],i6={};function s6(e){return!!i6[e]}function ZX(e){for(const t of e)if(!s6(t))return!1;return!0}n6.forEach(e=>{i6[e]=!0});let JX=class{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:r,priority:n},i)=>{var s;return(s=this.inputManager)==null?void 0:s.installHandlers(i,[r],n)})}disconnect(){this.inputManager&&this._handlers.forEach((t,r)=>{var n;return(n=this.inputManager)==null?void 0:n.uninstallHandlers(r)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,r,n,i){const s=Array.isArray(t)?t:t.split(",");if(!ZX(s))return s.some(s6)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,a;Array.isArray(r)?a=r:(o=r,a=[]),typeof n=="function"?o=n:i=n,i=i??qo.DEFAULT;const l=this._createUniqueGroupName(),d=new KX(this.view,s,a,o);this._handlers.set(l,{handler:d,priority:i});for(const p of s){const f=this._handlerCounts.get(p)||0;this._handlerCounts.set(p,f+1)}return this.inputManager&&this.inputManager.installHandlers(l,[d],i),ke(()=>this._removeHandler(l,s))}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,r){if(this._handlers.has(t)){this._handlers.delete(t);for(const n of r){const i=this._handlerCounts.get(n);i===void 0||(i===1?this._handlerCounts.delete(n):this._handlerCounts.set(n,i-1))}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},KX=class extends kt{constructor(t,r,n,i){super(!0),this._latestDragStart=void 0,this.view=t;for(const s of r)switch(s){case"click":this.registerIncoming("click",n,o=>i(XX(t,o)));break;case"double-click":this.registerIncoming("double-click",n,o=>i(eee(t,o)));break;case"immediate-click":this.registerIncoming("immediate-click",n,o=>i(tee(t,o)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",n,o=>i(ree(t,o)));break;case"hold":this.registerIncoming("hold",n,o=>i(nee(t,o)));break;case"drag":this.registerIncoming("drag",n,o=>{const a=this._wrapDrag(o);a&&i(a)});break;case"key-down":this.registerIncoming("key-down",n,o=>i(iee(o)));break;case"key-up":this.registerIncoming("key-up",n,o=>i(see(o)));break;case"pointer-down":this.registerIncoming("pointer-down",n,o=>i(Od(o,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",n,o=>i(Od(o,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",n,o=>i(Od(o,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",n,o=>i(oee(o)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",n,o=>i(aee(o)));break;case"pointer-enter":this.registerIncoming("pointer-enter",n,o=>i(Od(o,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",n,o=>i(Od(o,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",n,o=>{i(lee(o))});break;case"focus":this.registerIncoming("focus",n,o=>{i(YX(o))});break;case"blur":this.registerIncoming("blur",n,o=>{i(QX(o))})}}_wrapDrag(t){const r=t.data,{x:n,y:i}=r.center,{action:s,pointerType:o,button:a}=r;if(s==="start"&&(this._latestDragStart=r),!this._latestDragStart)return;const l=r.pointer.native,d=r.buttons,{cancelable:p,timestamp:f}=t,m={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return s==="end"&&(this._latestDragStart=void 0),{type:"drag",action:s,x:n,y:i,origin:m,pointerType:o,button:a,buttons:d,radius:r.radius,angle:fA(r.angle),native:l,timestamp:f,cancelable:p,stopPropagation:()=>t.stopPropagation(),async:y=>t.async(y),preventDefault:()=>t.preventDefault()}}};function YX(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function QX(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function XX(e,t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,{cancelable:d,timestamp:p}=t;return{type:"click",pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:p,screenPoint:Gt(s,o),mapPoint:yf(e,s,o),eventId:l,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}function eee(e,t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,{cancelable:d,timestamp:p}=t;return{type:"double-click",pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:p,mapPoint:yf(e,s,o),eventId:l,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}function tee(e,t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,d=a.pointerId,{cancelable:p,timestamp:f}=t;return{type:"immediate-click",pointerId:d,pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:f,mapPoint:yf(e,s,o),eventId:l,cancelable:p,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}function ree(e,t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,d=a.pointerId,{cancelable:p,timestamp:f}=t;return{type:"immediate-double-click",pointerId:d,pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:f,mapPoint:yf(e,s,o),eventId:l,cancelable:p,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}function nee(e,t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a}=t.data,{cancelable:l,timestamp:d}=t;return{type:"hold",pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:d,mapPoint:yf(e,s,o),cancelable:l,stopPropagation:()=>t.stopPropagation(),async:p=>t.async(p),preventDefault:()=>t.preventDefault()}}function yf(e,t,r){return e.toMap(Gt(t,r),{exclude:[]})}function iee(e){const{key:t,repeat:r,native:n}=e.data,{cancelable:i,timestamp:s}=e;return{type:"key-down",key:t,repeat:r,native:n,timestamp:s,cancelable:i,stopPropagation:()=>e.stopPropagation(),async:o=>e.async(o),preventDefault:()=>e.preventDefault()}}function see(e){const{key:t,native:r}=e.data,{cancelable:n,timestamp:i}=e;return{type:"key-up",key:t,native:r,timestamp:i,cancelable:n,stopPropagation:()=>e.stopPropagation(),async:s=>e.async(s),preventDefault:()=>e.preventDefault()}}function Od(e,t){const{x:r,y:n,button:i,buttons:s,native:o,eventId:a}=e.data,l=o.pointerId,d=o.pointerType,{cancelable:p,timestamp:f}=e;return{type:t,x:r,y:n,pointerId:l,pointerType:d,button:i,buttons:s,native:o,timestamp:f,eventId:a,cancelable:p,stopPropagation:()=>e.stopPropagation(),async:m=>e.async(m),preventDefault:()=>e.preventDefault()}}function oee(e){const{x:t,y:r,buttons:n,native:i,eventId:s}=e.data.currentEvent,{button:o}=e.data.startEvent,a=e.data.startEvent.native.pointerId,l=e.data.startEvent.native.pointerType,d=e.data.action,p={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:f,timestamp:m}=e;return{type:"pointer-drag",x:t,y:r,pointerId:a,pointerType:l,button:o,buttons:n,action:d,origin:p,native:i,timestamp:m,eventId:s,cancelable:f,stopPropagation:()=>e.stopPropagation(),async:y=>e.async(y),preventDefault:()=>e.preventDefault()}}function aee(e){const{cancelable:t,data:r,timestamp:n}=e,{x:i,y:s,deltaY:o,native:a}=r;return{type:"mouse-wheel",x:i,y:s,deltaY:o,native:a,timestamp:n,cancelable:t,stopPropagation:()=>e.stopPropagation(),async:l=>e.async(l),preventDefault:()=>e.preventDefault()}}function lee(e){const{action:t,state:r,device:n}=e.data,{cancelable:i,timestamp:s}=e,{buttons:o,axes:a}=r;return{type:"gamepad",device:n,timestamp:s,action:t,buttons:o,axes:a,cancelable:i,stopPropagation:()=>e.stopPropagation(),async:l=>e.async(l),preventDefault:()=>e.preventDefault()}}var Ip,Hk,qk;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(Ip||(Ip={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(Hk||(Hk={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(qk||(qk={}));function uee(e){return[e.on("before-add",t=>{const r=t.item;if(r==null||e.includes(r))return z.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();r.onAdd()}),e.on("after-remove",t=>{const r=t.item;r.active&&(r.view.activeTool=null),r.destroy()})]}function Yb(e){return e.visible&&e.getEditableFlag!=null&&e.getEditableFlag(Ip.USER)&&e.getEditableFlag(Ip.MANAGER)}function bi(e){return Gt(e.x,e.y)}function o6(e,t){var n;const r=(n=e instanceof HTMLElement?e:e.surface)==null?void 0:n.getBoundingClientRect();return r?Gt(t.clientX-r.left,t.clientY-r.top):Gt(0,0)}function a6(e,t){return t instanceof Event?o6(e,t):bi(t)}function l6(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let cee=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(t,r){const n=()=>t.stopPropagation();switch(t.type){case"pointer-move":Jk(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(n(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!Kk(t))break;const i=bi(t),s=lu(i,t.pointerType,r.forEachTool);if(s==null)break;const o=s.manipulator,a=s.tool;o==null||a==null||!o.interactive||o.grabbable&&o.grabbableForEvent(t)||!o.grabbing||o.dragging||this._releaseManipulatorBeforeDragging(o,t,r),o!=null&&a!=null&&o.interactive&&o.grabbable&&o.grabbableForEvent(t)&&!o.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:o,tool:a,start:i,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&r.activeTool==null&&(this._revertToNullActiveTool=!0,r.setActiveTool(s.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:i}),n());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,r);break;case"pointer-drag":{if(!Kk(t))break;const i=this._grabbedManipulators.get(t.pointerId),s=i==null?void 0:i.manipulator,o=i==null?void 0:i.tool;if(s==null||o==null)break;const a=bi(t);a.x=Ri(a.x,0,r.view.width),a.y=Ri(a.y,0,r.view.height);const l=i.start,d=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(s.dragging=!0,d?s.events.emit("drag",{action:"update",start:l,screenPoint:a}):s.events.emit("drag",{action:"start",start:l,screenPoint:a,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:o,manipulator:s,start:l}));break;case"end":s.dragging=!1,d&&s.events.emit("drag",{action:"end",start:l,screenPoint:a}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,r)}n();break}case"immediate-click":{const i=bi(t),s=lu(i,t.pointerType,r.forEachTool);if(dee(t)||r.forEachTool(d=>{if((s==null||s.tool!==d||d.automaticManipulatorSelection)&&d.manipulators){let p=!1;d.manipulators.forEach(({manipulator:f})=>{f.selected&&(f.selected=!1,p=!0)}),p&&d.onManipulatorSelectionChanged&&d.onManipulatorSelectionChanged()}}),s==null)break;const{manipulator:o,tool:a}=s;if(!o.interactive)break;o.selectable&&a.automaticManipulatorSelection&&(o.selected=!o.selected,a.onManipulatorSelectionChanged&&a.onManipulatorSelectionChanged());const l=t.native.shiftKey;o.events.emit("immediate-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:l,stopPropagation:n}),nw(o,n);break}case"click":{const i=bi(t),s=lu(i,t.pointerType,r.forEachTool),o=s==null?void 0:s.manipulator;if(o==null||!o.interactive)break;const a=t.native.shiftKey;o.events.emit(t.type,{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:a}),n();break}case"double-click":{const i=bi(t),s=lu(i,t.pointerType,r.forEachTool),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const a=t.native.shiftKey;o.events.emit("double-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:a,stopPropagation:n}),nw(o,n);break}case"immediate-double-click":{const i=bi(t),s=lu(i,t.pointerType,r.forEachTool),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const a=t.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:a,stopPropagation:n}),nw(o,n);break}}this._onFocusChange(r.forEachTool)}_releaseManipulatorBeforeDragging(t,r,n){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:r.pointerType,screenPoint:bi(r)}),this._grabbedManipulators.forEach(({manipulator:i},s)=>{i===t&&this._grabbedManipulators.delete(s)}),this._afterManipulatorRelease(n.setActiveTool)}_handlePointerEnd(t,r){var i;const n=(i=this._grabbedManipulators.get(t.pointerId))==null?void 0:i.manipulator;n!=null&&n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:bi(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorRelease(r.setActiveTool))}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=Zk(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=Zk(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const r=new Set,n=new Set;this._grabbedManipulators.forEach(({tool:i})=>{r.add(i)}),this._hoveredManipulators.forEach(({tool:i})=>{n.add(i)}),t(i=>{i.hasGrabbedManipulators=r.has(i),i.hasHoveredManipulators=n.has(i);const s=this._grabbedManipulators.values(),o=Dj(s,({tool:a})=>a===i);i.firstGrabbedManipulator=o!=null?o.manipulator:null})}clearPointers(t,{forEachTool:r,setActiveTool:n},i=!0,s){const o=(a,l)=>a===t&&(s==null||s===l);this._grabbedManipulators.forEach(({tool:a,manipulator:l,pointerType:d},p)=>{o(a,l)&&(this._grabbedManipulators.delete(p),l.grabbing=!1,l.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:d}))}),this._draggedManipulators.forEach(({tool:a,manipulator:l},d)=>{o(a,l)&&(this._draggedManipulators.delete(d),l.dragging=!1,l.events.emit("drag",{action:"cancel"}))}),i&&this._hoveredManipulators.forEach(({tool:a,manipulator:l},d)=>{o(a,l)&&(this._hoveredManipulators.delete(d),l.hovering=!1)}),this._afterManipulatorRelease(n),this._onFocusChange(r)}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((r,n)=>{this._updateHoveredStateForPointerAtScreenPosition(Gt(r.x,r.y),n,r.pointerType,t)})}handleHoverEvent(t,r){t.type!=="pointer-up"&&t.type!=="immediate-click"&&t.type!=="pointer-move"||!Jk(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(bi(t),t.pointerId,t.pointerType,r)}_updateHoveredStateForPointerAtScreenPosition(t,r,n,i){var a;let s=lu(t,n,i);const o=(a=this._hoveredManipulators.get(r))==null?void 0:a.manipulator;s==null||s.manipulator.interactive||(s=null),s!=null&&o===s.manipulator||(o!=null&&(o.hovering=!1),s!=null?(s.manipulator.hovering=!0,this._hoveredManipulators.set(r,s)):this._hoveredManipulators.delete(r),this._onFocusChange(i))}_afterManipulatorRelease(t){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}};function Zk(e){let t=null;return Z0(e,({manipulator:r})=>!(r==null||!r.interactive)&&(r.grabbing&&r.grabCursor?(t=r.grabCursor,!0):!!r.cursor&&(t=r.cursor,!0))),t}function lu(e,t,r){let n=null;return r(i=>{if(i.manipulators==null||!Yb(i))return!1;const s=i.manipulators.intersect(e,t);return s!=null&&(n={tool:i,manipulator:s},!0)}),n}function Jk(e){return e==="mouse"}function Kk(e){return e.pointerType!=="mouse"||e.button===0}function dee(e){return!!e.native.shiftKey}function nw(e,t){e!=null&&e.consumesClicks&&t()}const Yk="attached",iw="tools",hee=1e3;let Si=class extends ee{constructor(t){super(t),this._updatingHandles=new xl,this._clock=Qc,this._manipulatorState=new cee,this.tools=new X,this.cursor=null,this._interacting=!1,this._interactingTimeout=hee,this._interactingTimeoutHandle=null,this._forEachTool=r=>{for(const n of this.tools.items)if(r(n))return}}initialize(){this.addHandles([this.view.on(n6,t=>{this._handleInputEvent(t)},qo.TOOL),...uee(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(t=>t.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(t!=null&&!this.view.ready)return void z.getLogger(this).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;const r=this.activeTool;this._set("activeTool",t),r!=null&&r.deactivate(),t!=null&&t.activate(),this._removeIncompleteTools(t);for(const n of this.tools){this._updateToolEditableFlag(n);const i=Yb(n);this.activeTool!=null&&i||this._manipulatorState.clearPointers(n,this._manipulatorStateEventArgs,!i)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(t=>t.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=Ke(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){var t;this.view.type==="3d"?this.addHandles([re(()=>{const{state:r}=this.view;return"camera"in r&&r.camera},()=>this._forEachManipulator(r=>r.onViewChange())),(t=this.view.elevationProvider)==null?void 0:t.on("elevation-change",r=>this._forEachManipulator(n=>n.onElevationChange(r)))],Yk):this.addHandles(re(()=>this.view.extent,()=>this._forEachManipulator(r=>r.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(Yk),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(t){this._forEachTool(r=>{r.manipulators&&r.manipulators.forEach(({manipulator:n})=>t(n,r))})}_handleInputEvent(t){let r=!1;const n={...t,stopPropagation:()=>{r=!0,t.stopPropagation()}};this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(n):this._forEachTool(i=>{!r&&i.visible&&i.handleInputEvent(n)}),!r&&t.type==="key-down"&&t.key==="Escape"&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(n,this._manipulatorStateEventArgs),r||this.activeTool==null||this.activeTool.handleInputEventAfter(n),this._manipulatorState.handleHoverEvent(n,this._forEachTool),this._updateCursor(),t.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(iw),this._forEachTool(t=>{if(t instanceof ee){const r=re(()=>[t.cursor,t.visible,t.editable],()=>{Yb(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(r,iw)}t.manipulators&&this.addHandles([t.manipulators.on("after-remove",r=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,r.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],iw)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){var r;(r=t.setEditableFlag)==null||r.call(t,Ip.MANAGER,this.activeTool==null||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;t==null&&this._forEachTool(r=>!(r.cursor==null||!r.visible)&&(t=r.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(r=>(t==null||r!==t)&&!r.created&&r.removeIncompleteOnCancel).forEach(r=>{this.tools.remove(r)})}get test(){}};c([h({constructOnly:!0,nonNullable:!0})],Si.prototype,"view",void 0),c([h({value:null})],Si.prototype,"activeTool",null),c([h({readOnly:!0,type:X})],Si.prototype,"tools",void 0),c([h({readOnly:!0})],Si.prototype,"cursor",void 0),c([h({readOnly:!0})],Si.prototype,"updating",null),c([h()],Si.prototype,"_interacting",void 0),c([h({readOnly:!0})],Si.prototype,"interacting",null),Si=c([M("esri.views.ToolViewManager")],Si);let ku=class extends ee{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":pee.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){const t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return fee[this.deviceType]}};c([h({nonNullable:!0,readOnly:!0})],ku.prototype,"nativeIndex",void 0),c([h({type:String,readOnly:!0})],ku.prototype,"deviceType",null),c([h({type:Number,readOnly:!0})],ku.prototype,"axisThreshold",null),ku=c([M("esri.views.input.gamepad.GamepadInputDevice")],ku);const oT=ku,pee=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),fee={standard:.15,spacemouse:.025,unknown:0};let vh=class extends ee{constructor(...t){super(...t),this.devices=new X,this.enabledFocusMode="document"}};c([h({type:X.ofType(oT),readOnly:!0})],vh.prototype,"devices",void 0),c([h({type:["document","view","none"]})],vh.prototype,"enabledFocusMode",void 0),vh=c([M("esri.views.input.gamepad.GamepadSettings")],vh);const mee=vh;let Iy=class extends ee{constructor(){super(...arguments),this.gamepad=new mee}};c([h({readOnly:!0})],Iy.prototype,"gamepad",void 0),Iy=c([M("esri.views.input.Input")],Iy);const yee=Iy,u6=()=>ye.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;let uo=class extends ee{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};c([h({type:Boolean,nonNullable:!0})],uo.prototype,"enabled",void 0),c([h({type:oT})],uo.prototype,"device",void 0),c([h({type:["pan","zoom"],nonNullable:!0})],uo.prototype,"mode",void 0),c([h({type:["forward-down","forward-up"],nonNullable:!0})],uo.prototype,"tiltDirection",void 0),c([h({type:Number,nonNullable:!0})],uo.prototype,"velocityFactor",void 0),uo=c([M("esri.views.navigation.gamepad.GamepadSettings")],uo);const c6=uo;let Qa=class extends ee{constructor(t){super(t),this.browserTouchPanEnabled=!0,this.gamepad=new c6,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!u6()}};c([h({type:Boolean})],Qa.prototype,"browserTouchPanEnabled",void 0),c([h({type:c6,nonNullable:!0})],Qa.prototype,"gamepad",void 0),c([h({type:Boolean})],Qa.prototype,"momentumEnabled",void 0),c([h({type:Boolean})],Qa.prototype,"mouseWheelZoomEnabled",void 0),Qa=c([M("esri.views.navigation.Navigation")],Qa);const d6=Qa,h6={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},p6=Object.values(h6),f6=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${p6.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),gee=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${p6.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),vee=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function Cfe(e){return f6.test(e)}function aT(e){if(e==null)return null;const t=yr(e),r=(t==null?void 0:t.path.match(f6))||(t==null?void 0:t.path.match(gee));if(!r)return null;const[,n,i,s,o]=r,a=i.indexOf("/");return{title:m6(a!==-1?i.slice(a+1):i),serverType:h6[s.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:n}}}function wee(e){const t=yr(e).path.match(vee);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function m6(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function Ofe(e,t){const r=[];if(e){const n=aT(e);n!=null&&n.title&&r.push(n.title)}if(t){const n=m6(t);r.push(n)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function Ife(e){let t=bn(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function Afe(e,t){return e&&MA(EA(e,t))}function Rfe(e){let{url:t}=e;if(!t)return{url:t};t=EA(t,e.logger);const r=yr(t),n=aT(r.path);let i;if(n!=null)n.sublayer!=null&&e.layer.layerId==null&&(i=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const s=wee(r.path);s!=null&&(t=s.serviceUrl,i=s.sublayerId)}return{url:MA(t),layerId:i}}function Lfe(e,t,r,n,i){Gc(t,n,"url",i),n.url&&e.layerId!=null&&(n.url=X0(n.url,r,e.layerId.toString()))}function Nfe(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return r&&(n||i||s)}var Qk;function _ee(e){var n;if(e.type==="integrated-mesh-3dtiles")return null;const t=e.url?aT(e.url):void 0;return!(((n=e.spatialReference)==null?void 0:n.vcsWkid)==null&&t!=null&&t.serverType==="ImageServer")&&y6(e)&&e.heightModelInfo?e.heightModelInfo:bee(e)?zx.deriveUnitFromSR($ee,e.spatialReference):null}function y6(e){return"heightModelInfo"in e}function g6(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function bee(e){return g6(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):v6(e)}function See(e){return e.layers!=null||v6(e)||g6(e)||y6(e)}function v6(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(Qk||(Qk={}));const $ee=new zx({heightModel:"gravity-related-height"});var a0;(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(a0||(a0={}));let Qb,sw=null;async function xee(e){sw||(sw=U(()=>import("./geometryServiceUtils-COgTHNZN.js"),[]).then(t=>Qb=t)),await sw,lt(e)}async function w6(e,t,r,n){if(!e)return null;const i=e.spatialReference;return fa()||ji(i,t)?Xl(e,t):Qb?Qb.projectGeometry(e,t,r,n):(await Promise.race([xee(n),ia(n)]),w6(e,t,r,n))}let Oe=class extends ee{constructor(t){super(t),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=Il(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var n,i,s,o;const t=(n=this.map)==null?void 0:n.call(this),r=[];return this.priorityCollection!=null&&r.push(this.priorityCollection),r.push({parent:t==null?void 0:t.basemap,layers:(i=t==null?void 0:t.basemap)==null?void 0:i.baseLayers},{layers:t==null?void 0:t.layers},{parent:t==null?void 0:t.ground,layers:(s=t==null?void 0:t.ground)==null?void 0:s.layers},{parent:t==null?void 0:t.basemap,layers:(o=t==null?void 0:t.basemap)==null?void 0:o.referenceLayers}),r}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const{layers:t,updating:r}=this._allLayers;let n=null;for(const s of t){const o=this._getSupportedSpatialReferences(s);if(o.length>0){const a=this._narrowDownSpatialReferenceCandidates(n,o);a!=null&&(n=a)}if(n!=null&&n.length===1)break}if(r&&(n==null||n.length!==1))return{updating:!0};const i=this._pickSpatialReferenceCandidate(n);return{spatialReference:(i==null?void 0:i.spatialReference)??null,viewingMode:(i==null?void 0:i.viewingMode)??null,updating:!1}}get _tileInfoTask(){var n,i,s,o,a,l,d;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:t,updating:r}=this._collectLayers([{parent:(i=(n=this.map)==null?void 0:n.call(this))==null?void 0:i.basemap,layers:(a=(o=(s=this.map)==null?void 0:s.call(this))==null?void 0:o.basemap)==null?void 0:a.baseLayers},{layers:(d=(l=this.map)==null?void 0:l.call(this))==null?void 0:d.layers}]);if(t&&t.length>0&&"tileInfo"in t[0]){const p=t[0].tileInfo;return{tileInfo:p!=null&&p.spatialReference.equals(this.spatialReference)?p:null,updating:!1}}return{updating:r}}get _heightModelInfoTask(){var n,i,s;if(!this.required.heightModelInfo||this.suspended&&((n=this._get("_heightModelInfoTask"))!=null&&n.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};const{layers:t,updating:r}=this._allLayers;for(const o of t)if(See(o)){const a=_ee(o);if(a)return{heightModelInfo:a,vcsWkid:(i=o.spatialReference)==null?void 0:i.vcsWkid,latestVcsWkid:(s=o.spatialReference)==null?void 0:s.latestVcsWkid,updating:!1}}return{updating:r}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=this._allLayers,r=t.updating,n=[];for(const i of t.layers){const s="fullExtents"in i&&i.fullExtents||(i.fullExtent!=null?[i.fullExtent]:[]),o=this.requiresExtentInSpatialReference?null:s[0],a=s.find(l=>l.spatialReference.equals(this.spatialReference))??o;if(a)return{candidates:[{extent:a,layer:i}],updating:!1};if(this._getSupportedSpatialReferences(i).length>0)for(const l of s)n.push({extent:l,layer:i})}return{candidates:n,updating:r}}get _extentTask(){const{candidates:t,updating:r}=this._extentCandidatesTask;if(r)return{updating:r};if(t==null||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const n=this._pickExtentCandidate(t),i=this.spatialReference;return n.extent.equals(this._projectExtentTask.input)&&i.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=Il(this._projectExtentTask.task)),this._projectExtentTask={input:n.extent.clone(),output:null,spatialReference:i.clone(),task:cx(async s=>{try{const o=await w6(n.extent,i,"portalItem"in n.layer?n.layer.portalItem:void 0,s);this._projectExtentTask={...this._projectExtentTask,task:null,output:o}}catch{if(Ps(s))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,r){if(t==null)return r;const n=new Array;for(const i of t)for(const s of r){if(!i.spatialReference.equals(s.spatialReference))continue;const o=Mee(i.viewingMode,s.viewingMode);if(o!==!1){n.push({spatialReference:i.spatialReference,viewingMode:o});break}}return n.length>0?n:null}_pickSpatialReferenceCandidate(t){const r=this.defaultSpatialReference;return t==null||t.length<1?r?{spatialReference:r,viewingMode:null}:null:(r!=null&&t.length>1&&t.some(({spatialReference:n})=>n.equals(r))&&(t=t.filter(({spatialReference:n})=>n.equals(r))),t.length>1&&t.some(({viewingMode:n})=>n!==a0.Local)&&(t=t.filter(({viewingMode:n})=>n!==a0.Local)),t[0])}_getSupportedSpatialReferences(t){const r="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(r.length===0)return[];const n=[];for(const i of r){const s=this.getSpatialReferenceSupport(i,t);if(s!=null){const o=s.constraints??[{spatialReference:i,viewingMode:null}];for(const{spatialReference:a,viewingMode:l}of o)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!a.equals(this.userSpatialReference)||n.push({spatialReference:a,viewingMode:l})}}return n}_pickExtentCandidate(t){const r=this.spatialReference;return t.find(({extent:n})=>r.equals(n.spatialReference))||t[0]}_collectLayers(t){var n;if(this._loadMaybe((n=this.map)==null?void 0:n.call(this))!=="loaded")return{layers:[],updating:!0};const r=new Tee;for(const i of t)if(this._collectCollection(i,r),r.preloading===this.sourcePreloadCount)break;return{layers:r.layers,updating:r.updating}}_collectCollection(t,r){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return r.updating=!0,void++r.preloading;case"failed":return}for(const n of t.layers){switch(this._loadMaybe(n)){case"failed":continue;case"loading":r.updating=!0,++r.preloading;break;case"loaded":r.updating||r.layers.push(n),"layers"in n&&this._collectCollection({layers:n.layers},r)}if(r.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&t.loadStatus!=null?t.loadStatus==="not-loaded"?(t.load().catch(r=>{Mn(r)||console.log(r)}),"loading"):t.loadStatus:"loaded"}};c([h()],Oe.prototype,"required",void 0),c([h({constructOnly:!0})],Oe.prototype,"map",void 0),c([h({constructOnly:!0})],Oe.prototype,"getSpatialReferenceSupport",void 0),c([h()],Oe.prototype,"defaultSpatialReference",void 0),c([h()],Oe.prototype,"userSpatialReference",void 0),c([h()],Oe.prototype,"sourcePreloadCount",void 0),c([h()],Oe.prototype,"priorityCollection",void 0),c([h()],Oe.prototype,"requiresExtentInSpatialReference",void 0),c([h()],Oe.prototype,"suspended",void 0),c([h({readOnly:!0})],Oe.prototype,"ready",null),c([h({readOnly:!0})],Oe.prototype,"heightModelInfoReady",null),c([h({readOnly:!0})],Oe.prototype,"spatialReference",null),c([h({readOnly:!0})],Oe.prototype,"extent",null),c([h({readOnly:!0})],Oe.prototype,"heightModelInfo",null),c([h({readOnly:!0})],Oe.prototype,"vcsWkid",null),c([h({readOnly:!0})],Oe.prototype,"latestVcsWkid",null),c([h({readOnly:!0})],Oe.prototype,"viewingMode",null),c([h({readOnly:!0})],Oe.prototype,"tileInfo",null),c([h({readOnly:!0})],Oe.prototype,"mapCollections",null),c([h({readOnly:!0})],Oe.prototype,"_allLayers",null),c([h({readOnly:!0})],Oe.prototype,"_spatialReferenceTask",null),c([h({readOnly:!0})],Oe.prototype,"_tileInfoTask",null),c([h({readOnly:!0})],Oe.prototype,"_heightModelInfoTask",null),c([h({readOnly:!0})],Oe.prototype,"_extentCandidatesTask",null),c([h()],Oe.prototype,"_extentTask",null),c([h()],Oe.prototype,"_projectExtentTask",void 0),Oe=c([M("esri.views.support.DefaultsFromMap")],Oe);let Tee=class{constructor(){this.layers=new Array,this.preloading=-1,this.updating=!1}};function Mee(e,t){return e!=null?t!=null?e===t&&e:e:t}var wh;let J=wh=class extends Ns.EventedMixin(Lx(ee)){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new Bp,this.updatingHandles=new xl,this.allLayerViews=new $p({getCollections:()=>{var t,r,n;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(r=this.groundView)==null?void 0:r.layerViews,this.layerViews,(n=this.basemapView)==null?void 0:n.referenceLayerViews]},getChildrenFunction:kee}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new Qh,this.analyses=new Xg,this.typeSpecificPreconditionsReady=!0,this.layerViews=new X,this.magnifier=new YN,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new yee,this.navigation=new d6,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new JX(this),this.persistableViewModels=new X,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this.theme=null,this.handles.add(re(()=>this.preconditionsReady,t=>{var n,i;const r=this.ready;if(t?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,wh.views.add(this)):(this._lockedSpatialReference=null,wh.views.remove(this)),this.notifyChange("spatialReference"),!t&&r)(n=this.toolViewManager)==null||n.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),(i=this.layerViewManager)==null||i.clear(),this._teardown();else if(t&&!r){try{this._startup()}catch(s){return void queueMicrotask(()=>{this.fatalError=new j("startup-error",null,s)})}this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach()}},zl))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,xp(()=>this.ready)))),this.basemapView=new lo({view:this}),this.layerViewManager=new IX({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new Si({view:this}),this._setupSpatialReferenceLogger(),this.selectionManager=new qX({view:this}),this.addHandles([re(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},fn),re(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},zl),re(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},fn)])}_setupSpatialReferenceLogger(){let e=null;this.addHandles([re(()=>{var t;return(t=this.defaultsFromMap)==null?void 0:t.ready},t=>{var n;const r=((n=this.map)==null?void 0:n.allLayers.length)>0;if(t&&!this.spatialReference&&r){if(e!=null)return;const i=ke(()=>e=Il(e));e=cx(async s=>{try{await k$(this.spatialReferenceWarningDelay,null,s)}catch{return}finally{e=null}z.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.addHandles(i,"spatial-reference-logger-task")}else this.removeHandles("spatial-reference-logger-task")},{sync:!0})])}destroy(){var e,t;this.destroyed||(wh.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=He(this.graphics),this.analyses=He(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),He(this.analysisViewManager),this.toolViewManager=He(this.toolViewManager),this.layerViewManager=He(this.layerViewManager),this.selectionManager=He(this.selectionManager),this.basemapView=He(this.basemapView),(e=this.groundView)==null||e.destroy(),(t=this.layerViews)==null||t.forEach(r=>r.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=He(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return z.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e;return(e=this.toolViewManager)==null?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Oe({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,t)=>this.getSpatialReferenceSupport(e,t),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||oa.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(z.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),oa.isLoadable(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get spatialReference(){var t,r;const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&((r=(t=this.defaultsFromMap)==null?void 0:t.required)!=null&&r.heightModelInfo)){const n=e.clone();return n.vcsWkid=this.defaultsFromMap.vcsWkid,n.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,n}return e}set spatialReference(e){const t=!Et(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??Fi}set timeZone(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),r=new Set(Intl.supportedValuesOf("timeZone").map(n=>n.toLowerCase()));this._userTimeZone=e,e===Fi||e===$x||t.has(e.toLowerCase())||r.has(e.toLowerCase())||z.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){var e;return(e=this.toolViewManager)==null?void 0:e.tools}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){var e;return((e=this.toolViewManager)==null?void 0:e.cursor)??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new Kb}whenLayerView(e){var t;return((t=this.layerViewManager)==null?void 0:t.whenLayerView(e))??Promise.reject()}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)??null}getDefaultTimeZone(){return null}importLayerView(e){throw new j("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,t){return this.isResolved()&&!this.ready&&z.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(Is(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};J.views=new X,c([h()],J.prototype,"_userSpatialReference",void 0),c([h()],J.prototype,"activeTool",null),c([h({readOnly:!0})],J.prototype,"allLayerViews",void 0),c([h()],J.prototype,"groundView",void 0),c([h()],J.prototype,"animation",null),c([h()],J.prototype,"basemapView",void 0),c([h()],J.prototype,"center",null),c([h({readOnly:!0})],J.prototype,"_defaultsFromMapSettings",null),c([h()],J.prototype,"defaultsFromMap",null),c([h()],J.prototype,"fatalError",void 0),c([h({type:Le})],J.prototype,"extent",null),c([h(Mk(Qh,"graphics"))],J.prototype,"graphics",void 0),c([h(Mk(Xg,"analyses"))],J.prototype,"analyses",void 0),c([h({readOnly:!0,type:zx})],J.prototype,"heightModelInfo",null),c([h({readOnly:!0})],J.prototype,"interacting",null),c([h({readOnly:!0})],J.prototype,"navigating",null),c([h({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],J.prototype,"preconditionsReady",null),c([h({readOnly:!0})],J.prototype,"typeSpecificPreconditionsReady",void 0),c([h({type:X,readOnly:!0})],J.prototype,"layerViews",void 0),c([h()],J.prototype,"resolution",null),c([h({type:YN})],J.prototype,"magnifier",void 0),c([h({value:null,type:eN})],J.prototype,"map",null),c([h()],J.prototype,"padding",void 0),c([h({readOnly:!0})],J.prototype,"ready",void 0),c([h({type:he})],J.prototype,"spatialReference",null),c([h()],J.prototype,"spatialReferenceWarningDelay",void 0),c([h()],J.prototype,"stationary",null),c([h({readOnly:!0})],J.prototype,"supportsGround",void 0),c([h({type:Fx})],J.prototype,"timeExtent",void 0),c([h({type:String,nonNullable:!0})],J.prototype,"timeZone",null),c([h()],J.prototype,"tools",null),c([h()],J.prototype,"toolViewManager",void 0),c([h({readOnly:!0})],J.prototype,"type",void 0),c([h({type:Number})],J.prototype,"scale",void 0),c([h({readOnly:!0})],J.prototype,"updating",void 0),c([h({readOnly:!0})],J.prototype,"initialExtentRequired",void 0),c([h({readOnly:!0})],J.prototype,"initialExtent",null),c([h()],J.prototype,"cursor",null),c([h({readOnly:!0})],J.prototype,"input",void 0),c([h({type:d6,nonNullable:!0})],J.prototype,"navigation",void 0),c([h()],J.prototype,"layerViewManager",void 0),c([h()],J.prototype,"analysisViewManager",void 0),c([h()],J.prototype,"selectionManager",void 0),c([h()],J.prototype,"width",void 0),c([h()],J.prototype,"height",void 0),c([h({readOnly:!0})],J.prototype,"resizing",void 0),c([h({value:null,readOnly:!0})],J.prototype,"size",null),c([h({readOnly:!0})],J.prototype,"suspended",void 0),c([h({readOnly:!0})],J.prototype,"viewEvents",void 0),c([h({readOnly:!0})],J.prototype,"persistableViewModels",void 0),c([h()],J.prototype,"_isValid",void 0),c([h()],J.prototype,"_readyCycleForced",void 0),c([h()],J.prototype,"_lockedSpatialReference",void 0),c([h()],J.prototype,"_userTimeZone",void 0),c([h()],J.prototype,"_lockedTimeZone",void 0),c([h({type:Kb})],J.prototype,"theme",void 0),c([h({readOnly:!0,type:Kb})],J.prototype,"effectiveTheme",null),J=wh=c([M("esri.views.View")],J);const Eee=J;function kee(e){return e.layerViews}function et(){return[0,0]}function Pee(e){return[e[0],e[1]]}function gf(e,t){return[e,t]}function Cee(e,t=et()){const r=Math.min(2,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function Oee(e,t){return new Float64Array(e,t,2)}function _6(){return et()}function b6(){return gf(1,1)}function S6(){return gf(1,0)}function $6(){return gf(0,1)}const Iee=_6(),Aee=b6(),Ree=S6(),Lee=$6();Object.freeze(Object.defineProperty({__proto__:null,ONES:Aee,UNIT_X:Ree,UNIT_Y:Lee,ZEROS:Iee,clone:Pee,create:et,createView:Oee,fromArray:Cee,fromValues:gf,ones:b6,unitX:S6,unitY:$6,zeros:_6},Symbol.toStringTag,{value:"Module"}));let co=class extends Jg{constructor(t){super(t),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=Tn(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(t=this._resolver)==null||t.reject(new j("ViewAnimation stopped")))}finish(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(t=this._resolver)==null||t.resolve())}update(t,r){r||(r=ha(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",r)}};c([h({readOnly:!0})],co.prototype,"done",null),c([h({readOnly:!0,type:String})],co.prototype,"state",void 0),c([h()],co.prototype,"target",void 0),co=c([M("esri.views.ViewAnimation")],co),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(co||(co={}));const Xb=co;function $c(e,t){return e[0]=t[0],e[1]=t[1],e}function Ct(e,t,r){return e[0]=t,e[1]=r,e}function x6(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function Ap(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function T6(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function M6(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function Nee(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function Dee(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function Fee(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function jee(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function zee(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function vf(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function Uee(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function Av(e,t){const r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function l0(e,t){const r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function u0(e){const t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function E6(e){const t=e[0],r=e[1];return t*t+r*r}function k6(e,t){return e[0]=-t[0],e[1]=-t[1],e}function Vee(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function eS(e,t){const r=t[0],n=t[1];let i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function P6(e,t){return e[0]*t[0]+e[1]*t[1]}function C6(e,t,r){const n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function Gee(e,t,r,n){const i=t[0],s=t[1];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e}function Wee(e,t){t=t||1;const r=2*D$()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function Bee(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function Mi(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function Hee(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function qee(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}function Zee(e,t,r,n){const i=t[0]-r[0],s=t[1]-r[1],o=Math.sin(n),a=Math.cos(n);return e[0]=i*a-s*o+r[0],e[1]=i*o+s*a+r[1],e}function Jee(e,t){const r=e[0],n=e[1],i=t[0],s=t[1];let o=r*r+n*n;o>0&&(o=1/Math.sqrt(o));let a=i*i+s*s;a>0&&(a=1/Math.sqrt(a));const l=(r*i+n*s)*o*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function Kee(e){return"vec2("+e[0]+", "+e[1]+")"}function Yee(e,t){return e[0]===t[0]&&e[1]===t[1]}function Qee(e,t){const r=e[0],n=e[1],i=t[0],s=t[1],o=Cr();return Math.abs(r-i)<=o*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-s)<=o*Math.max(1,Math.abs(n),Math.abs(s))}function Xee(e,t,r,n,i){let s=t[0]-r[0],o=t[1]-r[1];const a=(n[0]*s+n[1]*o)*(i-1);return s=n[0]*a,o=n[1]*a,e[0]=t[0]+s,e[1]=t[1]+o,e}const ete=u0,lT=Ap,tte=T6,rte=M6,nte=Av,ite=l0,ste=E6;Object.freeze(Object.defineProperty({__proto__:null,add:x6,angle:Jee,ceil:Nee,copy:$c,cross:C6,dist:nte,distance:Av,div:rte,divide:M6,dot:P6,equals:Qee,exactEquals:Yee,floor:Dee,inverse:Vee,len:ete,length:u0,lerp:Gee,max:jee,min:Fee,mul:tte,multiply:T6,negate:k6,normalize:eS,projectAndScale:Xee,random:Wee,rotate:Zee,round:zee,scale:vf,scaleAndAdd:Uee,set:Ct,sqrDist:ite,sqrLen:ste,squaredDistance:l0,squaredLength:E6,str:Kee,sub:lT,subtract:Ap,transformMat2:Bee,transformMat2d:Mi,transformMat3:Hee,transformMat4:qee},Symbol.toStringTag,{value:"Module"}));function ote(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function ate(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function lte(e,t,r,n,i,s,o){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e}function uT(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5];let l=r*s-n*i;return l?(l=1/l,e[0]=s*l,e[1]=-n*l,e[2]=-i*l,e[3]=r*l,e[4]=(i*a-s*o)*l,e[5]=(n*o-r*a)*l,e):null}function ute(e){return e[0]*e[3]-e[1]*e[2]}function O6(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],d=r[0],p=r[1],f=r[2],m=r[3],y=r[4],g=r[5];return e[0]=n*d+s*p,e[1]=i*d+o*p,e[2]=n*f+s*m,e[3]=i*f+o*m,e[4]=n*y+s*g+a,e[5]=i*y+o*g+l,e}function Rv(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],d=Math.sin(r),p=Math.cos(r);return e[0]=n*p+s*d,e[1]=i*p+o*d,e[2]=n*-d+s*p,e[3]=i*-d+o*p,e[4]=a,e[5]=l,e}function cT(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],d=r[0],p=r[1];return e[0]=n*d,e[1]=i*d,e[2]=s*p,e[3]=o*p,e[4]=a,e[5]=l,e}function Rp(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],d=r[0],p=r[1];return e[0]=n,e[1]=i,e[2]=s,e[3]=o,e[4]=n*d+s*p+a,e[5]=i*d+o*p+l,e}function I6(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function A6(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function dT(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function cte(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function dte(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function hte(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function R6(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function pte(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function fte(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function mte(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function yte(e,t){const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=t[0],d=t[1],p=t[2],f=t[3],m=t[4],y=t[5],g=Cr();return Math.abs(r-l)<=g*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-d)<=g*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-p)<=g*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(s-f)<=g*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(o-m)<=g*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-y)<=g*Math.max(1,Math.abs(a),Math.abs(y))}const gte=O6,vte=R6;Object.freeze(Object.defineProperty({__proto__:null,add:hte,copy:ote,determinant:ute,equals:yte,exactEquals:mte,frob:dte,fromRotation:I6,fromScaling:A6,fromTranslation:dT,identity:ate,invert:uT,mul:gte,multiply:O6,multiplyScalar:pte,multiplyScalarAndAdd:fte,rotate:Rv,scale:cT,set:lte,str:cte,sub:vte,subtract:R6,translate:Rp},Symbol.toStringTag,{value:"Module"}));function Ss(){return[1,0,0,1,0,0]}function wte(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function _te(e,t,r,n,i,s){return[e,t,r,n,i,s]}function bte(e,t){return new Float64Array(e,t,6)}const Ste=Ss();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:Ste,clone:wte,create:Ss,createView:bte,fromValues:_te},Symbol.toStringTag,{value:"Module"}));const bm={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Zn({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:he.WebMercator}),minus180Line:new Zn({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:he.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Zn({paths:[[[180,-180],[180,180]]],spatialReference:he.WGS84}),minus180Line:new Zn({paths:[[[-180,-180],[-180,180]]],spatialReference:he.WGS84})}};function gl(e,t){return Math.ceil((e-t)/(2*t))}function L6(e,t){const r=Xh(e);for(const n of r)for(const i of n)i[0]+=t;return e}function Xh(e){return ax(e)?e.rings:e.paths}function Lv(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function wf(e){return typeof e=="string"?yr(e):L(e)}function Nv(e,t,r){const n={};for(const i in e){if(i==="declaredClass")continue;const s=e[i];if(s!=null&&typeof s!="function")if(Array.isArray(s))n[i]=s.map(o=>Nv(o));else if(typeof s=="object")if(s.toJSON){const o=s.toJSON(r==null?void 0:r[i]);n[i]=JSON.stringify(o)}else n[i]=JSON.stringify(s);else n[i]=s}return n}async function $te(e,t,r,n){const i=wf(e),s=t[0].spatialReference,o={...n,responseType:"json",query:{...i.query,f:"json",sr:Lg(s),target:JSON.stringify({geometryType:rf(t[0]),geometries:t}),cutter:JSON.stringify(r)}},a=await at(i.path+"/cut",o),{cutIndexes:l,geometries:d=[]}=a.data;return{cutIndexes:l,geometries:d.map(p=>{const f=jc(p);return f.spatialReference=s,f})}}function xte(e){return{geometryType:rf(e[0]),geometries:e.map(t=>t.toJSON())}}function N6(e,t,r){const n=mW(t);return e.map(i=>{const s=n.fromJSON(i);return s.spatialReference=r,s})}async function Tte(e,t,r){const n=typeof e=="string"?yr(e):e,i=t[0].spatialReference,s=rf(t[0]),o={...r,query:{...n.query,f:"json",sr:Lg(i),geometries:JSON.stringify(xte(t))}},{data:a}=await at(n.path+"/simplify",o);return N6(a.geometries,s,i)}const D6=()=>z.getLogger("esri.geometry.support.normalizeUtils");function Mte(e){return e.type==="polygon"}function Ete(e){return e[0].type==="polygon"}function kte(e){return e[0].type==="polyline"}function Xk(e){const t=[];let r=0,n=0;for(let i=0;i<e.length;i++){const s=e[i];let o=null;for(let a=0;a<s.length;a++)o=s[a],t.push(o),a===0?(r=o[0],n=r):(r=Math.min(r,o[0]),n=Math.max(n,o[0]));o&&t.push([(r+n)/2,0])}return t}function Pte(e,t){if(!(e instanceof Zn||e instanceof Di)){const i="straightLineDensify: the input geometry is neither polyline nor polygon";throw D6().error(i),new j(i)}const r=Xh(e),n=[];for(const i of r){const s=[];n.push(s),s.push([i[0][0],i[0][1]]);for(let o=0;o<i.length-1;o++){const a=i[o][0],l=i[o][1],d=i[o+1][0],p=i[o+1][1],f=Math.sqrt((d-a)*(d-a)+(p-l)*(p-l)),m=(p-l)/f,y=(d-a)/f,g=f/t;if(g>1){for(let _=1;_<=g-1;_++){const $=_*t,x=y*$+a,T=m*$+l;s.push([x,T])}const v=(f+Math.floor(g-1)*t)/2,S=y*v+a,w=m*v+l;s.push([S,w])}s.push([d,p])}}return Mte(e)?new Di({rings:n,spatialReference:e.spatialReference}):new Zn({paths:n,spatialReference:e.spatialReference})}function eP(e,t,r){if(t){const n=Pte(e,1e6);e=Ud(n,!0)}return r&&(e=L6(e,r)),e}function tP(e,t,r){if(Array.isArray(e)){const n=e[0];if(n>t){const i=gl(n,t);e[0]=n+i*(-2*t)}else if(n<r){const i=gl(n,r);e[0]=n+i*(-2*r)}}else{const n=e.x;if(n>t){const i=gl(n,t);e=e.clone().offset(i*(-2*t),0)}else if(n<r){const i=gl(n,r);e=e.clone().offset(i*(-2*r),0)}}return e}function Cte(e,t){let r=-1;for(let n=0;n<t.cutIndexes.length;n++){const i=t.cutIndexes[n],s=t.geometries[n],o=Xh(s);for(let a=0;a<o.length;a++){const l=o[a];l.some(d=>{if(d[0]<180)return!0;{let p=0;for(let m=0;m<l.length;m++){const y=l[m][0];p=y>p?y:p}p=Number(p.toFixed(9));const f=-360*gl(p,180);for(let m=0;m<l.length;m++){const y=s.getPoint(a,m);s.setPoint(a,m,y.clone().offset(f,0))}return!0}})}if(i===r){if(Ete(e))for(const a of Xh(s))e[i]=e[i].addRing(a);else if(kte(e))for(const a of Xh(s))e[i]=e[i].addPath(a)}else r=i,e[i]=s}return e}async function Ote(e,t,r){if(!Array.isArray(e))return Ote([e],t);t&&typeof t!="string"&&D6().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const n=typeof t=="string"?t:(t==null?void 0:t.url)??ye.geometryServiceUrl;let i,s,o,a,l,d,p,f,m=0;const y=[],g=[];for(const x of e)if(x!=null)if(i||(i=x.spatialReference,s=Or(i),o=i.isWebMercator,d=o?102100:4326,a=bm[d].maxX,l=bm[d].minX,p=bm[d].plus180Line,f=bm[d].minus180Line),s)if(x.type==="mesh")g.push(x);else if(x.type==="point")g.push(tP(x.clone(),a,l));else if(x.type==="multipoint"){const T=x.clone();T.points=T.points.map(E=>tP(E,a,l)),g.push(T)}else if(x.type==="extent"){const T=x.clone()._normalize(!1,!1,s);g.push(T.rings?new Di(T):T)}else if(x.extent){const T=x.extent,E=gl(T.xmin,l)*(2*a);let P=E===0?x.clone():L6(x.clone(),E);T.offset(E,0);let{xmin:O,xmax:A}=T;O=Number(O.toFixed(9)),A=Number(A.toFixed(9)),T.intersects(p)&&A!==a?(m=A>m?A:m,P=eP(P,o),y.push(P),g.push("cut")):T.intersects(f)&&O!==l?(m=A*(2*a)>m?A*(2*a):m,P=eP(P,o,360),y.push(P),g.push("cut")):g.push(P)}else g.push(x.clone());else g.push(x);else g.push(x);let v=gl(m,a),S=-90;const w=v,_=new Zn;for(;v>0;){const x=360*v-180;_.addPath([[x,S],[x,-1*S]]),S*=-1,v--}if(y.length>0&&w>0){const x=Cte(y,await $te(n,y,_,r)),T=[],E=[];for(let A=0;A<g.length;A++){const R=g[A];if(R!=="cut")E.push(R);else{const G=x.shift(),Z=e[A];Z!=null&&Z.type==="polygon"&&Z.rings&&Z.rings.length>1&&G.rings.length>=Z.rings.length?(T.push(G),E.push("simplify")):E.push(o?Ho(G):G)}}if(!T.length)return E;const P=await Tte(n,T,r),O=[];for(let A=0;A<E.length;A++){const R=E[A];R!=="simplify"?O.push(R):O.push(o?Ho(P.shift()):P.shift())}return O}const $=[];for(let x=0;x<g.length;x++){const T=g[x];if(T!=="cut")$.push(T);else{const E=y.shift();$.push(o===!0?Ho(E):E)}}return $}function Ite(e){if(!e)return null;const t=e.extent;if(!t)return null;const r=e.spatialReference&&Or(e.spatialReference);if(!r)return t;const[n,i]=r.valid,s=2*i,{width:o}=t;let a,{xmin:l,xmax:d}=t;if([l,d]=[d,l],e.type==="extent"||o===0||o<=i||o>s||l<n||d>i)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;a=Xk(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;a=Xk(e.paths);break;case"multipoint":a=e.points}const p=t.clone();for(let f=0;f<a.length;f++){let m=a[f][0];m<0?(m+=i,d=Math.max(m,d)):(m-=i,l=Math.min(m,l))}return p.xmin=l,p.xmax=d,p.width<o?(p.xmin-=i,p.xmax-=i,p):t}function hT(e,t,r){const n=Or(r);if(n==null)return e;const[i,s]=n.valid,o=2*s;let a=0,l=0;t>s?a=Math.ceil(Math.abs(t-s)/o):t<i&&(a=-Math.ceil(Math.abs(t-i)/o)),e>s?l=Math.ceil(Math.abs(e-s)/o):e<i&&(l=-Math.ceil(Math.abs(e-i)/o));let d=e+(a-l)*o;const p=d-t;return p>s?d-=o:p<i&&(d+=o),d}function zfe(e,t){const r=Or(t);if(r){const[n,i]=r.valid,s=i-n;if(e<n)for(;e<n;)e+=s;if(e>i)for(;e>i;)e-=s}return e}const F6=96,j6=39.37,Ate=180/Math.PI;function z6(e){return e.wkid?e:e.spatialReference||he.WGS84}function pT(e,t){return t.type?Ct(e,t.x,t.y):$c(e,t)}function U6(e){return Vi(e)}function Dv(e,t,r=0){let n=e.width,i=e.height;if(r!==0){const a=Y0(r),l=Math.abs(Math.cos(a)),d=Math.abs(Math.sin(a));n=e.width*l+e.height*d,i=e.width*d+e.height*l}const s=Math.max(1,t[0]),o=Math.max(1,t[1]);return Math.max(n/s,i/o)*Ute(e.spatialReference)}async function _h(e,t,r,n){var a,l;let i,s;if(!e||Array.isArray(e)&&!e.length)return null;if(X.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const d=e.every(m=>"attributes"in m),p=e.some(m=>!m.geometry);let f=e;if(d&&p&&t&&t.allLayerViews){const m=new Map;for(const S of e){const w=S.layer,_=m.get(w)||[],$=S.attributes[w.objectIdField];$!=null&&_.push($),m.set(w,_)}const y=[];m.forEach((S,w)=>{const _=t.allLayerViews.find($=>$.layer.id===w.id);if(_&&"queryFeatures"in _){const $=w.createQuery();$.objectIds=S,$.returnGeometry=!0,y.push(_.queryFeatures($))}});const g=await Promise.all(y),v=[];for(const S of g)if(S&&S.features&&S.features.length)for(const w of S.features)w.geometry!=null&&v.push(w.geometry);f=v}for(const m of f)n=await _h(m,t,r,n);return n}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")i=new Q(e);else if(e instanceof Ls)i=e;else if("geometry"in e){if(e.geometry)i=e.geometry;else if(e.layer){const d=e.layer,p=t.allLayerViews.find(f=>f.layer.id===d.id);if(p&&"queryFeatures"in p){const f=d.createQuery();f.objectIds=[e.attributes[d.objectIdField]],f.returnGeometry=!0;const m=await p.queryFeatures(f);i=(l=(a=m==null?void 0:m.features)==null?void 0:a[0])==null?void 0:l.geometry}}}if(i==null)return null;switch(i.type){case"point":s=new Le({xmin:i.x,ymin:i.y,xmax:i.x,ymax:i.y,spatialReference:i.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":s=Ite(i);break;default:s=i.extent}if(!s)return null;fa()||ji(s.spatialReference,r)||await ia();const o=Xl(s,r);if(!o)return null;if(n){const d=o.center,p=d.clone();p.x=hT(d.x,n.center.x,r),p.x!==d.x&&o.centerAt(p),n=n.union(o)}else n=o;return n}function Rte(e){var t;if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&((t=e.layer)==null?void 0:t.minScale)!=null&&e.layer.maxScale!=null){const r=e.layer;return{min:r.minScale,max:r.maxScale}}if(Array.isArray(e)&&e.length&&e.every(r=>"layer"in r)){let r=0,n=0;for(const i of e){const s=i.layer;s!=null&&s.minScale&&s.maxScale&&(r=s.minScale<r?s.minScale:r,n=s.maxScale>n?s.maxScale:n)}return r&&n?{min:r,max:n}:null}}}function rP(e,t){return Et(z6(e),t)?e:Xl(e,t)}async function Lte(e,t){var S;if(!e||!t)return new Qn({targetGeometry:new Q,scale:0,rotation:0});let r=t.spatialReference;const{constraints:n,padding:i,viewpoint:s,size:o}=t,a=[i?o[0]-i.left-i.right:o[0],i?o[1]-i.top-i.bottom:o[1]];let l=null;e instanceof Qn?l=e:e.viewpoint?l=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(l=e.target);let d=null;l!=null&&l.targetGeometry?d=l.targetGeometry:e instanceof Le?d=e:e instanceof Ls?d=await _h(e,t,r):e&&(d=await _h(e.center,t,r)||await _h(e.target,t,r)||await _h(e,t,r)),!d&&(s!=null&&s.targetGeometry)?d=s.targetGeometry:!d&&t.extent&&(d=t.extent),r||(r=z6(t.spatialReference||t.extent||d)),fa()||Et(d.spatialReference,r)||ji(d.spatialReference,r)||await ia();const p=rP(d,r),f="center"in p?p.center:p;t.pickClosestTarget!==!1&&f.type==="point"&&((S=s.targetGeometry)==null?void 0:S.type)==="point"&&(f.x=hT(f.x,s.targetGeometry.x,f.spatialReference));let m=0;l?m=l.rotation:e.hasOwnProperty("rotation")?m=e.rotation:s&&(m=s.rotation);let y=0;y=(l==null?void 0:l.targetGeometry)!=null&&l.targetGeometry.type==="point"?l.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&e.zoom!==-1&&n&&n.effectiveLODs?n.zoomToScale(e.zoom):Array.isArray(d)||d.type==="point"||d.type==="extent"&&d.width===0&&d.height===0?s.scale:Dv(rP(d.extent,r),a,m);const g=Rte(e.target??e);g&&(g.min&&g.min<y?y=g.min:g.max&&g.max>y&&(y=g.max));let v=new Qn({targetGeometry:f,scale:y,rotation:m});return n&&(v=n.fit(v),n.constrainByGeometry(v),n.rotationEnabled||(v.rotation=s.rotation)),v}function ir(e,t){const r=e.targetGeometry,n=t.targetGeometry;return r.x=n.x,r.y=n.y,r.spatialReference=n.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function Nte(e,t,r){return r?Ct(e,.5*(t[0]-r.right+r.left),.5*(t[1]-r.bottom+r.top)):vf(e,t,.5)}const Dte=function(){const e=et();return function(t,r,n){const i=r.targetGeometry;pT(e,i);const s=.5*sd(r);return t.xmin=e[0]-s*n[0],t.ymin=e[1]-s*n[1],t.xmax=e[0]+s*n[0],t.ymax=e[1]+s*n[1],t.spatialReference=i.spatialReference,t}}();function Fte(e,t,r,n,i){var s;return tS(e,t,r.center),e.scale=Dv(r,n),(s=i==null?void 0:i.constraints)==null||s.constrain(e),e}function jte(e,t,r,n){return yT(e,t,r,n),uT(e,e)}const V6=function(){const e=et();return function(t,r,n){return lT(t,Vte(t,r),Nte(e,r,n))}}(),zte=function(){const e=Ss(),t=et();return function(r,n,i,s){const o=sd(n),a=fT(n);return Ct(t,o,o),A6(e,t),Rv(e,e,a),Rp(e,e,V6(t,i,s)),Rp(e,e,[0,s.top-s.bottom]),Ct(r,e[4],e[5])}}();function sd(e){var t;return e.scale*G6((t=e.targetGeometry)==null?void 0:t.spatialReference)}function G6(e){return e!=null&&Wr(e)?1/(U6(e)*j6*F6):1}function fT(e){return F$(e.rotation)||0}function Ute(e){return Wr(e)?U6(e)*j6*F6:1}function Vte(e,t){return vf(e,t,.5)}const mT=function(){const e=et(),t=et(),r=et();return function(n,i,s,o,a,l){return k6(e,i),vf(t,s,.5*l),Ct(r,1/o*l,-1/o*l),dT(n,t),a&&Rv(n,n,a),cT(n,n,r),Rp(n,n,e),n}}(),yT=function(){const e=et();return function(t,r,n,i){const s=sd(r),o=fT(r);return pT(e,r.targetGeometry),mT(t,e,n,s,o,i)}}(),Gte=function(){const e=et();return function(t,r,n,i){const s=sd(r);return pT(e,r.targetGeometry),mT(t,e,n,s,0,i)}}();function W6(e){const t=Or(e);return t?t.valid[1]-t.valid[0]:0}function Wte(e,t){return Math.round(W6(e)/t)}const Bte=function(){const e=et(),t=et(),r=[0,0,0];return function(n,i,s){Ap(e,n,i),eS(e,e),Ap(t,n,s),eS(t,t),C6(r,e,t);let o=Math.acos(P6(e,t)/(u0(e)*u0(t)))*Ate;return r[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),Hte=function(){const e=et();return function(t,r,n,i){const s=t.targetGeometry;return ir(t,r),zte(e,r,n,i),s.x+=e[0],s.y+=e[1],t}}(),tS=function(e,t,r){ir(e,t);const n=e.targetGeometry;return n.x=r.x,n.y=r.y,n.spatialReference=r.spatialReference,e},qte=function(){const e=et();return function(t,r,n,i,s){s||(s="center"),lT(e,n,i),vf(e,e,.5);const o=e[0],a=e[1];switch(s){case"center":Ct(e,0,0);break;case"left":Ct(e,-o,0);break;case"top":Ct(e,0,a);break;case"right":Ct(e,o,0);break;case"bottom":Ct(e,0,-a);break;case"top-left":Ct(e,-o,a);break;case"bottom-left":Ct(e,-o,-a);break;case"top-right":Ct(e,o,a);break;case"bottom-right":Ct(e,o,-a)}return Fv(t,r,e),t}}();function Ufe(e,t,r){return ir(e,t),e.rotation+=r,e}function Zte(e,t,r){return ir(e,t),e.rotation=r,e}const Jte=function(){const e=et();return function(t,r,n,i,s){return ir(t,r),isNaN(n)||n===0||(H6(e,i,r,s),t.scale=r.scale*n,q6(e,e,t,s),Fv(t,t,Ct(e,e[0]-i[0],i[1]-e[1]))),t}}();function nP(e,t,r){return ir(e,t),e.scale=r,e}const B6=function(){const e=et();return function(t,r,n,i,s,o){return ir(t,r),isNaN(n)||n===0||(H6(e,s,r,o),t.scale=r.scale*n,t.rotation+=i,q6(e,e,t,o),Fv(t,t,Ct(e,e[0]-s[0],s[1]-e[1]))),t}}(),Vfe=function(){const e=et(),t=et();return function(r,n,i,s,o,a,l){return V6(t,a,l),x6(e,o,t),s?B6(r,n,i,s,e,a):Jte(r,n,i,e,a)}}(),H6=function(){const e=Ss();return function(t,r,n,i){return Mi(t,r,jte(e,n,i,1))}}(),q6=function(){const e=Ss();return function(t,r,n,i){return Mi(t,r,yT(e,n,i,1))}}(),Fv=function(){const e=et(),t=Ss();return function(r,n,i){ir(r,n);const s=sd(n),o=r.targetGeometry;return I6(t,fT(n)),cT(t,t,gf(s,s)),Mi(e,i,t),o.x+=e[0],o.y+=e[1],r}}();function Z6(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function Kte(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Yte(e,t,r,n,i,s){const o=new Float32Array(6);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=i,o[5]=s,o}function Qte(e,t){return new Float32Array(e,t,6)}function J6(e,t,r,n){const i=t[n],s=t[n+1];e[n]=r[0]*i+r[2]*s+r[4],e[n+1]=r[1]*i+r[3]*s+r[5]}function Xte(e,t,r,n=0,i=0,s=2){const o=i||t.length/s;for(let a=n;a<o;a++)J6(e,t,r,a*s)}Object.freeze(Object.defineProperty({__proto__:null,clone:Kte,create:Z6,createView:Qte,fromValues:Yte,transform:J6,transformMany:Xte},Symbol.toStringTag,{value:"Module"}));function ere(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function tre(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function K6(e,t,r,n,i,s,o,a,l,d){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e[6]=a,e[7]=l,e[8]=d,e}function Y6(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function rre(e,t){if(e===t){const r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function nre(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],d=t[7],p=t[8],f=p*o-a*d,m=-p*s+a*l,y=d*s-o*l;let g=r*f+n*m+i*y;return g?(g=1/g,e[0]=f*g,e[1]=(-p*n+i*d)*g,e[2]=(a*n-i*o)*g,e[3]=m*g,e[4]=(p*r-i*l)*g,e[5]=(-a*r+i*s)*g,e[6]=y*g,e[7]=(-d*r+n*l)*g,e[8]=(o*r-n*s)*g,e):null}function ire(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],d=t[7],p=t[8];return e[0]=o*p-a*d,e[1]=i*d-n*p,e[2]=n*a-i*o,e[3]=a*l-s*p,e[4]=r*p-i*l,e[5]=i*s-r*a,e[6]=s*d-o*l,e[7]=n*l-r*d,e[8]=r*o-n*s,e}function sre(e){const t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],a=e[6],l=e[7],d=e[8];return t*(d*s-o*l)+r*(-d*i+o*a)+n*(l*i-s*a)}function gT(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],d=t[6],p=t[7],f=t[8],m=r[0],y=r[1],g=r[2],v=r[3],S=r[4],w=r[5],_=r[6],$=r[7],x=r[8];return e[0]=m*n+y*o+g*d,e[1]=m*i+y*a+g*p,e[2]=m*s+y*l+g*f,e[3]=v*n+S*o+w*d,e[4]=v*i+S*a+w*p,e[5]=v*s+S*l+w*f,e[6]=_*n+$*o+x*d,e[7]=_*i+$*a+x*p,e[8]=_*s+$*l+x*f,e}function rS(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],d=t[6],p=t[7],f=t[8],m=r[0],y=r[1];return e[0]=n,e[1]=i,e[2]=s,e[3]=o,e[4]=a,e[5]=l,e[6]=m*n+y*o+d,e[7]=m*i+y*a+p,e[8]=m*s+y*l+f,e}function Q6(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],d=t[6],p=t[7],f=t[8],m=Math.sin(r),y=Math.cos(r);return e[0]=y*n+m*o,e[1]=y*i+m*a,e[2]=y*s+m*l,e[3]=y*o-m*n,e[4]=y*a-m*i,e[5]=y*l-m*s,e[6]=d,e[7]=p,e[8]=f,e}function ore(e,t,r){const n=r[0],i=r[1],s=r[2];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=s*t[6],e[7]=s*t[7],e[8]=s*t[8],e}function are(e,t,r){const n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e}function lre(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function ure(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function cre(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function dre(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function hre(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=r+r,a=n+n,l=i+i,d=r*o,p=n*o,f=n*a,m=i*o,y=i*a,g=i*l,v=s*o,S=s*a,w=s*l;return e[0]=1-f-g,e[3]=p-w,e[6]=m+S,e[1]=p+w,e[4]=1-d-g,e[7]=y-v,e[2]=m-S,e[5]=y+v,e[8]=1-d-f,e}function pre(e,t){const r=t[0],n=t[1],i=t[2],s=t[4],o=t[5],a=t[6],l=t[8],d=t[9],p=t[10],f=p*o-a*d,m=-p*s+a*l,y=d*s-o*l,g=r*f+n*m+i*y;if(!g)return null;const v=1/g;return e[0]=f*v,e[1]=(-p*n+i*d)*v,e[2]=(a*n-i*o)*v,e[3]=m*v,e[4]=(p*r-i*l)*v,e[5]=(-a*r+i*s)*v,e[6]=y*v,e[7]=(-d*r+n*l)*v,e[8]=(o*r-n*s)*v,e}function fre(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],d=t[7],p=t[8],f=t[9],m=t[10],y=t[11],g=t[12],v=t[13],S=t[14],w=t[15],_=r*a-n*o,$=r*l-i*o,x=r*d-s*o,T=n*l-i*a,E=n*d-s*a,P=i*d-s*l,O=p*v-f*g,A=p*S-m*g,R=p*w-y*g,G=f*S-m*v,Z=f*w-y*v,le=m*w-y*S;let W=_*le-$*Z+x*G+T*R-E*A+P*O;return W?(W=1/W,e[0]=(a*le-l*Z+d*G)*W,e[1]=(l*R-o*le-d*A)*W,e[2]=(o*Z-a*R+d*O)*W,e[3]=(i*Z-n*le-s*G)*W,e[4]=(r*le-i*R+s*A)*W,e[5]=(n*R-r*Z-s*O)*W,e[6]=(v*P-S*E+w*T)*W,e[7]=(S*x-g*P-w*$)*W,e[8]=(g*E-v*x+w*_)*W,e):null}function mre(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function yre(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function gre(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function vre(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function X6(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function wre(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function _re(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function bre(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function Sre(e,t){const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],d=e[7],p=e[8],f=t[0],m=t[1],y=t[2],g=t[3],v=t[4],S=t[5],w=t[6],_=t[7],$=t[8],x=Cr();return Math.abs(r-f)<=x*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-m)<=x*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(i-y)<=x*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(s-g)<=x*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(o-v)<=x*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(a-S)<=x*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(l-w)<=x*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(d-_)<=x*Math.max(1,Math.abs(d),Math.abs(_))&&Math.abs(p-$)<=x*Math.max(1,Math.abs(p),Math.abs($))}function $re(e){const t=Cr(),r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],d=e[7],p=e[8];return Math.abs(1-(r*r+s*s+l*l))<=t&&Math.abs(1-(n*n+o*o+d*d))<=t&&Math.abs(1-(i*i+a*a+p*p))<=t}const xre=gT,Tre=X6;Object.freeze(Object.defineProperty({__proto__:null,add:vre,adjoint:ire,copy:tre,determinant:sre,equals:Sre,exactEquals:bre,frob:gre,fromMat2d:dre,fromMat4:ere,fromQuat:hre,fromRotation:ure,fromScaling:cre,fromTranslation:lre,identity:Y6,invert:nre,isOrthoNormal:$re,mul:xre,multiply:gT,multiplyScalar:wre,multiplyScalarAndAdd:_re,normalFromMat4:fre,normalFromMat4Legacy:pre,projection:mre,rotate:Q6,scale:ore,scaleByVec2:are,set:K6,str:yre,sub:Tre,subtract:X6,translate:rS,transpose:rre},Symbol.toStringTag,{value:"Module"}));function Ay(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function Mre(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Ere(e,t,r,n,i,s,o,a,l){const d=new Float32Array(9);return d[0]=e,d[1]=t,d[2]=r,d[3]=n,d[4]=i,d[5]=s,d[6]=o,d[7]=a,d[8]=l,d}function kre(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,clone:Mre,create:Ay,createView:kre,fromValues:Ere},Symbol.toStringTag,{value:"Module"}));function eD(){return new Float32Array(2)}function Pre(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function Bc(e,t){const r=new Float32Array(2);return r[0]=e,r[1]=t,r}function Cre(e,t){return new Float32Array(e,t,2)}function tD(){return eD()}function rD(){return Bc(1,1)}function nD(){return Bc(1,0)}function iD(){return Bc(0,1)}const Ore=tD(),Ire=rD(),Are=nD(),Rre=iD();Object.freeze(Object.defineProperty({__proto__:null,ONES:Ire,UNIT_X:Are,UNIT_Y:Rre,ZEROS:Ore,clone:Pre,create:eD,createView:Cre,fromValues:Bc,ones:rD,unitX:nD,unitY:iD,zeros:tD},Symbol.toStringTag,{value:"Module"}));function Lre(e){return e instanceof Float32Array&&e.length>=2}function Nre(e){return Array.isArray(e)&&e.length>=2}function ow(e){return Lre(e)||Nre(e)}var nS;const qi=[0,0];let ho=nS=class extends B{constructor(e){super(e),this._viewpoint2D={center:et(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new Le,this.id=0,this.inverseTransform=Ss(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Ss(),this.transformNoRotation=Ss(),this.displayMat3=Ay(),this.displayViewMat3=Ay(),this.viewMat3=Ay(),this.viewMat2d=Z6(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,r=e.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=r.spatialReference}this._update()}copy(e){const t=this.size,r=this.viewpoint;return r&&t?(this.viewpoint=ir(r,e.viewpoint),this._set("size",$c(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new nS({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,r){return ow(t)?Mi(e,t,this.inverseTransform):(qi[0]=t,qi[1]=r,Mi(e,qi,this.inverseTransform))}toScreen(e,t,r){return ow(t)?Mi(e,t,this.transform):(qi[0]=t,qi[1]=r,Mi(e,qi,this.transform))}toScreenNoRotation(e,t,r){return ow(t)?Mi(e,t,this.transformNoRotation):(qi[0]=t,qi[1]=r,Mi(e,qi,this.transformNoRotation))}wrapMapCoordinate(e,t){$c(e,t);const[r]=t,[n]=this.center,{extent:i,spatialReference:s}=this;let{xmin:o,xmax:a}=i;if(s.isWrappable){const l=W6(s)/2;o=Math.max(o,n-l),a=Math.min(a,n+l)}return(r<o||r>a)&&(e[0]=hT(r,n,s)),e}getScreenTransform(e,t){const{center:r}=this._viewpoint2D,n=this._get("pixelRatio")||1,i=this._get("size");return mT(e,r,i,t,0,n),e}_update(){const{center:e,spatialReference:t,scale:r,rotation:n}=this._viewpoint2D,i=this._get("pixelRatio")||1,s=this._get("size"),o=new Qn({targetGeometry:new Q(e[0],e[1],t),scale:r,rotation:n});if(this._set("viewpoint",o),!s||!t||!r)return;this.resolution=sd(o),this.rotation=n,this.scale=r,this.spatialReference=t,$c(this.center,e);const a=s[0]!==0?2/s[0]:0,l=s[1]!==0?-2/s[1]:0;K6(this.displayMat3,a,0,0,0,l,0,-1,1,1);const d=Y6(this.viewMat3),p=Bc(s[0]/2,s[1]/2),f=Bc(-s[0]/2,-s[1]/2),m=F$(n);rS(d,d,p),Q6(d,d,m),rS(d,d,f),gT(this.displayViewMat3,this.displayMat3,d);const y=dT(this.viewMat2d,p);return Rv(y,y,m),Rp(y,y,f),Dte(this.extent,o,s),yT(this.transform,o,s,i),uT(this.inverseTransform,this.transform),Gte(this.transformNoRotation,o,s,i),this.worldScreenWidth=Wte(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};c([h({readOnly:!0})],ho.prototype,"id",void 0),c([h({value:1,json:{write:!0}})],ho.prototype,"pixelRatio",null),c([h({json:{write:!0}})],ho.prototype,"size",null),c([h()],ho.prototype,"spatialReference",void 0),c([h({type:Qn,json:{write:!0}})],ho.prototype,"viewpoint",null),ho=nS=c([M("esri.views.2d.ViewState")],ho);const iP=ho;var iS,sS;let ms=iS=class extends ee{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new iS({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};c([h()],ms.prototype,"left",void 0),c([h()],ms.prototype,"top",void 0),c([h()],ms.prototype,"right",void 0),c([h()],ms.prototype,"bottom",void 0),ms=iS=c([M("esri.views.2d.PaddedViewState.Padding")],ms);let Pu=sS=class extends iP{constructor(...e){super(...e),this.paddedViewState=new iP,this._updateContent=(()=>{const t=et();return()=>{const r=this._get("size"),n=this._get("padding");if(!r||!n)return;const i=this.paddedViewState;Ct(t,n.left+n.right,n.top+n.bottom),Ap(t,r,t),$c(i.size,t);const s=i.viewpoint;s&&(this.viewpoint=s)}})(),this.addHandles(re(()=>[this.size,this.padding],()=>this._updateContent(),zl)),this.padding=new ms,this.size=[0,0]}set padding(e){this._set("padding",e||new ms)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;const t=this._viewpoint2D;if(this._get("padding")){const r=e.clone();Hte(r,e,this._get("size"),this._get("padding"));const n=r.targetGeometry;t.center[0]=n.x,t.center[1]=n.y,t.rotation=r.rotation,t.scale=r.scale,t.spatialReference=n.spatialReference}else{const r=e.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=r.spatialReference}this._update()}}clone(){return new sS({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};c([h()],Pu.prototype,"paddedViewState",void 0),c([h({type:ms})],Pu.prototype,"padding",null),c([h()],Pu.prototype,"viewpoint",null),Pu=sS=c([M("esri.views.2d.PaddedViewState")],Pu);const vT=Pu;function ll(e,t,r,n){const i=3*e,s=3*(r-e)-i,o=1-i-s,a=3*t,l=3*(n-t)-a,d=1-a-l;function p(g){return((o*g+s)*g+i)*g}function f(g){return((d*g+l)*g+a)*g}function m(g){return(3*o*g+2*s)*g+i}function y(g,v){let S,w,_,$,x,T;for(_=g,T=0;T<8;T++){if($=p(_)-g,Math.abs($)<v)return _;if(x=m(_),Math.abs(x)<1e-6)break;_-=$/x}if(S=0,w=1,_=g,_<S)return S;if(_>w)return w;for(;S<w;){if($=p(_),Math.abs($-g)<v)return _;g>$?S=_:w=_,_=.5*(w-S)+S}return _}return function(g,v=1e-6){return f(y(g,v))}}const Dre=/^cubic-bezier\((.*)\)/,Ti={};function Fre(e){let t=Ti[e]||null;if(!t){const r=Dre.exec(e);if(r){const n=r[1].split(",").map(i=>parseFloat(i.trim()));n.length!==4||n.some(i=>isNaN(i))||(t=ll.apply(ll,n))}}return t}Ti.ease=ll(.25,.1,.25,1),Ti.linear=ll(0,0,1,1),Ti.easeIn=Ti["ease-in"]=ll(.42,0,1,1),Ti.easeOut=Ti["ease-out"]=ll(0,0,.58,1),Ti.easeInOut=Ti["ease-in-out"]=ll(.42,0,.58,1);let sP=class{constructor(t){this._view=t,this.viewpoint=new Qn({targetGeometry:new Q,scale:0,rotation:0})}get view(){return this._view}get size(){const[t,r]=this._view.size;return Math.sqrt(t*t+r*r)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return G6(this.center.spatialReference)}pixelsPerPanAtZoom(t){return 1/(t*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(t){return 1/(t*this.scaleToResolutionFactor)}pixelsPerRotateAtZoom(t){return this.size/2}compareTo(t,r){r.pan=XA(this.center,t.center);let n=Math.abs(t.rotation-this.rotation);n=n>=180?360-n:n,r.rotate=Y0(n),r.sourceZoom=this.scale,r.targetZoom=t.scale}interpolate(t,r,n){const{pan:i,rotate:s,zoom:o,zoomOffset:a}=n,{center:l}=this;l.spatialReference=t.center.spatialReference,l.x=zd(t.center.x,r.center.x,i),l.y=zd(t.center.y,r.center.y,i),this.viewpoint.scale=zd(t.scale,r.scale+a,o);let d=t.rotation;const p=r.rotation;Math.abs(p-d)>=180&&(d+=360*(d<p?1:-1)),this.viewpoint.rotation=zd(d,p,s)}copyFrom(t){ir(this.viewpoint,t.viewpoint),this._view=t.view}};const sD=e=>e*e,jre=e=>1-sD(1-e),zre=e=>2**(10*(e-1)),Ure=e=>1-zre(1-e);function Vre(e){const t=2*(e-Math.sqrt((e-1)*e)),r=t/2/e;return n=>n<r?e*n*n:t*n-t+1}function Gre(e,t){return(r,n)=>r<t?t*e(r/t,n):1-e((1-r)/(1-t),n)*(1-t)}const oP=Gre(Vre(1),.5);let Wre=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const Lp={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},oD={...Lp,maxDuration:4e3};let Bre=class aD{constructor(t){this._createCamera=t,this.compared=new Wre,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:Lp.desiredScreenFlow},this.source=t(),this.target=t()}clone(){const t=new aD(this._createCamera);return t.copyFrom(this),t}copyFrom(t){this.update(t.source,t.target,t.settings)}update(t,r,n){this.source!==t&&this.source.copyFrom(t),this.target!==r&&this.target.copyFrom(r),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=n.desiredScreenFlow!=null?n.desiredScreenFlow:Lp.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(t){const r=this.target.pixelsPerPanAtZoom(t);return this.halfWindowSize/r}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>Cr()}get hasFov(){return Math.abs(this.compared.fov)>Cr()}get hasRotate(){return this.compared.rotate>Cr()}},Hre=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},qre=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((t,r)=>t+r.time,0)}interpolateComponentsAt(t,r){t=Math.min(Math.max(t,0),1),t*=this.time;let n=0,i=0;const s=this.definition,o=this.segments.reduce((a,l)=>a||l.definition.hasZoom,!1);for(let a=0;a<this.segments.length;a++){const l=this.segments[a],d=l.definition;if(t<=l.time||a===this.segments.length-1){if(this.segmentInterpolateComponentsAt(l,l.time===0?0:t/l.time,r),s.hasPan&&!isNaN(r.pan)&&isFinite(s.compared.pan)?r.pan=(n+d.compared.pan*r.pan)/s.compared.pan:r.pan=1,s.hasRotate&&!isNaN(r.rotate)&&isFinite(s.compared.rotate)?r.rotate=(i+d.compared.rotate*r.rotate)/s.compared.rotate:r.rotate=1,o&&!isNaN(r.zoom)&&isFinite(d.compared.targetZoom)){const{sourceZoom:p,targetZoom:f}=d.compared,m=r.zoom*(f-p)+p,y=this.segments[0].definition.compared.sourceZoom,g=this.segments[this.segments.length-1].definition.compared.targetZoom,v=Math.abs(f-y)>Math.abs(p-y)?f:p;r.zoomOffset=v-g,r.zoom=(m-y)/(v-y)}else r.zoom=1;return r}t-=l.time,n+=d.compared.pan,i+=d.compared.rotate}}segmentInterpolateComponentsAt(t,r,n){t.interpolateComponentsAt(r,n)}},aw=class{get time(){return this._time}constructor(t){t&&this.update(t)}update(t){t&&(this.definition?this.definition.copyFrom(t):this.definition=t.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const t=this.definition,r=t.compared,n=r.sourceZoom,i=r.targetZoom;this._zoomSign=n>i?1:-1,this._panPixelsAtSource=r.pan*t.source.pixelsPerPanAtZoom(n);const s=(t.source.pixelsPerRotateAtZoom(n)+t.target.pixelsPerRotateAtZoom(i))/2;this._rotatePixels=r.rotate*s}_updatePixelFlow(){const t=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom,{hasZoom:n,hasPan:i,hasRotate:s}=this.definition;let o=0,a=0;n&&(i&&(o=(r/t-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),s&&(a=this._zoomSign*(Math.log(t/r)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const l=this.definition.desiredPixelFlow;if(n&&i&&s){const d=o+a+o*a;this._zoomPixelFlow=o*a/d*l,this._panPixelFlow=a/d*l,this._rotatePixelFlow=o/d*l}else if(n&&i){const d=1+o;this._zoomPixelFlow=o/d*l,this._panPixelFlow=1/d*l}else if(n&&s){const d=1+a;this._zoomPixelFlow=a/d*l,this._rotatePixelFlow=1/d*l}else if(i&&s){const d=this._panPixelsAtSource/this._rotatePixels,p=1+d;this._panPixelFlow=d/p*l,this._rotatePixelFlow=1/p*l}else i?this._panPixelFlow=l:n?this._zoomPixelFlow=l:s&&(this._rotatePixelFlow=l);this._time=this.rotateTime??this.zoomTime??this.panTime??this.fovTime??0}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:null}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:null}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/Zre:null}get panTime(){if(this.definition.hasPan){if(this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,r=t*this._panPixelsAtSource;return Math.log(r*(this._zoomPixelFlow/this._panPixelFlow)+1)/(t*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}}_interpolateComponentsZoom(t){if(t===0||t===1)return t;if(this.definition.hasZoom){const r=this.definition.compared.sourceZoom,n=this.definition.compared.targetZoom;return(r*(r/n)**-t-r)/(n-r)}return t}_interpolateComponentsFov(t){if(t===0)return this.definition.segmentStart;if(t===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:r,segmentEnd:n}=this.definition;return r+t*(n-r)}return this.definition.segmentStart}_interpolateComponentsPan(t){if(t===0||t===1)return t;if(this.definition.hasPan&&this.definition.hasZoom){const r=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(r*t*this._time)-1))/(r*Math.LN2)}return t}_interpolateComponentsRotate(t){return t}interpolateComponentsAt(t,r){t=Math.min(Math.max(t,0),1),r.zoom=this._interpolateComponentsZoom(t),r.pan=this._interpolateComponentsPan(t),r.rotate=this._interpolateComponentsRotate(t),r.zoomOffset=0,r.fov=this._interpolateComponentsFov(t)}};const Zre=Y0(90);function Jre(e,t,r){const n=t-e.compared.sourceZoom,i=e.halfWindowPanAtZoom(n);return-e.halfWindowSize*(r.ascensionFactor*Math.LN2*e.compared.pan+i)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*i)}function Kre(e,t,r){const n=1/t,i=Math.log(e.compared.sourceZoom*n),s=1/e.desiredPixelFlow,o=1/Math.LN2,a=t-e.compared.sourceZoom,l=1/a,d=(r.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(a))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*n*s*o*l*d-e.halfWindowSize*i*s*o*l+e.halfWindowSize*i*s*o*d/(a*a)}function Yre(e,t,r){const n=t-e.compared.sourceZoom,i=1/n,s=1/t,o=Math.log(e.compared.sourceZoom*s),a=(r.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(n))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*i*(-2*i*s*a+2*i*o+2*s-2*o*a/(n*n)-a/(t*t))/(e.desiredPixelFlow*Math.LN2)}function Qre(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function Xre(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function ene(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function tne(e,t,r){return-e.compared.pan*e.halfWindowSize*(r.ascensionFactor+r.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}function rne(e,t,r){return e.compared.pan*e.halfWindowSize*(r.ascensionFactor+r.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}function nne(e,t,r){return-2*e.compared.pan*e.halfWindowSize*(r.ascensionFactor+r.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}function ine(e,t,r){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-r.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function sne(e,t,r){const n=Math.log(t/e.compared.targetZoom),i=1/e.desiredPixelFlow,s=1/Math.LN2,o=-t+e.compared.targetZoom,a=1/o,l=(-e.halfWindowPanAtZoom(t)-r.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*n*i*s*a+e.halfWindowSize*n*i*s*l/(o*o)+e.halfWindowSize*i*s*a*l/t}function one(e,t,r){const n=t-e.compared.targetZoom,i=1/n,s=1/t,o=Math.log(t/e.compared.targetZoom),a=(e.halfWindowPanAtZoom(t)+r.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*i*(-2*i*s*a-2*i*o+2*s+2*o*a/(n*n)-a/(t*t))/(e.desiredPixelFlow*Math.LN2)}function ane(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function lne(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function une(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function cne(e){const t=e.compared.sourceZoom-e.compared.targetZoom;if(t===0)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));const r=Math.LN2*e.compared.pan,n=t,i=e.halfWindowPanAtZoom(n),s=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*i);return e.compared.sourceZoom<=e.compared.targetZoom?s*(r-i):s*(r+i)}function dne(e,t){let r=hne(e,t);const n={ascensionFactor:t.ascensionFactor!=null?t.ascensionFactor:.5,descensionFactor:t.descensionFactor!=null?t.descensionFactor:.5},i=n.ascensionFactor===0,s=n.descensionFactor===0,o=i?Qre:Jre,a=i?Xre:Kre,l=i?ene:Yre,d=s?ane:ine,p=s?lne:sne,f=s?une:one,m=x=>o(e,x,n)+tne(e,x,n)+d(e,x,n),y=x=>a(e,x,n)+rne(e,x,n)+p(e,x,n),g=x=>l(e,x,n)+nne(e,x,n)+f(e,x,n);let v=m(r);const S=cne(e);let w;const _=t.maximumIterations||20,$=t.maximumDistance!=null?t.maximumDistance:1/0;for(w=0;w<_;w++){const x=t.desiredSlope??1e-6;let T=y(r);Math.abs(T)>x&&(T+=x);const E=T/g(r);if(isNaN(E)||r>=$&&E<0){if(!isFinite($))return null;r=$,v=m(r);break}if(r-=E,r<e.compared.sourceZoom||r<e.compared.targetZoom)return null;const P=m(r);if(Math.abs(P-v)/v<=.005)break;v=P}return v>S*(1-.3)||r<e.compared.sourceZoom||r<e.compared.targetZoom?null:r}function hne(e,t){const r=Math.max(e.compared.sourceZoom,e.compared.targetZoom),n=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return n<r?t.maximumDistance!=null?r+(t.maximumDistance-r)/2:1.5*r:t.maximumDistance?Math.min(t.maximumDistance,n):n}let pne=class extends qre{constructor(t,r){super(),this._preallocSegments=[new aw,new aw,new aw],this._ascensionSegment=null,this._descensionSegment=null,this.update(t,r)}update(t,r){if(!t)return;this.definition?this.definition.copyFrom(t):this.definition=t.clone();const n=r!=null&&r.apex?dne(t,r.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,n?this._updateWithApex(n,r==null?void 0:r.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(t,r,n){t.interpolateComponentsAt(r,n),t===this._ascensionSegment?n.zoom=jre(n.zoom):t===this._descensionSegment&&(n.zoom=sD(n.zoom))}_updateWithApex(t,r){const[n,i,s]=this._preallocSegments,o=(r==null?void 0:r.ascensionFactor)??.5,a=Math.min(1-o,(r==null?void 0:r.ascensionFactor)!=null&&r.descensionFactor!=null?r.descensionFactor:.5),l=1-o-a;n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.targetZoom=t,n.definition.compared.pan=this.definition.compared.pan*o,n.definition.compared.rotate=this.definition.compared.rotate*o,n.definition.segmentEnd=o,n.update(),this._ascensionSegment=n,this.segments.push(n),l>0&&(i.definition?i.definition.copyFrom(this.definition):i.definition=this.definition.clone(),i.definition.copyFrom(this.definition),i.definition.compared.sourceZoom=t,i.definition.compared.targetZoom=t,i.definition.compared.pan=this.definition.compared.pan*l,i.definition.compared.rotate=this.definition.compared.rotate*l,i.definition.segmentStart=n.definition.segmentEnd,i.definition.segmentEnd=n.definition.segmentEnd+l,i.update(),this.segments.push(i)),s.definition?s.definition.copyFrom(this.definition):s.definition=this.definition.clone(),s.definition.compared.sourceZoom=t,s.definition.compared.pan=this.definition.compared.pan*a,s.definition.compared.rotate=this.definition.compared.rotate*a,s.definition.segmentStart=o+l,s.update(),this._descensionSegment=s,this.segments.push(s)}_updateWithoutApex(){const[t]=this._preallocSegments;t.update(this.definition),this.segments.push(t)}};const fne=new Hre;let mne=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(t){this._time=0,this._easing=oP,this.definition=new Bre(t),this.path=new pne}update(t,r,n){this.definition.update(t,r,n),this.path.update(this.definition,n),this._time=this._applyTimeSettings(R7(isFinite(this.path.time)?this.path.time:0),n),this._easing=n.easing??(this._time>=1e3?oP:Ure)}cameraAt(t,r){t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);const n=this.path.interpolateComponentsAt(t,fne);r.interpolate(this.definition.source,this.definition.target,n)}_normalizedEasing(t){const r=this._easing(0,this._time),n=this._easing(1,this._time);return(this._easing(t,this._time)-r)/(n-r)}_applyTimeSettings(t,r){const n=r.speedFactor!=null?r.speedFactor:1,i=r.minDuration??Lp.minDuration/n,s=r.maxDuration??Lp.maxDuration/n;return t=r.duration!=null?r.duration:Math.min(Math.max(t/n,i),s)}};const aP=2e3,yne=64;let gne=class{constructor(t){this._view=t,this._animation=new mne(()=>new sP(this._view)),this._current=new sP(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(t,r,n={}){ir(this._current.viewpoint,t),ir(this._source.viewpoint,t),ir(this._target.viewpoint,r),this._animation.update(this._source,this._target,n)}applyRatio(t,r){this._animation.cameraAt(r,this._current),ir(t,this._current.viewpoint)}},Cu=class extends ee{constructor(t){super(t),this._animation=null,this._destinationViewState=new vT,this.updateFunction=null,this.easing=Ti.ease,this.viewpoint=new Qn({targetGeometry:new Q,scale:0,rotation:0}),this._updateTask=Ac({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new gne(t.view)}destroy(){this._updateTask=Ke(this._updateTask)}get animation(){return this._animation}set animation(t){this._animation=t,this.view.animation=t}animate(t,r,n){this.stop();const i=this.viewpoint;ir(i,r);const s=(typeof(n==null?void 0:n.easing)=="string"?Fre(n.easing):n==null?void 0:n.easing)||this.easing,o=t.target;this._transition.update(this.viewpoint,o,{apex:{maximumDistance:Math.min(Math.min(r.scale,o.scale)*yne,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:n==null?void 0:n.duration,maxDuration:(n==null?void 0:n.animationMode)==="auto"?1/0:(n==null?void 0:n.maxDuration)??oD.maxDuration,speedFactor:n==null?void 0:n.speedFactor,easing:typeof s=="function"?l=>s(l):void 0}),(n==null?void 0:n.animationMode)==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=o,vne(this._transition.animation,n,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,o,{duration:0}));const a=()=>{this.animation===t&&this._updateTask&&(t.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(a,a),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinuous(t,r){this.stop(),this.updateFunction=r,this.viewpoint=t;const n=new Xb({target:t.clone()}),i=()=>{this.animation===n&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return n.when(i,i),this._startTime=performance.now(),this._updateTask.resume(),this.animation=n,n}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){var n,i;const r=this.animation;if(r&&r.state!==Xb.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime),(n=this.animation)==null||n.update(this.viewpoint);else{const s=performance.now()-this._startTime,o=this._transition.duration,a=o>0?s/o:1,l=a>=1;this._transition.applyRatio(this.viewpoint,a),l&&((i=this.animation)==null||i.finish())}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function vne(e,t,r,n){if((t==null?void 0:t.duration)!=null)return!0;const{time:i,isLinear:s}=e,o=(t==null?void 0:t.speedFactor)||1,a=(t==null?void 0:t.maxDuration)??oD.maxDuration/o;if(I("esri-goto-debug")&&(console.log("speed factor:",o),console.log("adjusted duration:		",i),console.log("adjusted max duration:	",a),console.log("is linear:",s)),i>a)return I("esri-goto-debug")&&console.warn(`failed "auto" heuristic: animations must be shorter than ${a/1e3}s`),!1;if(s){const d=et(),p=Gt(...n.toScreen(d,...r.center)),f=Gt(...r.toScreen(d,...n.center)),m=f!=null&&f.x>-(1.5-.5)*r.size[0]&&f.x<(1.5+.5)*r.size[0]&&f.y>-(1.5-.5)*r.size[1]&&f.y<(1.5+.5)*r.size[1],y=p!=null&&p.x>-(1.5-.5)*n.size[0]&&p.x<(1.5+.5)*n.size[0]&&p.y>-(1.5-.5)*n.size[1]&&p.y<(1.5+.5)*n.size[1];if(I("esri-goto-debug")&&(console.log(`dest is within ${1.5} screens at start view:`,m),console.log(`start is within ${1.5} screens at dest view:`,y)),i>aP/o&&!m&&!y)return I("esri-goto-debug")&&console.warn(`failed "auto" heuristic: linear animations must be...
  - shorter than ${aP/1e3/o}s, or
  - shorter than ${a/1e3}s and the destination is close enough to the starting screen, or
  - shorter than ${a/1e3}s and the start point is close enough to the destination screen`),!1}return!0}c([h()],Cu.prototype,"easing",void 0),c([h()],Cu.prototype,"view",void 0),c([h()],Cu.prototype,"viewpoint",void 0),Cu=c([M("esri.views.2d.AnimationManager")],Cu);const wne=Cu;let _ne=class{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),this.view.animation&&!("then"in this.view.animation.target)&&(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=()=>{var o,a;if(this._updateRequested=!1,(o=this.view)==null?void 0:o.destroyed)return;const{allLayerViews:r,graphicsView:n,labelManager:i,state:{id:s}}=this.view;r.forEach(this._updateLayerView,this),i!=null&&(i.lastUpdateId!==s&&(i.viewChange(),i.lastUpdateId=s),i.updateRequested&&i.processUpdate(this._updateParameters)),n!=null&&(n.lastUpdateId!==s&&(n.viewChange(),n.lastUpdateId=s),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||((a=this._frameTaskHandle)==null||a.pause())}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,targetState:new vT,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=re(()=>t.stationary,r=>{this.stationary=r,this.requestFrame()}),this._frameTaskHandle=Ac(this),this.requestUpdate()}stop(){var t;this._frameTaskHandle&&(this._updateRequested=!1,(t=this._stationaryHandle)==null||t.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){var i;if(!t.attached)return void this.requestUpdate();const r=this.view.state,n=t.lastUpdateId;n!=null&&(this.stationary||t.moving)||(t.moving=!0),n!==r.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=r.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&((i=t.layerViews)==null||i.forEach(this._updateLayerView,this))}},Ry=class extends ee{constructor(t){super(t),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(t,r){if(!t)return void z.getLogger(this).error("#goTo()","target cannot be null or undefined");const n=new Xb;this.view.animation=n,await xp(()=>this.view.ready,r);const i={...r,animate:(r==null?void 0:r.animate)??!u6(),animationMode:(r==null?void 0:r.animationMode)??"auto"},{extent:s,spatialReference:o,size:a,viewpoint:l,constraints:d,padding:p,allLayerViews:f}=this.view,m=Lte(t,{extent:s,spatialReference:o,size:a,viewpoint:l,constraints:d,padding:p,allLayerViews:f,pickClosestTarget:(r==null?void 0:r.pickClosestTarget)??!0});return n==null||n.update(m),this._gotoTask={},i.animate?this._gotoAnimated(m,i):this._gotoImmediate(m,i)}_gotoImmediate(t,r){const n=this._gotoTask,i=this.view.animation,s=t.then(o=>{if(lt(r),n!==this._gotoTask)throw new j("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=i.target=o,i.finish()});return this._cancellableGoTo(n,i,s,r)}_gotoAnimated(t,r){const n=this._gotoTask,i=this.view.animation;if(!i)return Promise.resolve();const s=t.then(o=>{if(lt(r),n!==this._gotoTask)throw new j("view:goto-interrupted","Goto was interrupted");return i.update(o),this.view.animationManager.animate(i,this.view.viewpoint,r),i.when().then(()=>{},()=>{})});return this._cancellableGoTo(n,i,s,r)}_cancellableGoTo(t,r,n,i){const s=()=>t===this._gotoTask;return C7(n,i).finally(()=>{s()&&(r.done||r.stop())})}};c([h({constructOnly:!0})],Ry.prototype,"view",void 0),Ry=c([M("esri.views.2d.GoToManager")],Ry);function Fe(){return Promise.all([U(()=>import("./webglDeps-B_C5xfWq.js"),__vite__mapDeps([194,76,75,41,195,196])),U(()=>import("./mapViewDeps-7qaFlL9c.js"),__vite__mapDeps([197,108,4,5,77,78,15,79,74,80,70,81,73,75,41,76,42,82,31,83,36,84,140,2,198,117,88,89,90,91,199,133,200,196,99,126,125,17,18,124,194,195,201,94,202,72,85,28,26,25,21,12,71,203,204,205,119,206,207,208,59,209,92,210,57,87,211,212,213,214,215,216,217]))])}const Id=()=>Fe().then(()=>U(()=>import("./TileLayerView2D-Dyl5FwzS.js"),__vite__mapDeps([218,108,4,5,79,77,78,15,74,80,70,81,73,75,41,76,42,82,31,83,36,84,140,2,117,199,133,200,196,99,126,125,90,17,18,124,201,94,202,72,85,28,26,25,21,12,71,59,210,91,57,88,89,204,205,119,211,212,219,220,216,221,222,214,215,223,224,225,226,227]))),uu=()=>Fe().then(()=>U(()=>import("./FeatureLayerView2D-B0bkLWUT.js").then(e=>e.F),__vite__mapDeps([228,199,133,84,70,41,75,17,15,18,160,156,229,142,221,215,77,78,79,74,80,81,73,76,42,82,31,83,36,4,5,216,200,196,99,126,125,90,94,86,57,136,167,163,85,138,3,198,117,210,91,230,225,227,223]))),lP={"base-dynamic":()=>Fe().then(()=>U(()=>import("./BaseDynamicLayerView2D-xAZAzyxW.js"),__vite__mapDeps([231,232,200,70,73,74,75,41,76,42,196,99,199,133,84,126,125,90,17,15,18,221,233,220,223]))),"base-tile":Id,"bing-maps":Id,catalog:()=>Fe().then(()=>U(()=>import("./CatalogLayerView2D-Cajnm5g_.js"),__vite__mapDeps([234,221,199,133,84,70,41,75]))),"catalog-dynamic-group":()=>Fe().then(()=>U(()=>import("./CatalogDynamicGroupLayerView2D-B93w8Fsw.js"),__vite__mapDeps([235,221,199,133,84,70,41,75]))),"catalog-footprint":()=>Fe().then(()=>U(()=>import("./CatalogFootprintLayerView2D-C_v0zjPe.js"),__vite__mapDeps([236,228,199,133,84,70,41,75,17,15,18,160,156,229,142,221,215,77,78,79,74,80,81,73,76,42,82,31,83,36,4,5,216,200,196,99,126,125,90,94,86,57,136,167,163,85,138,3,198,117,210,91,230,225,227,223]))),csv:uu,"geo-rss":()=>Fe().then(()=>U(()=>import("./GeoRSSLayerView2D-B4l-8yw7.js"),__vite__mapDeps([237,134,135,101,71,110,136,137,57,138,82,31,139,23,28,26,140,108,4,5,80,2,3,142,221,199,133,84,70,41,75,213,214,215,77,78,15,79,74,81,73,76,42,83,36,216,200,196,99,126,125,90,17,18,210,91,211,72,85,25,21,12,212]))),feature:uu,geojson:uu,graphics:()=>Fe().then(()=>U(()=>import("./GraphicsLayerView2D-DWanLVwb.js"),__vite__mapDeps([238,84,221,199,133,70,41,75,213,214,215,77,78,15,79,74,80,81,73,76,42,82,31,83,36,4,5,216,200,196,99,126,125,90,17,18,210,91,57,211,28,26,140,108,2,72,85,25,21,12,71,212,230]))),group:()=>Fe().then(()=>U(()=>import("./GroupLayerView2D-CPlYD8wF.js"),__vite__mapDeps([239,221,199,133,84,70,41,75]))),imagery:()=>Fe().then(()=>U(()=>import("./ImageryLayerView2D-D0d7vTcE.js"),__vite__mapDeps([240,241,76,75,41,196,42,106,200,70,73,74,99,199,133,84,126,125,90,17,15,18,221,211,28,26,77,78,79,80,81,82,31,83,36,4,5,140,108,2,72,85,25,21,12,71,210,91,57,212,222,214,215,216,232,220,233,111,229,227,223]))),"imagery-tile":()=>Fe().then(()=>U(()=>import("./ImageryTileLayerView2D-Cs7uGGpz.js"),__vite__mapDeps([242,243,241,76,75,41,196,42,106,200,70,73,74,99,199,133,84,126,125,90,17,15,18,221,244,216,245,111,229,227,223]))),kml:()=>Fe().then(()=>U(()=>import("./KMLLayerView2D-DcUHJhIT.js"),__vite__mapDeps([246,247,134,135,101,71,110,136,137,57,138,82,31,139,23,28,26,140,108,4,5,80,2,3,142,220,199,133,84,70,41,75,232,200,73,74,76,42,196,99,126,125,90,17,15,18,221,213,214,215,77,78,79,81,83,36,216,210,91,211,72,85,25,21,12,212,111,203,194,195,204,205,119,202,117,206,244]))),"knowledge-graph":()=>Fe().then(()=>U(()=>import("./KnowledgeGraphLayerView2D-C67aifXF.js"),__vite__mapDeps([248,221,199,133,84,70,41,75]))),"link-chart":()=>Fe().then(()=>U(()=>import("./KnowledgeGraphLayerView2D-C67aifXF.js"),__vite__mapDeps([248,221,199,133,84,70,41,75]))),"knowledge-graph-sublayer":uu,"map-image":()=>Fe().then(()=>U(()=>import("./MapImageLayerView2D-7CENMJcn.js"),__vite__mapDeps([249,232,200,70,73,74,75,41,76,42,196,99,199,133,84,126,125,90,17,15,18,221,211,28,26,77,78,79,80,81,82,31,83,36,4,5,140,108,2,72,85,25,21,12,71,210,91,57,212,222,214,215,216,233,220,250,225,226,229,223,224,227]))),"map-notes":()=>Fe().then(()=>U(()=>import("./MapNotesLayerView2D-DCqWm1Ob.js"),__vite__mapDeps([251,84,221,199,133,70,41,75,213,214,215,77,78,15,79,74,80,81,73,76,42,82,31,83,36,4,5,216,200,196,99,126,125,90,17,18,210,91,57,211,28,26,140,108,2,72,85,25,21,12,71,212]))),media:()=>Fe().then(()=>U(()=>import("./MediaLayerView2D-Bh5ABBQN.js"),__vite__mapDeps([252,135,101,71,110,136,137,57,138,82,31,139,134,23,28,26,140,108,4,5,80,2,3,253,212,46,79,77,78,15,74,70,81,73,75,41,76,42,83,36,84,117,199,133,200,196,99,126,125,90,17,18,124,201,94,202,72,85,25,21,12,59,210,91,88,89,204,205,119,211,209,92,254,221]))),"ogc-feature":()=>Fe().then(()=>U(()=>import("./OGCFeatureLayerView2D-DZmIidsf.js"),__vite__mapDeps([255,228,199,133,84,70,41,75,17,15,18,160,156,229,142,221,215,77,78,79,74,80,81,73,76,42,82,31,83,36,4,5,216,200,196,99,126,125,90,94,86,57,136,167,163,85,138,3,198,117,210,91,230,225,227,223]))),"open-street-map":Id,"oriented-imagery":uu,route:()=>Fe().then(()=>U(()=>import("./RouteLayerView2D-BxV-VndC.js"),__vite__mapDeps([256,257,84,221,199,133,70,41,75,213,214,215,77,78,15,79,74,80,81,73,76,42,82,31,83,36,4,5,216,200,196,99,126,125,90,17,18,210,91,57,211,28,26,140,108,2,72,85,25,21,12,71,212]))),stream:()=>Fe().then(()=>U(()=>import("./StreamLayerView2D-D77TqR-m.js"),__vite__mapDeps([258,142,228,199,133,84,70,41,75,17,15,18,160,156,229,221,215,77,78,79,74,80,81,73,76,42,82,31,83,36,4,5,216,200,196,99,126,125,90,94,86,57,136,167,163,85,138,3,198,117,210,91,230,225,227,223]))),"subtype-group":()=>Fe().then(()=>U(()=>import("./SubtypeGroupLayerView2D-B822XdFY.js"),__vite__mapDeps([259,228,199,133,84,70,41,75,17,15,18,160,156,229,142,221,215,77,78,79,74,80,81,73,76,42,82,31,83,36,4,5,216,200,196,99,126,125,90,94,86,57,136,167,163,85,138,3,198,117,210,91,230,225,227,223]))),tile:Id,"vector-tile":()=>Fe().then(()=>U(()=>import("./VectorTileLayerView2D-DUmY4CHb.js"),__vite__mapDeps([260,71,124,81,41,75,59,208,117,91,23,79,76,196,125,200,70,73,74,42,99,199,133,84,126,90,17,15,18,216,20,127,128,108,4,5,221]))),video:()=>Fe().then(()=>U(()=>import("./VideoLayerView2D-CiBLB-ft.js"),__vite__mapDeps([261,262,155,156,133,171,56,57,263,254,99,200,70,73,74,75,41,76,42,196,199,84,126,125,90,17,15,18,221,213,214,215,77,78,79,80,81,82,31,83,36,4,5,216,210,91,211,28,26,140,108,2,72,85,25,21,12,71,212]))),wcs:()=>Fe().then(()=>U(()=>import("./ImageryTileLayerView2D-Cs7uGGpz.js"),__vite__mapDeps([242,243,241,76,75,41,196,42,106,200,70,73,74,99,199,133,84,126,125,90,17,15,18,221,244,216,245,111,229,227,223]))),"web-tile":Id,wfs:uu,wms:()=>Fe().then(()=>U(()=>import("./WMSLayerView2D-DbG5K0sS.js"),__vite__mapDeps([264,232,200,70,73,74,75,41,76,42,196,99,199,133,84,126,125,90,17,15,18,221,233,220,223,265,229]))),wmts:()=>Fe().then(()=>U(()=>import("./WMTSLayerView2D-CE82EU1g.js"),__vite__mapDeps([266,219,220,199,133,84,70,41,75,200,73,74,76,42,196,99,126,125,90,17,15,18,216,221,223]))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function bne(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",r=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new j(`${r}:view-not-supported`,`${t} is not supported in 2D`)}const uP={hasLayerViewModule:e=>lP[e.type]!=null,importLayerView:e=>{const t=lP[e.type];if(t==null)throw bne(e);return t(e)}};function Sne(e,t){const{spatialReference:r}=t,n=[t.x,t.y];let i=Number.POSITIVE_INFINITY,s=0,o=0;const a=[0,0],l=e.type==="extent"?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings;for(const d of l)for(let p=0;p<d.length-1;p++){WG(a,n,d,p);const f=Av(n,a);f<i&&(i=f,s=a[0],o=a[1])}return{coordinate:new Q({x:s,y:o,spatialReference:r}),distance:i}}var oS;let ul=oS=class extends jx(ee){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Xl(this.geometry,this.spatialReference)}catch(e){return z.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(this.normalizedGeometry==null)return e;const r=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?tf(this.normalizedGeometry,r):tx(this.normalizedGeometry,r))return e;const{coordinate:n}=Sne(this.normalizedGeometry,r);return n&&(e.targetGeometry=n),e}clone(){var e,t;return new oS({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};c([h({constructOnly:!0})],ul.prototype,"geometry",void 0),c([h({readOnly:!0})],ul.prototype,"normalizedGeometry",null),c([h({constructOnly:!0})],ul.prototype,"spatialReference",void 0),ul=oS=c([M("esri.views.2d.constraints.GeometryConstraint")],ul);var aS;let bh=aS=class extends jx(ee){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new aS({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};c([h()],bh.prototype,"enabled",void 0),c([h()],bh.prototype,"rotationEnabled",void 0),bh=aS=c([M("esri.views.2d.constraints.RotationConstraint")],bh);const lD=bh;var lS;let br=lS=class extends jx(ee){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:r,maxScale:n,minZoom:i,maxZoom:s}=this,o=-1,a=-1,l=!1,d=!1;if(r!==0&&n!==0&&r<n&&([r,n]=[n,r]),!(t!=null&&t.length))return this._set("effectiveMinScale",r),void this._set("effectiveMaxScale",n);t=t.map(p=>p.clone()),t.sort((p,f)=>f.scale-p.scale),t.forEach((p,f)=>p.level=f);for(const p of t)!l&&r>0&&r>=p.scale&&(o=p.level,l=!0),!d&&n>0&&n>=p.scale&&(a=e?e.level:-1,d=!0),e=p;i===-1&&(i=r===0?0:o),s===-1&&(s=n===0?t.length-1:a),i=Math.max(i,0),i=Math.min(i,t.length-1),s=Math.max(s,0),s=Math.min(s,t.length-1),i>s&&([i,s]=[s,i]),r=t[i].scale,n=t[s].scale,t.splice(0,i),t.splice(s-i+1,t.length),t.forEach((p,f)=>{this._lodByScale[p.scale]=p,this._scales[f]=p.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",i),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",r),this._set("effectiveMaxScale",n)}constrain(e,t){if(t&&e.scale===t.scale)return e;const r=this.effectiveMinScale,n=this.effectiveMaxScale,i=e.targetGeometry,s=t&&t.targetGeometry,o=n!==0&&e.scale<n,a=r!==0&&e.scale>r;if(o||a){const l=a?r:n;if(t&&s){const d=(l-t.scale)/(e.scale-t.scale);i.x=s.x+(i.x-s.x)*d,i.y=s.y+(i.y-s.y)*d}e.scale=l}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),r=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(r>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const r=Math.floor(e),n=Math.ceil(e);return t[r]+(e-r)*(t[n]-t[r])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let r,n;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let i=0;i<t.length-1;i++){if(r=t[i],n=t[i+1],n===e)return i+this.effectiveMinZoom+1;if(r>e&&n<e)return i+this.effectiveMinZoom+1-(e-n)/(r-n)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r-1)}clone(){return new lS({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,r)=>Math.abs(r-e)<=Math.abs(t-e)?r:t,this._scales[0])),this._lodByScale[e].scale}};c([h({readOnly:!0})],br.prototype,"effectiveLODs",void 0),c([h({readOnly:!0})],br.prototype,"effectiveMinZoom",void 0),c([h({readOnly:!0})],br.prototype,"effectiveMaxZoom",void 0),c([h({readOnly:!0})],br.prototype,"effectiveMinScale",void 0),c([h({readOnly:!0})],br.prototype,"effectiveMaxScale",void 0),c([h()],br.prototype,"lods",void 0),c([h()],br.prototype,"minZoom",void 0),c([h()],br.prototype,"maxZoom",void 0),c([h()],br.prototype,"minScale",void 0),c([h()],br.prototype,"maxScale",void 0),c([h()],br.prototype,"snapToZoom",void 0),br=lS=c([M("esri.views.2d.constraints.ZoomConstraint")],br);const uD=br,$ne={base:null,key:"type",typeMap:{extent:Le,polygon:Di}};let it=class extends ee{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new X}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){var t,r,n;return`${(t=this._zoom)==null?void 0:t.uid}/${(r=this._rotation)==null?void 0:r.uid}/${(n=this._geometry)==null?void 0:n.uid}`}get _geometry(){var r,n;const t=this._get("_geometry");return t&&this.geometry===t.geometry&&((r=this.view)==null?void 0:r.constraintsInfo.spatialReference)===t.spatialReference?t:new ul({geometry:this.geometry,spatialReference:(n=this.view)==null?void 0:n.constraintsInfo.spatialReference})}get _rotation(){return new lD({rotationEnabled:this.rotationEnabled})}get _zoom(){var l;const t=this._get("_zoom"),r=this.lods||((l=this.view)==null?void 0:l.constraintsInfo.lods),n=this.minZoom,i=this.maxZoom,s=this.minScale,o=this.maxScale,a=this.snapToZoom;return t&&t.lods===r&&t.minZoom===n&&t.maxZoom===i&&t.minScale===s&&t.maxScale===o&&t.snapToZoom===a?t:new uD({lods:r,minZoom:n,maxZoom:i,minScale:s,maxScale:o,snapToZoom:a})}canZoomInTo(t){const r=this.effectiveMaxScale;return r===0||t>=r}canZoomOutTo(t){const r=this.effectiveMinScale;return r===0||t<=r}constrain(t,r){return this._zoom.constrain(t,r),this._rotation.constrain(t,r),this._geometry.constrain(t,r),this.customConstraints.forEach(n=>n.constrain(t,r)),t}constrainByGeometry(t){return this._geometry.constrain(t),this.customConstraints.forEach(r=>{var n;return(n=r.applyPanConstraint)==null?void 0:n.call(r,t)}),t}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};c([h({readOnly:!0})],it.prototype,"effectiveLODs",null),c([h({readOnly:!0})],it.prototype,"effectiveMinScale",null),c([h({readOnly:!0})],it.prototype,"effectiveMaxScale",null),c([h({readOnly:!0})],it.prototype,"effectiveMinZoom",null),c([h({readOnly:!0})],it.prototype,"effectiveMaxZoom",null),c([h({types:$ne,value:null})],it.prototype,"geometry",null),c([h({type:[So]})],it.prototype,"lods",void 0),c([h()],it.prototype,"minScale",void 0),c([h()],it.prototype,"maxScale",void 0),c([h()],it.prototype,"minZoom",void 0),c([h()],it.prototype,"maxZoom",void 0),c([h()],it.prototype,"rotationEnabled",void 0),c([h()],it.prototype,"snapToZoom",void 0),c([h({type:X})],it.prototype,"customConstraints",void 0),c([h()],it.prototype,"view",void 0),c([h({readOnly:!0})],it.prototype,"version",null),c([h({type:ul,readOnly:!0})],it.prototype,"_geometry",null),c([h({type:lD})],it.prototype,"_rotation",null),c([h({readOnly:!0,type:uD})],it.prototype,"_zoom",null),it=c([M("esri.views.2d.MapViewConstraints")],it);const cD=it;let aa=class Xa{static getId(t,r,n,i){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${r}/${n}/${i}`}constructor(t,r,n,i){this.set(t,r,n,i)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(t){this.set(t)}get hash(){const t=4095&this.row,r=4095&this.col,n=63&this.level;return(3&this.world)<<30|r<<22|t<<8|n}acquire(t,r,n,i){this.set(t,r,n,i)}contains(t){const r=t.level-this.level;return r>=0&&this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}containsChild(t){const r=t.level-this.level;return r>0&&this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Xa(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,r,n,i){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[s,o,a,l]=t.split("/");this.level=parseFloat(s),this.row=parseFloat(o),this.col=parseFloat(a),this.world=parseFloat(l)}else this.level=+t,this.row=+r,this.col=+n,this.world=+i||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Xa(this.level-1,this.row>>1,this.col>>1,this.world)}getNeighborId(t,r){return`${this.level}/${this.row+r}/${this.col+t}/${this.world}`}getChildKeys(){const t=this.level+1,r=this.row<<1,n=this.col<<1,i=this.world;return[new Xa(t,r,n,i),new Xa(t,r,n+1,i),new Xa(t,r+1,n,i),new Xa(t,r+1,n+1,i)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}};aa.pool=new Kl(aa,null,null,25,50);function Hs(e,t){return[e,t]}function Sa(e,t,r){return e[0]=t,e[1]=r,e}function xne(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}const In=new aa("0/0/0/0");let Tne=class dD{static create(t,r,n=null){const i=Or(t.spatialReference),s=r.origin||Hs(t.origin.x,t.origin.y),o=Hs(t.size[0]*r.resolution,t.size[1]*r.resolution),a=Hs(-1/0,-1/0),l=Hs(1/0,1/0),d=Hs(1/0,1/0);n!=null&&(Sa(a,Math.max(0,Math.floor((n.xmin-s[0])/o[0])),Math.max(0,Math.floor((s[1]-n.ymax)/o[1]))),Sa(l,Math.max(0,Math.floor((n.xmax-s[0])/o[0])),Math.max(0,Math.floor((s[1]-n.ymin)/o[1]))),Sa(d,l[0]-a[0]+1,l[1]-a[1]+1));const{cols:p,rows:f}=r;let m,y,g,v;return!n&&p&&f&&(Sa(a,p[0],f[0]),Sa(l,p[1],f[1]),Sa(d,p[1]-p[0]+1,f[1]-f[0]+1)),t.isWrappable?(m=Hs(Math.ceil(Math.round((i.valid[1]-i.valid[0])/r.resolution)/t.size[0]),d[1]),y=Hs(Math.floor((i.origin[0]-s[0])/o[0]),a[1]),g=Hs(m[0]+y[0]-1,l[1]),v=!0):(y=a,g=l,m=d,v=!1),new dD(r.level,r.resolution,r.scale,s,a,l,d,o,y,g,m,v)}constructor(t,r,n,i,s,o,a,l,d,p,f,m){this.level=t,this.resolution=r,this.scale=n,this.origin=i,this.first=s,this.last=o,this.size=a,this.norm=l,this.worldStart=d,this.worldEnd=p,this.worldSize=f,this.wrap=m}normalizeCol(t){if(!this.wrap)return t;const r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,n=!1){In.set(r);const i=n?In.col:this.denormalizeCol(In.col,In.world),s=In.row;return xne(t,this.getXForColumn(i),this.getYForRow(s+1),this.getXForColumn(i+1),this.getYForRow(s)),t}getTileCoords(t,r,n=!1){In.set(r);const i=n?In.col:this.denormalizeCol(In.col,In.world);return Array.isArray(t)?Sa(t,this.getXForColumn(i),this.getYForRow(In.row)):(t.x=this.getXForColumn(i),t.y=this.getYForRow(In.row)),t}},Np=class{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}*keys(){const t=this.lodInfo;for(const{row:r,colFrom:n,colTo:i}of this.spans)for(let s=n;s<=i;s++){const o=t.getWorldForColumn(s);yield new aa(t.level,r,t.normalizeCol(s),o)}}forEach(t,r){const{spans:n,lodInfo:i}=this,{level:s}=i;if(n.length!==0)for(const{row:o,colFrom:a,colTo:l}of n)for(let d=a;d<=l;d++)t.call(r,s,o,i.normalizeCol(d),i.getWorldForColumn(d))}};Np.pool=new Kl(Np);let lw=class{constructor(t,r,n){this.row=t,this.colFrom=r,this.colTo=n}};const Ue=new aa("0/0/0/0");let Mne=class hD{static create(t,r){t[1]>r[1]&&([t,r]=[r,t]);const[n,i]=t,[s,o]=r,a=s-n,l=o-i,d=l!==0?a/l:0,p=(Math.ceil(i)-i)*d,f=(Math.floor(i)-i)*d;return new hD(n,Math.floor(i),Math.ceil(o),d,a<0?p:f,a<0?f:p,a<0?s:n,a<0?n:s)}constructor(t,r,n,i,s,o,a,l){this.x=t,this.ymin=r,this.ymax=n,this.invM=i,this.leftAdjust=s,this.rightAdjust=o,this.leftBound=a,this.rightBound=l}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const Ar=[[0,0],[0,0],[0,0],[0,0]],Ene=1e-6;let kne=class{constructor(t,r=null,n=t.lods[0].level,i=t.lods[t.lods.length-1].level){this.tileInfo=t,this.fullExtent=r,this.scales=[],this._infoByScale={},this._infoByLevel={};const s=t.lods.filter(a=>a.level>=n&&a.level<=i);this.minScale=s[0].scale,this.maxScale=s[s.length-1].scale;const o=this._lodInfos=s.map(a=>Tne.create(t,a,r));s.forEach((a,l)=>{this._infoByLevel[a.level]=o[l],this._infoByScale[a.scale]=o[l],this.scales[l]=a.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,r,n=!1){Ue.set(r);const i=this._infoByLevel[Ue.level];return i?i.getTileBounds(t,Ue,n):t}getTileCoords(t,r,n=!1){Ue.set(r);const i=this._infoByLevel[Ue.level];return i?i.getTileCoords(t,Ue,n):t}getTileCoverage(t,r=192,n=!0,i="closest"){if(!n&&(t.scale>this.minScale||t.scale<this.maxScale))return null;const s=i==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),o=Np.pool.acquire(s),a=this._wrap;let l,d,p,f=1/0,m=-1/0;const y=o.spans;Ar[0][0]=Ar[0][1]=Ar[1][1]=Ar[3][0]=-r,Ar[1][0]=Ar[2][0]=t.size[0]+r,Ar[2][1]=Ar[3][1]=t.size[1]+r;for(const w of Ar)t.toMap(w,w),w[0]=s.getColumnForX(w[0]),w[1]=s.getRowForY(w[1]);const g=[];let v=3;for(let w=0;w<4;w++){if(Ar[w][1]===Ar[v][1]){v=w;continue}const _=Mne.create(Ar[w],Ar[v]);f=Math.min(_.ymin,f),m=Math.max(_.ymax,m),g[_.ymin]===void 0&&(g[_.ymin]=[]),g[_.ymin].push(_),v=w}if(f==null||m==null||m-f>100)return null;let S=[];for(l=f;l<m;){g[l]!=null&&(S=S.concat(g[l])),d=1/0,p=-1/0;for(let w=S.length-1;w>=0;w--){const _=S[w];d=Math.min(d,_.getLeftCol()),p=Math.max(p,_.getRightCol())}if(d=Math.floor(d),p=Math.floor(p),l>=s.first[1]&&l<=s.last[1])if(a)if(s.size[0]<s.worldSize[0]){const w=Math.floor(p/s.worldSize[0]);for(let _=Math.floor(d/s.worldSize[0]);_<=w;_++)y.push(new lw(l,Math.max(s.getFirstColumnForWorld(_),d),Math.min(s.getLastColumnForWorld(_),p)))}else y.push(new lw(l,d,p));else d>s.last[0]||p<s.first[0]||(d=Math.max(d,s.first[0]),p=Math.min(p,s.last[0]),y.push(new lw(l,d,p)));l+=1;for(let w=S.length-1;w>=0;w--){const _=S[w];_.ymax>=l?_.incrRow():S.splice(w,1)}}return o}getTileParentId(t){Ue.set(t);const r=this._infoByLevel[Ue.level],n=this._lodInfos.indexOf(r)-1;return n<0?null:(this._getTileIdAtLOD(Ue,this._lodInfos[n],Ue),Ue.id)}getTileResolution(t){const r=this._infoByLevel[typeof t=="object"?t.level:t];return r?r.resolution:-1}getTileScale(t){const r=this._infoByLevel[t.level];return r?r.scale:-1}intersects(t,r){Ue.set(r);const n=this._infoByLevel[Ue.level],i=t.lodInfo;if(i.resolution>n.resolution){this._getTileIdAtLOD(Ue,i,Ue);const o=i.denormalizeCol(Ue.col,Ue.world);for(const a of t.spans)if(a.row===Ue.row&&a.colFrom<=o&&a.colTo>=o)return!0}if(i.resolution<n.resolution){const[o,a,l,d]=t.spans.reduce((v,S)=>(v[0]=Math.min(v[0],S.row),v[1]=Math.max(v[1],S.row),v[2]=Math.min(v[2],S.colFrom),v[3]=Math.max(v[3],S.colTo),v),[1/0,-1/0,1/0,-1/0]),p=n.denormalizeCol(Ue.col,Ue.world),f=i.getColumnForX(n.getXForColumn(p)),m=i.getRowForY(n.getYForRow(Ue.row)),y=i.getColumnForX(n.getXForColumn(p+1))-1,g=i.getRowForY(n.getYForRow(Ue.row+1))-1;return!(f>d||y<l||m>a||g<o)}const s=i.denormalizeCol(Ue.col,Ue.world);return t.spans.some(o=>o.row===Ue.row&&o.colFrom<=s&&o.colTo>=s)}normalizeBounds(t,r,n){if(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],this._wrap){const i=Or(this.tileInfo.spatialReference),s=-n*(i.valid[1]-i.valid[0]);t[0]+=s,t[2]+=s}return t}getSmallestInfoForScale(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>r[0])return this._infoByScale[r[0]];for(let n=1;n<r.length-1;n++)if(t>r[n]+Ene)return this._infoByScale[r[n-1]];return this._infoByScale[r[r.length-1]]}getClosestInfoForScale(t){const r=this.scales;return this._infoByScale[t]||(t=r.reduce((n,i)=>Math.abs(i-t)<Math.abs(n-t)?i:n,r[0])),this._infoByScale[t]}scaleToLevel(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let n=r.length-1;n>=0;n--)if(t<r[n])return n===r.length-1?this._infoByScale[r[r.length-1]].level:this._infoByScale[r[n]].level+(r[n]-t)/(r[n]-r[n+1]);return this._infoByScale[r[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}zoomToScale(t){return this.tileInfo.zoomToScale(t)}_getTileIdAtLOD(t,r,n){const i=this._infoByLevel[n.level];return t.set(n),r.resolution<i.resolution?null:(r.resolution===i.resolution||(t.level=r.level,t.col=Math.floor(n.col*i.resolution/r.resolution+.01),t.row=Math.floor(n.row*i.resolution/r.resolution+.01)),t)}},Pne=class{constructor(t,r){this.item=t,this.controller=r,this.promise=null}},Cne=class{constructor(t){this._schedule=null,this._task=null,this._deferreds=new Py,this._controllers=new Py,this._processingItems=new Py,this._pausedSignal=AL(!1),this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new jg(t.peeker),this.process=t.process;const r=t.scheduler;t.priority&&r&&(this._task=r.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule=Ke(this._schedule),this._task=Ke(this._task)}get updating(){var t;return!!((t=this._task)!=null&&t.updating)||this.running}get length(){return this._processingItems.size+this._queue.length}abort(t){const r=this._controllers.get(t);r&&r.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(r=>t.push(r)),this._controllers.clear(),t.forEach(r=>r.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((r,n)=>t(n))}get(t){const r=this._deferreds.get(t);return r?r.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(t,r){const n=this.get(t);if(n)return n;const i=new AbortController;let s=null;r&&(s=_n(r,()=>i.abort()));const o=()=>{const p=this._processingItems.get(t);p&&p.controller.abort(),a(),d.reject(mt())},a=()=>{l.remove(),s!=null&&s.remove(),this._removeItem(t),this._queue.remove(t),this._scheduleNext()},l=E$(i.signal,o),d=Tn();return this._deferreds.set(t,d),this._controllers.set(t,i),d.promise.then(a,a),this._queue.push(t),this._scheduleNext(),d.promise}last(){return this._queue.last()}lastPromise(){const t=this.last();return t?this.get(t):null}peek(){return this._queue.peek()}popLast(){var r;const t=this._queue.popLast();return t&&((r=this._deferreds.get(t))==null||r.reject(mt("Removed from queue")),this._removeItem(t)),t}reset(){const t=[];this._processingItems.forEach(r=>t.push(r)),this._processingItems.clear();for(const r of t)this._queue.push(r.item),r.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_removeItem(t){this._deferreds.delete(t),this._controllers.delete(t),this._processingItems.delete(t)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=Yp(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(r))}_processError(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(r))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(t==null)return;let r;const n=new AbortController,i=new Pne(t,n);this._processingItems.set(t,i);try{r=this.process(t,n.signal)}catch(s){this._processError(i,s)}ha(r)?(i.promise=r,r.then(s=>this._processResult(i,s),s=>this._processError(i,s))):this._processResult(i,r)}get test(){}};function One(e,t){return e.length=0,t.forEach(r=>e.push(r)),e}const uw=new Set,Sm=[],cu=new Map,cP=[0,0];let po=class extends ee{constructor(t){super(t),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:t,process:r,strategy:n}=this;this._queue=new Cne({concurrency:t,process:(i,s)=>{const o=this._keyToItem.get(i);return r(o,{signal:s})},peeker:n==="scale-first"?i=>this._peekByScaleFirst(i):i=>this._peekByCenterFirst(i)})}destroy(){this.clear(),this._queue=He(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}abort(t){const r=typeof t=="string"?t:t.id;this._queue.abort(r)}clear(){this._queue.clear(),this._keyToItem.clear()}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}isOngoing(t){const r=typeof t=="string"?t:t.id;return this.has(r)&&this._queue.isOngoing(r)}pause(){this._queue.pause()}push(t){const r=t.key.id;if(this._queue.has(r))return this._queue.get(r);const n=this._queue.push(r),i=()=>{this._keyToItem.delete(r)};return this._keyToItem.set(r,t),n.then(i,i),n}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(t){if(!this.state)return t.values().next().value;const r=this.tileInfoView;let n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;t.forEach(p=>{const f=this._keyToItem.get(p),m=this.tileInfoView.getTileScale(f.key);cu.has(m)||(cu.set(m,[]),n=Math.max(m,n),i=Math.min(m,i)),cu.get(m).push(f.key),uw.add(m)});let s=this.state.scale;cu.has(s)||(One(Sm,uw),Sm.sort((p,f)=>p-f),s=Sm.reduce((p,f)=>Math.abs(f-s)<Math.abs(p-s)?f:p,Sm[0])),s=Math.min(s,n),s=Math.max(s,i);const o=cu.get(s),a=r.getClosestInfoForScale(s),l=a.getColumnForX(this.state.center[0]),d=a.getRowForY(this.state.center[1]);return o.sort((p,f)=>{const m=a.denormalizeCol(p.col,p.world),y=a.denormalizeCol(f.col,f.world);return Math.sqrt((l-m)*(l-m)+(d-p.row)*(d-p.row))-Math.sqrt((l-y)*(l-y)+(d-f.row)*(d-f.row))}),uw.clear(),cu.clear(),o[0].id}_peekByCenterFirst(t){if(!this.state)return t.values().next().value;const r=this.tileInfoView,n=this.state.center;let i,s=Number.POSITIVE_INFINITY;return t.forEach(o=>{const a=this._keyToItem.get(o);r.getTileCoords(cP,a.key);const l=Av(cP,n);l<s&&(s=l,i=a.key)}),i.id}};c([h({constructOnly:!0})],po.prototype,"concurrency",void 0),c([h({constructOnly:!0})],po.prototype,"process",void 0),c([h()],po.prototype,"state",void 0),c([h({constructOnly:!0})],po.prototype,"strategy",void 0),c([h({constructOnly:!0})],po.prototype,"tileInfoView",void 0),po=c([M("esri.views.2d.tiling.TileQueue")],po);const ame=po;let Ine=class{constructor(t,r,n){this.maxSize=t,this._tileInfoView=r,this._removedFunc=n,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const r=this._tilePerId.get(t);if(!r)return;const n=r.key.level,i=this._tileKeysPerLevel[n];dP(this._tilePerId,t);for(let s=0;s<i.length;s++)if(i[s].id===t){i.splice(s,1);break}return r.visible=!0,r}add(t){t.visible=!1;const r=t.key,n=r.id;if(this._tilePerId.has(n))return;this._tilePerId.set(n,t);const i=r.level;this._tileKeysPerLevel[i]||(this._tileKeysPerLevel[i]=[]),this._tileKeysPerLevel[i].push(r)}prune(t,r,n){let i=this._tilePerId.size;if(i<=this.maxSize)return;let s=this._tileKeysPerLevel.length-1;for(;i>this.maxSize&&s>=0;)s!==t&&(i=this._pruneAroundCenterTile(i,r,n,s)),s--;i>this.maxSize&&(i=this._pruneAroundCenterTile(i,r,n,t))}_pruneAroundCenterTile(t,r,n,i){const s=this._tileKeysPerLevel[i];if(!s||s.length===0)return t;const{size:o,origin:a}=this._tileInfoView.tileInfo,l=n*o[0],d=n*o[1],p=[0,0],f=[0,0];for(s.sort((m,y)=>(p[0]=a.x+l*(m.col+.5),p[1]=a.y-d*(m.row+.5),f[0]=a.x+l*(y.col+.5),f[1]=a.y-d*(y.row+.5),l0(p,r)-l0(f,r)));s.length>0;){const m=s.pop();if(this._removeTile(m.id),--t===this.maxSize)break}return t}_removeTile(t){const r=this._tilePerId.get(t);this._removedFunc&&r&&this._removedFunc(r),dP(this._tilePerId,t)}};function dP(e,t){e.delete(t)}const $a=new aa(0,0,0,0),Zi=new Map,xa=[],cw=[];let ume=class{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,t.resampling!=null&&(this.resampling=t.resampling),t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new Ine(t.cacheSize,this.tileInfoView,r=>{this.releaseTile(r)}))}destroy(){this.tileIndex.clear()}update(t){var w,_;const{resampling:r,tileIndex:n}=this,{scale:i,center:s,resolution:o}=t.state,{minScale:a,maxScale:l}=this.tileInfoView,d=!t.stationary&&i>this._previousScale;if(this._previousScale=i,!r&&(i>a||i<l))return this.tiles.length=0,void this.clear();const p=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.resampling,this.coveragePolicy);if(!p)return this.tiles.length=0,void this.clear();const{spans:f,lodInfo:m}=p,{level:y}=m;this.tiles.length=0,n.forEach($=>$.visible=!0);let g=0,v=0;if(f.length>0)for(const{row:$,colFrom:x,colTo:T}of f)for(let E=x;E<=T;E++){g++;const P=$a.set(y,$,m.normalizeCol(E),m.getWorldForColumn(E)).id;let O=n.get(P);if(O)O.isReady?(Zi.set(P,O),v++):d||this._addParentTile(P,Zi);else{if((w=this._tileCache)!=null&&w.has(P)){if(O=this._tileCache.pop(P),this.tileIndex.set(P,O),O.isReady){Zi.set(P,O),v++;continue}}else O=this.acquireTile($a),this.tileIndex.set(P,O);d||this._addParentTile(P,Zi)}}const S=v===g;for(const[$,x]of n){if(Zi.has($))continue;$a.set($);const T=this.tileInfoView.intersects(p,$a),E=this.cachePolicy==="purge"?$a.level!==y:$a.level>y;!T||!d&&S?!E&&T||xa.push(x):x.isReady?E&&this.cachePolicy==="purge"&&this._hasReadyAncestor($a,y)?xa.push(x):cw.push(x):E&&xa.push(x)}for(const $ of cw)$.isReady&&Zi.set($.key.id,$);for(const $ of xa)this._tileCache?this._tileCache.add($):this.releaseTile($),n.delete($.key.id);for(const $ of Zi.values())this.tiles.push($);for(const $ of n.values())Zi.has($.key.id)||($.visible=!1);(_=this._tileCache)==null||_.prune(y,s,o),Np.pool.release(p),cw.length=0,xa.length=0,Zi.clear()}clear(){const{tileIndex:t}=this;for(const r of t.values())this.releaseTile(r);t.clear()}refresh(t){var r;for(const n of this.tileIndex.values())this.tiles.includes(n)?t(n):xa.push(n);for(const n of xa)this.releaseTile(n),this.tileIndex.delete(n.key.id);(r=this._tileCache)==null||r.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,r){var s;let n=t,i=null;for(;n=this.tileInfoView.getTileParentId(n),n;)if(this.tileIndex.has(n)){if(i=this.tileIndex.get(n),i==null?void 0:i.isReady){r.has(i.key.id)||r.set(i.key.id,i);break}}else if((s=this._tileCache)!=null&&s.has(n)&&(i=this._tileCache.pop(n),this.tileIndex.set(n,i),i==null?void 0:i.isReady)){r.has(i.key.id)||r.set(i.key.id,i);break}}_hasReadyAncestor(t,r){const n=Mr();this.tileInfoView.getTileBounds(n,t,!0);for(const i of this.tileIndex.values())if(i.isReady&&i.key.level>=r&&i.key.level<t.level){const s=Mr();if(this.tileInfoView.getTileBounds(s,i.key,!0),rW(s,n))return!0}return!1}},cr=class extends ee{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([re(()=>{var r;return(r=this.constraints)==null?void 0:r.version},r=>{this.constraints&&r&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},zl)])}get center(){if(!this.ready)return this._get("center");const{center:t,spatialReference:r}=this.state.paddedViewState;return this.state.commitProperty("id"),new Q({x:t[0],y:t[1],spatialReference:r})}set center(t){if(t==null)return;if(!this.ready)return void this._set("center",t);let r;try{r=this._project(t,this.state.spatialReference)}catch(i){return void z.getLogger(this).error(new j("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:i}))}const n=this.viewpoint;tS(n,n,r),this.viewpoint=n}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(t){if(t==null)return;if(!t.width||!t.height)return void z.getLogger(this).error(new j("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",t),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let r;try{r=this._project(t,this.state.spatialReference)}catch(i){return void z.getLogger(this).error(new j("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:i}))}const n=this.viewpoint;Fte(n,n,r,this.state.size,{constraints:this.constraints}),this.viewpoint=n}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);const r=this.viewpoint;Zte(r,r,t),this.viewpoint=r}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",void 0);const n=this._get("extent");return void(n&&(this._set("extent",void 0),this._set("center",n.center)))}const r=this.viewpoint;nP(r,r,t),this.viewpoint=r}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(t){var s;if(t==null)return;if(!this.ready)return this._set("viewpoint",t),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let r,n;try{r=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?n=new j("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):t.targetGeometry==null&&(n=new j("mapview:invalid-viewpoint","geometry not defined"))}catch(o){n=new j("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:o})}if(n)return void z.getLogger(this).error(n);this._scaleBeforeChangingSpatialReference=null;const i=new Qn({targetGeometry:new Q,scale:0,rotation:0});ir(i,r),(s=this.constraints)==null||s.constrain(i,this.state.paddedViewState.viewpoint),this.state.viewpoint=i,this._set("viewpoint",i)}get zoom(){var t;return this.ready?((t=this.constraints)==null?void 0:t.scaleToZoom(this.scale))??-1:this._get("zoom")}set zoom(t){var i,s;if(!(t>=0))return;if(!this.ready){this._set("zoom",t),this._set("scale",void 0);const o=this._get("extent");return void(o&&(this._set("extent",void 0),this._set("center",o.center)))}const r=((i=this.constraints)==null?void 0:i.zoomToScale(t))??0;if(!r)return void this._set("zoom",-1);const n=this.viewpoint;nP(n,n,r),this.viewpoint=n,this._set("zoom",((s=this.constraints)==null?void 0:s.scaleToZoom(this.scale))??-1)}getUserStartupOptions(t){if(!t[0]&&!t[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:r,constraints:n}=this,i=this._get("center"),s=this._get("extent"),o=this._get("scale"),a=this._get("rotation"),l=this._get("viewpoint"),d=this._get("zoom"),p=d!=null&&n!=null&&n.zoomToScale(d)||void 0;let f,m,y;const g=l==null?void 0:l.rotation,v=l==null?void 0:l.targetGeometry;(v==null?void 0:v.type)==="extent"?f=v:(v==null?void 0:v.type)==="point"&&(m=v,y=l==null?void 0:l.scale);const S=s??f;return{center:i??m??(S==null?void 0:S.center),rotation:a??g,scale:(o??p??y??(S&&Dv(S,[t[0]-r.left-r.right,t[1]-r.top-r.bottom])))||void 0}}startup(t,r,n,i){var o;const s=t.targetGeometry;try{this._project(t,n)}catch(a){z.getLogger(this).warn(new Os("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:s.toJSON(),spatialReference:n,error:a})),t.targetGeometry=i||new Q({x:0,y:0,spatialReference:n})}(o=this.constraints)==null||o.fit(t),this._set("state",new vT({padding:this.padding,size:r,viewpoint:t})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[t,r],spatialReference:n,rotation:i,scale:s}=this.state.paddedViewState,o=new Q({x:t,y:r,spatialReference:n});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",i),this._set("scale",s),this._set("state",null)}changeSpatialReference(t){var l;const r=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=r.scale;else{const d=r.viewpoint.clone();d.scale=this._scaleBeforeChangingSpatialReference,r.viewpoint=d}const n=r.clone(),[i,s]=r.center;let o=null;try{o=this._project(new Q({x:i,y:s,spatialReference:r.spatialReference}),t)}catch(d){Y$()||z.getLogger(this).warn(new Os("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o==null?void 0:o.toJSON(),spatialReference:t,error:d}))}o||(o=new Q({x:0,y:0,spatialReference:t}));const a=tS(new Qn({targetGeometry:new Q,scale:0,rotation:0}),r.viewpoint,o);n.viewpoint=a;try{const p=[r.size[0]/2,r.size[1]/2],f=[p[0]+20,p[1]],m=r.toMap([0,0],f),{x:y,y:g}=this._project(new Q({x:m[0],y:m[1],spatialReference:r.spatialReference}),t);m[0]=y,m[1]=g,n.toScreen(m,m);const v=Bte(p,m,f),S=Math.hypot(m[0]-p[0],m[1]-p[1])/20;!Number.isFinite(S)||Math.abs(S)>4?(a.rotation=0,a.targetGeometry=new Q({x:0,y:0,spatialReference:t})):(a.scale*=S,a.scale>I("mapview-srswitch-adjust-rotation-scale-threshold")?a.rotation=0:a.rotation+=Number.isFinite(v)?v:0)}catch{}(l=this._get("constraints"))==null||l.constrain(a,void 0),this._get("state").viewpoint=a}resize(t,r){var o;if(!this.ready)return;const n=this.state;let i=this.state.paddedViewState.viewpoint;const s=this.state.paddedViewState.size.concat();n.size=[t,r],qte(i,i,s,this.state.paddedViewState.size,this.resizeAlign),i=((o=this.constraints)==null?void 0:o.constrain(i,void 0))??i,this.state.viewpoint=i}toMap(t){if(!this.ready)return null;const r=[0,0],[n,i]=this.state.toMap(r,[t.x,t.y]),s=this.state.spatialReference;return new Q({x:n,y:i,spatialReference:s})}toScreen(t,r){if(!this.ready)return null;const n=this._project(t,this.state.spatialReference),i=[n.x,n.y];return(r==null?void 0:r.pickClosestTarget)===!1||this.state.paddedViewState.wrapMapCoordinate(i,i),this.state.toScreen(i,i),Gt(i[0],i[1])}_project(t,r){var s;const n=(t==null?void 0:t.targetGeometry)||t;if(!r)return t;if(!n)return null;if(r.imageCoordinateSystem||(s=n.spatialReference)!=null&&s.imageCoordinateSystem||Et(r,n.spatialReference))return t;const i=Xl(n,r);if(!i)throw new j("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:n,spatialReference:r});return Ane(t)?(t.targetGeometry=i,t):i}};function Ane(e){return(e==null?void 0:e.declaredClass)==="esri.Viewpoint"}c([h({type:Q})],cr.prototype,"center",null),c([h()],cr.prototype,"constraints",void 0),c([h({type:Le})],cr.prototype,"extent",null),c([h({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],cr.prototype,"padding",null),c([h()],cr.prototype,"ready",void 0),c([h()],cr.prototype,"resizeAlign",void 0),c([h({readOnly:!0})],cr.prototype,"resolution",null),c([h({type:Number})],cr.prototype,"rotation",null),c([h({type:Number})],cr.prototype,"scale",null),c([h({readOnly:!0})],cr.prototype,"state",void 0),c([h({type:Qn})],cr.prototype,"viewpoint",null),c([h()],cr.prototype,"zoom",null),cr=c([M("esri.views.2d.ViewStateManager")],cr);function wT(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}let hP=class extends kt{constructor(t,r){super(!0),this._view=t,this.registerIncoming("double-click",r,n=>this._handleDoubleClick(n,r))}_handleDoubleClick(t,r){wT(t.data,"primary")&&(t.stopPropagation(),r?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}},Rne=class extends kt{constructor(t,r,n){super(!0),this.view=t,this.pointerType=r,this.registerIncoming("double-tap-drag",n,i=>this._handleDoubleTapDrag(i))}_handleDoubleTapDrag(t){const{data:r}=t,{pointerType:n}=r;if(n!==this.pointerType)return;t.stopPropagation();const{action:i,delta:s}=r,{view:o}=this,{mapViewNavigation:a}=o;switch(i){case"begin":{const{scale:l}=o;this._startScale=l,this._currentScale=l,this._previousDelta=s,a.begin();break}case"update":{if(this._previousDelta.y===s.y)return;this._previousDelta=s;const l=1.015**s.y,d=this._startScale*l,p=d/this._currentScale;a.setViewpointImmediate(p),this._currentScale=d;break}case"end":{const{constraints:l}=o,{effectiveLODs:d,snapToZoom:p}=l;if(!p||!d)return void a.end();const f=l.snapScale(this._currentScale),m=(s.y>0?Math.max(f,l.snapToPreviousScale(this._startScale)):Math.min(f,l.snapToNextScale(this._startScale)))/this._currentScale;a.zoom(m).then(()=>{a.end()});break}}}},jv=class{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){const r=t.data,n=r.pointers.size;switch(r.action){case"start":this._currentCount=n,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0}this._previousEvent=t}_emitStart(t){var r,n;this._startEvent=t,(n=(r=this._callbacks).condition)!=null&&n.call(r,this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){var r,n;(n=(r=this._callbacks).condition)!=null&&n.call(r,this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){var r,n;(n=(r=this._callbacks).condition)!=null&&n.call(r,this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}},Lne=class extends kt{constructor(t,r,n){super(!0),this.view=t,this.pointerAction=r,this.registerIncoming("drag",n,i=>this._handleDrag(i)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new jv({start:(r,n)=>{this.view.mapViewNavigation.pan.begin(this.view,n.data),n.stopPropagation()},update:(r,n)=>{this.view.mapViewNavigation.pan.update(this.view,n.data),n.stopPropagation()},end:(r,n)=>{this.view.mapViewNavigation.pan.end(this.view,n.data),n.stopPropagation()},condition:(r,n)=>r===1&&wT(n.data,this.pointerAction)})}_handleDrag(t){const r=this.view.mapViewNavigation;r.pinch.zoomMomentum||r.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},Nne=class extends kt{constructor(t,r,n){super(!0),this._view=t,this.pointerAction=r;const i=this._view.mapViewNavigation;this._dragEventSeparator=new jv({start:(s,o)=>{i.rotate.begin(this._view,o.data),o.stopPropagation()},update:(s,o)=>{i.rotate.update(this._view,o.data),o.stopPropagation()},end:(s,o)=>{i.rotate.end(),o.stopPropagation()},condition:(s,o)=>s===1&&wT(o.data,this.pointerAction)}),this.registerIncoming("drag",n,s=>this._dragEventSeparator.handle(s))}};function An(e){let t=e*e;return e<0&&(t*=-1),t}function Dne(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function Fne(e,t,r){const n=r,i=e.state,s=e.device,o=t.tiltDirection==="forward-down"?1:-1,a=1;return s.deviceType==="standard"?(n.translation[0]=An(i.axes[0]),n.translation[1]=An(i.axes[1]),n.translation[2]=An(i.buttons[7])-An(i.buttons[6]),n.heading=An(i.axes[2]),n.tilt=An(i.axes[3])):s.deviceType==="spacemouse"&&(n.translation[0]=1.2*An(i.axes[0]),n.translation[1]=1.2*An(i.axes[1]),n.translation[2]=2*-An(i.axes[2]),n.heading=1.2*An(i.axes[5]),n.tilt=1.2*An(i.axes[3])),n.tilt*=o,uA(n.translation,n.translation,a),n}function jne(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}let zne=class extends kt{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new Bp,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",r=>this._handleGamePadEvent(r)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([re(()=>{var r;return(r=this._view.navigation.gamepad)==null?void 0:r.enabled},r=>{r?(this._handle.resume(),this._frameTask||(this._frameTask=Ac({update:n=>this._frameUpdate(n.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},Rt)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const r=this._view.navigation.gamepad.device;r&&t.data.device!==r||this._currentDevice&&this._currentDevice!==t.data.device||(t.data.action==="end"?(this._currentDevice=null,Dne(this._transformation)):(this._currentDevice=t.data.device,Fne(t.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(t){const r=this._transformation;if(jne(r))return;const n=this._view.viewpoint.clone(),i=this._view.navigation.gamepad.velocityFactor,s=Vne*i*t;Fv(n,n,[r.translation[0]*s,-r.translation[1]*s]);const o=1+r.translation[2]*Gne*t,a=this._view.constraints.rotationEnabled?-r.heading*Une*t:0,l=this._view.size,d=[l[0]/2,l[1]];B6(n,n,o,a,d,l);const p=this._view.constraints.constrain(n,this._view.viewpoint);this._view.viewpoint=p}};const Une=.06,Vne=.7,Gne=6e-4;function pD(e){const t=()=>e(document.visibilityState==="visible");return document.addEventListener("visibilitychange",t),ke(()=>document.removeEventListener("visibilitychange",t))}let Wne=class extends kt{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=i=>{const s=this._keyMap[i.data.key];if(i.modifiers.has("Meta")||i.modifiers.has("Control"))return void this._stopMovement();if(s==null)return;i.stopPropagation(),i.preventDefault();const o=i.type==="key-down";if(this._pressedKeys[o?"add":"delete"](s),o){if(this._direction===s)return;this._direction=s,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const a=this._timeout===void 0,l=this._pressedKeys.size>0;a||l?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[r.left]:"left",[r.right]:"right",[r.up]:"up",[r.down]:"down"},this.registerIncoming("key-down",n,this._handleKey),this.registerIncoming("key-up",n,this._handleKey),this.registerIncoming("blur",n,this._stopMovement),this._visibilityHandle=pD(i=>i?null:this._stopMovement())}onUninstall(){var t;this._stopMovement(),(t=this._visibilityHandle)==null||t.remove()}get _direction(){return this._currentDirection}set _direction(t){const r=this._currentDirection!=null;if(t!=null){if(r||this.view.mapViewNavigation.begin(),this._currentDirection!==t)switch(t){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else r&&this.view.mapViewNavigation.stop();this._currentDirection=t}_setTimeout(t){clearTimeout(this._timeout),this._timeout=t===void 0?void 0:setTimeout(()=>{this._timeout=void 0,t()},this._stickyKeyDuration)}},Bne=class extends kt{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._pressed=!1,this._keyToDirection={[r.clockwiseOption1]:"clockwise",[r.clockwiseOption2]:"clockwise",[r.counterClockwiseOption1]:"counterClockwise",[r.counterClockwiseOption2]:"counterClockwise",[r.resetOption1]:"reset",[r.resetOption2]:"reset"},this.registerIncoming("key-down",n,i=>this._handleKeyDown(i)),this.registerIncoming("key-up",n,i=>this._handleKeyUp(i)),this.registerIncoming("blur",n,()=>this._handleStop()),this._visibilityHandle=pD(i=>i?null:this._handleStop())}onUninstall(){var t;(t=this._visibilityHandle)==null||t.remove(),this._handleStop()}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,r){const n=t.modifiers;if(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)return;const i=this._keyToDirection[t.data.key];if(this._pressed=i!=null,this._pressed){if(t.preventDefault(),r)switch(this.view.mapViewNavigation.begin(),i){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}};var nc;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(nc||(nc={}));let Hne=class extends kt{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._keysToZoomAction={},this.registerIncoming("key-down",n,i=>this._handleKeyDown(i)),r.zoomIn.forEach(i=>this._keysToZoomAction[i]=nc.IN),r.zoomOut.forEach(i=>this._keysToZoomAction[i]=nc.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const r=t.modifiers;if(r.size>0&&!r.has("Shift"))return;const{key:n}=t.data;if(!(n in this._keysToZoomAction))return;const i=this._keysToZoomAction[n],{mapViewNavigation:s}=this.view;let o=null;switch(i){case nc.IN:o=s.zoomIn();break;case nc.OUT:o=s.zoomOut();break;default:return}s.begin(),o.then(()=>s.end()),t.stopPropagation()}};const qne=.6;let Zne=class extends kt{constructor(t,r){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",r,n=>this._handleMouseWheel(n))}_handleMouseWheel(t){if(!this._view.navigation.mouseWheelZoomEnabled||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const r=this._view.mapViewNavigation,{x:n,y:i,deltaY:s}=t.data,o=1/qne**(1/60*s),a=r.zoom(o,[n,i]);a&&(this._canZoom=!1,a.catch(()=>{}).then(()=>{this._canZoom=!0,r.end()}))}},Jne=class extends kt{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const r=this.view.mapViewNavigation;this._dragEventSeparator=new jv({start:(n,i)=>{r.pinch.begin(this.view,i.data),i.stopPropagation()},update:(n,i)=>{r.pinch.update(this.view,i.data),i.stopPropagation()},end:(n,i)=>{r.pinch.end(this.view),i.stopPropagation()},condition:n=>n>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function pP(e){const t=e.native;return t?{buttons:t.buttons.map(r=>r.pressed?r.value||1:0),axes:t.axes.map(r=>Qne(r,e.axisThreshold))}:{buttons:[],axes:[]}}function Kne(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let r=0;r<e.axes.length;r++)if(e.axes[r]!==t.axes[r])return!1;for(let r=0;r<e.buttons.length;r++)if(e.buttons[r]!==t.buttons[r])return!1;return!0}function Yne(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function Qne(e,t){const r=Math.abs(e);return r<t?0:Math.sign(e)*(r-t)/(1-t)}let Xne=class{constructor(t,r){this._element=t,this._input=r,this._hasEventListeners=!1,this._onConnectGamepad=s=>{this._connectGamepad(s.gamepad)},this._onDisconnectGamepad=s=>{const o=s.gamepad,a=o.index,l=this._inputDevices[a];l&&(this._emitGamepadEvent(o,pP(l),!1),this._inputDevices.splice(a,1),this._latestUpdate.splice(a,1),this._input.gamepad.devices.remove(l),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const n="getGamepads"in window.navigator,i=window.isSecureContext;this.supported=n&&i,this.supported&&(fP(s=>this._connectGamepad(s)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){const r=new oT(t);r.deviceType!=="unknown"&&(this._inputDevices[t.index]=r,this._input.gamepad.devices.add(r)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=Ac({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),r=this._element.contains(document.activeElement),n=this._input.gamepad.enabledFocusMode==="document"&&!t||this._input.gamepad.enabledFocusMode==="view"&&!r;fP(i=>{const s=this._inputDevices[i.index];if(!s)return;const o=this._latestUpdate[i.index],a=pP(s),l=n||Yne(a);o&&(o.timestamp===i.timestamp||!o.active&&l||Kne(o.state,a))||this._emitGamepadEvent(i,a,!l)})}_emitGamepadEvent(t,r,n){const i=this._latestUpdate[t.index],s=i&&i.active;if(!s&&!n)return;const o=!s&&n?"start":s&&n?"update":"end";this._latestUpdate[t.index]={timestamp:t.timestamp,state:r,active:n},this._callback&&this._callback({device:this._inputDevices[t.index],state:r,action:o})}};function eie(e){if(!e||!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function fP(e){const t=window.navigator.getGamepads();for(let r=0;r<t.length;r++){const n=t[r];eie(n)&&e(n)}}const mP=I("edge"),tie=I("chrome"),rie=I("ff"),nie=I("safari"),yP="esri-view-surface",du={touchNone:`${yP}--touch-none`,touchPan:`${yP}--touch-pan`};let fD=class mD{constructor(t,r){this._input=r,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new Xne(t,this._input),this._gamepadSource.onEvent=n=>this._callback("gamepad",n)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>{this._releasePointerCaptureSafe(t)}),this._gamepadSource=He(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const r in this._active)if(!t||!t.has(r)){const n=this._active[r];this._element.removeEventListener(dw[r],n),delete this._active[r]}t&&t.forEach(r=>{if(!this._active[r]&&dw[r]){const n=(this._eventHandlers[r]||this._handleDefault).bind(this,r);this._element.addEventListener(dw[r],n),this._active[r]=n}}),this._gamepadSource.hasEventListeners=(t==null?void 0:t.has("gamepad"))??!1}setPointerCapture(t,r){r?this._setPointerCatpureSafe(t.pointerId):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?du.touchNone:du.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?du.touchPan:du.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(du.touchNone),this._element.classList.remove(du.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCatpureSafe(t){try{this._element.setPointerCapture(t),this._activePointerCaptures.add(t)}catch{}}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,r){const n=o6(this._element,t);return mD.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),r.x=n.x,r.y=n.y,r}_handleKey(t,r){const{key:n}=r;n&&t==="key-up"&&this._keyDownState.delete(n);const i={native:r,key:n,repeat:!!n&&this._keyDownState.has(n)};n&&t==="key-down"&&this._keyDownState.add(i.key),this._callback(t,i)}_handlePointer(t,r){const n=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});this._callback(t,n)}_handlePointerPreventDefault(t,r){const n=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});r.preventDefault(),this._callback(t,n)}_handleMouseWheel(t,r){let n=r.deltaY;switch(r.deltaMode){case 0:mP&&(n=n/document.documentElement.clientHeight*600);break;case 1:n*=30;break;case 2:n*=900}mP?n*=.7:tie||nie?n*=.6:rie&&(n*=1.375);const i=100,s=Math.abs(n);s>i&&(n=n/s*200/(1+Math.exp(-.02*(s-i))));const o=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,deltaY:n});this._callback(t,o)}_handlePointerCaptureLost(t,r){this._activePointerCaptures.delete(r.pointerId),this._handleDefault(t,r)}_handleDefault(t,r){const n={native:r};r.preventDefault(),this._callback(t,n)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}};fD.test={disableSubpixelCoordinates:!1};const dw={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let iie=class extends kt{constructor(){super(!0),this.registerIncoming("context-menu",t=>{t.data.native.preventDefault()})}};const Vt={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};function c0(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function sie(e,t){const r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)}function oie(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:Gt()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[$,x]=e,[T,E]=[x.x-$.x,x.y-$.y];return t.radius=Math.sqrt(T*T+E*E)/2,t.center.x=($.x+x.x)/2,t.center.y=($.y+x.y)/2,t}let r=0,n=0;for(let $=0;$<e.length;$++)r+=e[$].x,n+=e[$].y;r/=e.length,n/=e.length;const i=e.map($=>$.x-r),s=e.map($=>$.y-n);let o=0,a=0,l=0,d=0,p=0,f=0,m=0;for(let $=0;$<i.length;$++){const x=i[$],T=s[$],E=x*x,P=T*T;o+=E,a+=P,l+=x*T,d+=E*x,p+=P*T,f+=x*P,m+=T*E}const y=.5*(d+f),g=.5*(p+m),v=o*a-l*l,S=(y*a-g*l)/v,w=(o*g-l*y)/v,_=Gt(S+r,w+n);return{radius:Math.sqrt(S*S+w*w+(o+a)/e.length),center:_}}function Tl(e){const{native:t}=e,{pointerId:r,button:n,pointerType:i}=t;return i==="mouse"?`${r}:${n}`:`${i}`}let aie=class extends kt{constructor(t=Vt.maximumDoubleClickDelay,r=Vt.maximumDoubleClickDistance,n=Vt.maximumDoubleTouchDelay,i=Vt.maximumDoubleTouchDistance,s=Qc){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=Gt(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new jv({start:(o,a)=>this._dragStart(o,a),update:(o,a)=>this._dragUpdate(a),end:(o,a)=>this._dragEnd(a)}),this.registerIncoming("drag",o=>this._dragEventSeparator.handle(o)),this.registerIncoming("pointer-down",o=>this._handlePointerDown(o)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=Ke(t.doubleTapTimeout)})}get hasPendingInputs(){return Z0(this._pointerState,t=>t.doubleTapTimeout!=null)}_clearPointerDown(t){const r=this._pointerState.get(t);r&&(r.doubleTapTimeout=Ke(r.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_dragStart(t,r){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:n,modifiers:i}=r,{center:s}=n;this._dragStartCenter=s;const o=hw("begin",Gt(0,0),n);this._doubleTapDrag.emit(o,void 0,i),r.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:n}=t,{center:i}=r,s=hw("update",Gt(i.x-this._dragStartCenter.x,i.y-this._dragStartCenter.y),r);this._doubleTapDrag.emit(s,void 0,n),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:n}=t,{center:i}=r,s=hw("end",Gt(i.x-this._dragStartCenter.x,i.y-this._dragStartCenter.y),r);this._doubleTapDrag.emit(s,void 0,n),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:r}=t,n=Tl(r),i=this._pointerState.get(n),{pointerType:s}=r.native;if(i){const o=s==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(n),c0(i.event.data,r)>o?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:r}=t,{pointerType:n}=r.native,i=Tl(r),s=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._clearPointerDown(i),s);this._pointerState.set(i,{event:t,doubleTapTimeout:o}),this.refreshHasPendingInputs()}};function hw(e,t,r){const{button:n,buttons:i,pointer:s,pointers:o,pointerType:a,timestamp:l}=r;return{action:e,delta:t,button:n,buttons:i,pointer:s,pointers:o,pointerType:a,timestamp:l}}let lie=class extends kt{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,r,n,i){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:r.buttons,timestamp:i,pointers:uie(this._activePointerMap),pointer:r,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(t){const r=t.native.pointerId,n=$m(this._activePointerMap).angle,i={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(r,i);const s=Ly(i,yD(this._activePointerMap));i.initialAngle=s,i.lastAngle=s,this._updatePointerAngles(n)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const r=t.native.pointerId,n=this._activePointerMap.get(r);n?n.event=t:this._addPointer(t)}_removePointer(t){const r=$m(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(r)}_updatePointerAngles(t){const r=$m(this._activePointerMap);this._activePointerMap.forEach(n=>{n.initialAngle=Ly(n,r)-t,n.lastAngle=Ly(n,r)-t})}_emitEvent(t,r,n){const i=$m(this._activePointerMap);this._drag.emit(this._createPayload(t,r,i,n),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){const r=t.data.native.pointerId,n=t.timestamp;this._activePointerMap.get(r)&&(this._activePointerMap.size===1?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,n),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(r)):(this._removePointer(r),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const r=t.data,n=r.currentEvent,i=t.timestamp;switch(r.action){case"start":case"update":this._isDragging?this._activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this._isCurrentDragSuppressed&&this._emitEvent("update",n,i)):(this._addPointer(n),this._emitEvent("added",n,i),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(n),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",n,i))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function yD(e){const t=[];return e.forEach(r=>{t.push(Gt(r.event.x,r.event.y))}),oie(t)}function $m(e){const t=yD(e);let r=0;return e.forEach(n=>{let i=Ly(n,t),s=i-n.lastAngle;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;i=n.lastAngle+s,n.lastAngle=i;const o=i-n.initialAngle;r+=o}),r/=e.size||1,{angle:r,radius:t.radius,center:t.center}}function uie(e){const t=new Map;return e.forEach((r,n)=>t.set(n,r.event)),t}function Ly(e,t){const r=e.event,n=r.x-t.center.x,i=r.y-t.center.y;return Math.atan2(i,n)}var gP;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(gP||(gP={}));let cie=class extends kt{constructor(t=Vt.maximumDoubleClickDelay,r=Vt.maximumDoubleClickDistance,n=Vt.maximumDoubleTouchDelay,i=Vt.maximumDoubleTouchDistance,s=Qc){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const r=t.data,n=Tl(r);if(!this._pointerState.has(n)){const i={downButton:r.native.button,x:r.x,y:r.y,immediateDoubleClick:null};this._pointerState.set(n,i),this.startCapturingPointer(r.native)}}_handlePointerUp(t){const r=t.data,n=Tl(r),i=this._pointerState.get(n);if(i&&i.downButton===r.native.button){const s=i.immediateDoubleClick,o=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;s?(s.timeoutHandle.remove(),c0(s,t.data)>o?this._startImmediateDoubleClick(t,i):(this._immediateDoubleClick.emit(t.data,void 0,s.modifiers),this._removeState(r))):c0(i,t.data)>o?this._removeState(r):this._startImmediateDoubleClick(t,i)}}_startImmediateDoubleClick(t,r){const n=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;r.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),n)}}_removeState(t){const r=Tl(t);this._pointerState.delete(r),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}},die=class extends kt{constructor(t=Vt.maximumClickDelay,r=Vt.movementUntilMouseDrag,n=Vt.movementUntilPenDrag,i=Vt.movementUntilTouchDrag,s=Vt.holdDelay,o=Qc){super(!1),this._maximumClickDelay=t,this._movementUntilMouseDrag=r,this._movementUntilPenDrag=n,this._movementUntilTouchDrag=i,this._holdDelay=s,this._clock=o,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",a=>{this._handlePointerLoss(a,"pointer-up")}),this.registerIncoming("pointer-capture-lost",a=>{this._handlePointerLoss(a,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",a=>{this._handlePointerLoss(a,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=Ke(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){const r=t.data,n=r.native.pointerId;let i=null;this._pointerState.size===0&&(i=this._clock.setTimeout(()=>{const o=this._pointerState.get(n);if(o){if(!o.isDragging){const a=o.previousEvent;this._pointerHold.emit(a,void 0,t.modifiers),o.holdEmitted=!0}o.holdTimeout=null}},this._holdDelay));const s={startEvent:r,previousEvent:r,startTimestamp:t.timestamp,isDragging:!1,downButton:r.native.button,holdTimeout:i,modifiers:new Set};this._pointerState.set(n,s),this.startCapturingPointer(r.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_handlePointerMove(t){const r=t.data,n=r.native.pointerId,i=this._pointerState.get(n);i&&(i.isDragging?this._pointerDrag.emit(xm("update",i,r),void 0,i.modifiers):sie(r,i.startEvent)>this._getDragThreshold(r.native.pointerType)&&this._startDragging(t),i.previousEvent=r)}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){const r=t.data,n=r.native.pointerId;this._pointerState.forEach(i=>{i.holdTimeout!=null&&(i.holdTimeout.remove(),i.holdTimeout=null),i.isDragging||(i.modifiers=t.modifiers,i.isDragging=!0,n===i.startEvent.native.pointerId?this._pointerDrag.emit(xm("start",i,r)):this._pointerDrag.emit(xm("start",i,i.previousEvent),t.timestamp))})}_handlePointerLoss(t,r){const n=t.data,i=n.native.pointerId,s=this._pointerState.get(i);s&&(s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging?this._pointerDrag.emit(xm("end",s,r==="pointer-up"?n:s.previousEvent),void 0,s.modifiers):r==="pointer-up"&&s.downButton===n.native.button&&t.timestamp-s.startTimestamp<=this._maximumClickDelay&&!s.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(i),this.stopCapturingPointer(n.native),this._pointerState.size===0&&this._moveHandle.pause())}};function xm(e,t,r){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:r}}let hie=class extends kt{constructor(t=Vt.maximumDoubleClickDelay,r=Vt.maximumDoubleClickDistance,n=Vt.maximumDoubleTouchDelay,i=Vt.maximumDoubleTouchDistance,s=Qc){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=Ke(t.doubleClickTimer))}get hasPendingInputs(){return Z0(this._pointerState,t=>t.doubleClickTimer!=null)}_clearDoubleClickTimer(t,r){const n=this._pointerState.get(t);n&&(n.doubleClickTimer=Ke(n.doubleClickTimer),r&&this._click.emit(n.event.data,void 0,n.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const r=this._pointerState.get(t);r.pointerDownCount===1&&this._click.emit(r.event.data,void 0,r.event.modifiers),r.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_handleImmediateClick(t){const r=t.data,{pointerType:n}=r.native,i=pie(r);if(!this._pointerState.has(i))return void this._startClick(t);const s=this._pointerState.get(i),{data:o,modifiers:a}=s.event,l=n==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;c0(o,r)>l?(this._clearDoubleClickTimer(i,!0),this._startClick(t)):(this._clearDoubleClickTimer(i,!1),s.pointerDownCount===2&&this._doubleClick.emit(o,void 0,a))}_handlePointerDown(t){const r=Tl(t.data),n=this._pointerState.get(r);n&&(n.pointerDownCount+=1)}_startClick(t){const{data:r}=t,{native:{pointerType:n}}=r,i=Tl(r),s=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(i),s);this._pointerState.set(i,{event:t,doubleClickTimer:o,pointerDownCount:1}),this.refreshHasPendingInputs()}};function pie(e){const{pointerId:t,pointerType:r,button:n}=e.native;return r==="mouse"?`${t}:${n}`:`${r}`}const Tm={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let el=class extends ee{initialize(){const t=()=>{var r;return(r=this.view)==null?void 0:r.ready};this.addHandles([Is(()=>!t(),()=>this._disconnect()),Is(t,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerType}get latestPointerLocation(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerLocation}get multiTouchActive(){var t;return((t=this._inputManager)==null?void 0:t.multiTouchActive)??!1}isModifierKeyDown(t){var r;return((r=this._inputManager)==null?void 0:r.isModifierKeyDown(t))??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=He(this._inputManager)}_connect(){const t=this.view.surface,r=new fD(t,this.view.input),n=[new cie,new die,new hie,new lie(this.view.navigation),new aie],i=new sn({eventSource:r,recognizers:n});i.installHandlers("prevent-context-menu",[new iie],qo.INTERNAL),i.installHandlers("navigation",[new Jne(this.view),new zne(this.view),new Zne(this.view),new hP(this.view),new hP(this.view,[Tm.counter]),new Lne(this.view,"primary"),new Wne(this.view,Tm.pan),new Hne(this.view,Tm.zoom),new Bne(this.view,Tm.rotate),new Nne(this.view,"secondary"),new Rne(this.view,"touch")],qo.INTERNAL),this.view.viewEvents.connect(i),this._source=r,this._inputManager=i,re(()=>{var s,o;return(o=(s=this.view)==null?void 0:s.navigation)==null?void 0:o.browserTouchPanEnabled},s=>{this._source&&(this._source.browserTouchPanningEnabled=!s)},Rt)}get test(){}};c([h()],el.prototype,"view",void 0),c([h()],el.prototype,"latestPointerType",null),c([h()],el.prototype,"latestPointerLocation",null),c([h()],el.prototype,"multiTouchActive",null),el=c([M("esri.views.2d.input.MapViewInputManager")],el);const fie=el;var Ome=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vP,wP,_P,gD={exports:{}};vP=gD,wP=function(){function e(i,s,o,a,l){t(i,s,o||0,a||i.length-1,l||n)}function t(i,s,o,a,l){for(;a>o;){if(a-o>600){var d=a-o+1,p=s-o+1,f=Math.log(d),m=.5*Math.exp(2*f/3),y=.5*Math.sqrt(f*m*(d-m)/d)*(p-d/2<0?-1:1);t(i,s,Math.max(o,Math.floor(s-p*m/d+y)),Math.min(a,Math.floor(s+(d-p)*m/d+y)),l)}var g=i[s],v=o,S=a;for(r(i,o,s),l(i[a],g)>0&&r(i,o,a);v<S;){for(r(i,v,S),v++,S--;l(i[v],g)<0;)v++;for(;l(i[S],g)>0;)S--}l(i[o],g)===0?r(i,o,S):r(i,++S,a),S<=s&&(o=S+1),s<=S&&(a=S-1)}}function r(i,s,o){var a=i[s];i[s]=i[o],i[o]=a}function n(i,s){return i<s?-1:i>s?1:0}return e},(_P=wP())!==void 0&&(vP.exports=_P);const yie=mie(gD.exports);function d0(e,t){if(!(this instanceof d0))return new d0(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function gie(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function hu(e,t){Sh(e,0,e.children.length,t,e)}function Sh(e,t,r,n,i){i||(i=Ou(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var s,o=t;o<r;o++)s=e.children[o],$h(i,e.leaf?n(s):s);return i}function $h(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function bP(e,t){return e.minX-t.minX}function SP(e,t){return e.minY-t.minY}function pw(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Mm(e){return e.maxX-e.minX+(e.maxY-e.minY)}function vie(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function wie(e,t){var r=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,i-r)*Math.max(0,s-n)}function fw(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function Em(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Ou(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function $P(e,t,r,n,i){for(var s,o=[t,r];o.length;)(r=o.pop())-(t=o.pop())<=n||(s=t+Math.ceil((r-t)/n/2)*n,yie(e,s,t,r,i),o.push(t,s,s,r))}d0.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],n=this.toBBox;if(!Em(e,t))return r;for(var i,s,o,a,l=[];t;){for(i=0,s=t.children.length;i<s;i++)o=t.children[i],Em(e,a=t.leaf?n(o):o)&&(t.leaf?r.push(o):fw(e,a)?this._all(o,r):l.push(o));t=l.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!Em(e,t))return!1;for(var n,i,s,o,a=[];t;){for(n=0,i=t.children.length;n<i;n++)if(s=t.children[n],Em(e,o=t.leaf?r(s):s)){if(t.leaf||fw(e,o))return!0;a.push(s)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e!=null&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=Ou([]),this},remove:function(e,t){if(e==null)return this;for(var r,n,i,s,o=this.data,a=this.toBBox(e),l=[],d=[];o||l.length;){if(o||(o=l.pop(),n=l[l.length-1],r=d.pop(),s=!0),o.leaf&&(i=gie(e,o.children,t))!==-1)return o.children.splice(i,1),l.push(o),this._condense(l),this;s||o.leaf||!fw(o,a)?n?(r++,o=n.children[r],s=!1):o=null:(l.push(o),d.push(r),r=0,n=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:bP,compareMinY:SP,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,n){var i,s=r-t+1,o=this._maxEntries;if(s<=o)return hu(i=Ou(e.slice(t,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,n-1))),(i=Ou([])).leaf=!1,i.height=n;var a,l,d,p,f=Math.ceil(s/o),m=f*Math.ceil(Math.sqrt(o));for($P(e,t,r,m,this.compareMinX),a=t;a<=r;a+=m)for($P(e,a,d=Math.min(a+m-1,r),f,this.compareMinY),l=a;l<=d;l+=f)p=Math.min(l+f-1,d),i.children.push(this._build(e,l,p,n-1));return hu(i,this.toBBox),i},_chooseSubtree:function(e,t,r,n){for(var i,s,o,a,l,d,p,f;n.push(t),!t.leaf&&n.length-1!==r;){for(p=f=1/0,i=0,s=t.children.length;i<s;i++)l=pw(o=t.children[i]),(d=vie(e,o)-l)<f?(f=d,p=l<p?l:p,a=o):d===f&&l<p&&(p=l,a=o);t=a||t.children[0]}return t},_insert:function(e,t,r){var n=this.toBBox,i=r?e:n(e),s=[],o=this._chooseSubtree(i,this.data,t,s);for(o.children.push(e),$h(o,i);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(i,s,t)},_split:function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var s=this._chooseSplitIndex(r,i,n),o=Ou(r.children.splice(s,r.children.length-s));o.height=r.height,o.leaf=r.leaf,hu(r,this.toBBox),hu(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(r,o)},_splitRoot:function(e,t){this.data=Ou([e,t]),this.data.height=e.height+1,this.data.leaf=!1,hu(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var n,i,s,o,a,l,d,p;for(l=d=1/0,n=t;n<=r-t;n++)o=wie(i=Sh(e,0,n,this.toBBox),s=Sh(e,n,r,this.toBBox)),a=pw(i)+pw(s),o<l?(l=o,p=n,d=a<d?a:d):o===l&&a<d&&(d=a,p=n);return p},_chooseSplitAxis:function(e,t,r){var n=e.leaf?this.compareMinX:bP,i=e.leaf?this.compareMinY:SP;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},_allDistMargin:function(e,t,r,n){e.children.sort(n);var i,s,o=this.toBBox,a=Sh(e,0,t,o),l=Sh(e,r-t,r,o),d=Mm(a)+Mm(l);for(i=t;i<r-t;i++)s=e.children[i],$h(a,e.leaf?o(s):s),d+=Mm(a);for(i=r-t-1;i>=t;i--)s=e.children[i],$h(l,e.leaf?o(s):s),d+=Mm(l);return d},_adjustParentBBoxes:function(e,t,r){for(var n=r;n>=0;n--)$h(t[n],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)e[r].children.length===0?r>0?(t=e[r-1].children).splice(t.indexOf(e[r]),1):this.clear():hu(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};let xP=class vD{constructor(t,r){this.key=new aa(0,0,0,0),this.bounds=Mr(),this.objectIds=new Set,this.key.set(r);const n=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.level=n.level,this.scale=n.scale,this.minScale=t.zoomToScale(n.level-1),this.maxScale=t.zoomToScale(n.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return Le.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(t){return{$view:{scale:this.scale,timeZone:t}}}createChildTiles(){const t=this.key.getChildKeys(),r=fr.acquire();for(let n=0;n<t.length;n++)r[n]=new vD(this.tileInfoView,t[n]);return r}getQuantizationParameters(){return r6.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const Ta={added:[],removed:[]},mw=new Set,_ie=new aa(0,0,0,0);function bie(e,t){const r=Or(t);if(!r)return null;const[n,i]=r.valid;return e[2]>i?[Mr([e[0],e[1],i,e[3]]),Mr([n,e[1],n+e[2]-i,e[3]])]:e[0]<n?[Mr([n,e[1],e[2],e[3]]),Mr([i-(n-e[0]),e[1],i,e[3]])]:null}let Sie=class extends Ns{constructor(t){super(),this._tiles=new Map,this._index=d0(9,I("esri-csp-restrictions")?r=>({minX:r.bounds[0],minY:r.bounds[1],maxX:r.bounds[2],maxY:r.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}getIntersectingTiles(t){if(!t||uR(t)===0||cR(t)===0)return[];const r=bie(t,this.tileScheme.spatialReference);return r!=null?[...new Set([...this.boundsIntersections(r[0]),...this.boundsIntersections(r[1])])]:this.boundsIntersections(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const r={added:[],removed:[]};for(const n of t.added)if(!this.has(n)){const i=new xP(this.tileScheme,n);this._tiles.set(n,i),this._index.insert(i),r.added.push(i)}for(const n of t.removed)if(this.has(n)){const i=this.get(n);this._tiles.delete(n),this._index.remove(i),r.removed.push(i)}this.tiles.length=0,this._tiles.forEach(n=>this.tiles.push(n)),(r.added.length||r.removed.length)&&this.emit("update",r)}setViewState(t){const r=this.tileScheme.getTileCoverage(t,0);if(!r)return;const{spans:n,lodInfo:i}=r,{level:s}=i;if(n.length>0)for(const{row:o,colFrom:a,colTo:l}of n)for(let d=a;d<=l;d++){const p=_ie.set(s,o,i.normalizeCol(d),i.getWorldForColumn(d)).id;if(mw.add(p),!this.has(p)){const f=new xP(this.tileScheme,p);this._tiles.set(p,f),this._index.insert(f),this.tiles.push(f),Ta.added.push(f)}}for(let o=this.tiles.length-1;o>=0;o--){const a=this.tiles[o];mw.has(a.id)||(this._tiles.delete(a.id),this.tiles.splice(o,1),this._index.remove(a),Ta.removed.push(a))}(Ta.added.length||Ta.removed.length)&&this.emit("update",Ta),Np.pool.release(r),mw.clear(),Ta.added.length=0,Ta.removed.length=0}},fo=class extends ee{constructor(){super(...arguments),this.color=new ve([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25,this.multiHighlightEnabled=!1}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity&&this.multiHighlightEnabled===t.multiHighlightEnabled}};c([h({type:ve})],fo.prototype,"color",void 0),c([h({type:ve})],fo.prototype,"haloColor",void 0),c([h()],fo.prototype,"haloOpacity",void 0),c([h()],fo.prototype,"fillOpacity",void 0),c([h()],fo.prototype,"multiHighlightEnabled",void 0),fo=c([M("esri.views.2d.support.HighlightOptions")],fo);const wD=fo,km=e=>parseFloat(e)/100;function $ie(e,t,r){const n=typeof e.left=="string"?km(e.left)*t:e.left,i=typeof e.right=="string"?km(e.right)*t:e.right,s=typeof e.top=="string"?km(e.top)*r:e.top,o=typeof e.bottom=="string"?km(e.bottom)*r:e.bottom,a=s;return{xmin:n,xmax:Math.max(t-i,n),ymin:a,ymax:Math.max(r-o,s)}}function xie(e,t,r,n){switch(t.type){case"rect":{const{width:i,height:s}=e,{xmin:o,xmax:a,ymin:l,ymax:d}=$ie(t,i,s),{x:p,y:f}=r;return p>o&&p<a&&f>l&&f<d}case"path":return t.path.length===0||!Array.isArray(t.path[0][0])||rx(t.path,[r.x,r.y]);case"geometry":return t.geometry==null||(t.geometry.type==="polygon"?tx(t.geometry,n):tf(t.geometry,n))}}async function Tie(e,t,r){const n=l6(t)?a6(e,t):t;if(!e.ready||isNaN(n.x)||isNaN(n.y))return{screenPoint:n,results:[]};let i=new Set;const s=new Set;let o=!1,a=null,l=null;r!=null&&r.include?MP(r.include,TP(e,m=>{i.add(m),yw(m,y=>s.add(y))},(m,y)=>{s.add(m),i.add(y)},m=>{a||(a=new Set),a.add(m)},m=>i.add(m),()=>o=!0)):(o=!0,i=new Set(e.allLayerViews),i.forEach(m=>{yw(m,y=>s.add(y))})),r!=null&&r.exclude&&MP(r.exclude,TP(e,m=>{i.delete(m),yw(m,y=>s.delete(y))},m=>s.delete(m),m=>{l||(l=new Set),l.add(m)}));const d=e.toMap(n),p=e.allLayerViews.filter(m=>!m.suspended&&i.has(m)&&m.clips.every(y=>xie(e,y,n,d))).reverse();let f=[...o?e.graphicsView.hitTest(d).map(m=>({type:"graphic",graphic:m,layer:null,mapPoint:d})):[],...await Promise.all(p.map(m=>m.hitTest(d,n)).toArray())].filter(Wo).flat().filter(Wo);return f=f.filter(m=>{var y;return m.type!=="graphic"||((y=m.layer)==null?void 0:y.type)!=="subtype-group"||s.has(m.graphic.layer)}),a&&(f=f.filter(m=>!("graphic"in m)||!m.graphic||(a==null?void 0:a.has(uS(m.graphic))))),l&&(f=f.filter(m=>!("graphic"in m)||!m.graphic||!(l!=null&&l.has(uS(m.graphic))))),{screenPoint:n,results:f}}function TP(e,t,r,n,i,s){return o=>{if(o instanceof Gl){if(o.layer===e)s==null||s();else{const a=e.allLayerViews.find(l=>l.layer===o.layer);a&&(i==null||i(a))}n(uS(o))}else if(!("layer"in o&&"element"in o))if(o.type==="subtype-sublayer"){const a=e.allLayerViews.find(l=>l.layer===o.parent);a&&r(o,a)}else{const a=e.allLayerViews.find(l=>l.layer===o);a&&t(a)}}}function MP(e,t){if(e)if(dg(e))for(const r of e)if(dg(r))for(const n of r)t(n);else t(r);else t(e)}function uS(e){var r,n;const t=e.getObjectId();return t?`${((r=e.layer)==null?void 0:r.uid)??((n=e.sourceLayer)==null?void 0:n.uid)??"MapView"}/${t}`:`"MapView/${e.uid}`}function yw({layer:e},t){(e==null?void 0:e.type)==="subtype-group"&&e.sublayers.forEach(r=>{t(r)})}function Mie(e,t,r){const{ctx:n,canvas:i}=_D(e,r),s=n.getImageData(0,0,e.width,e.height),o=Pie(i,t);return bD(i),{dataUrl:o,data:s}}function Eie(e,t){const{ctx:r,canvas:n}=_D(e,t),i=r.getImageData(0,0,e.width,e.height);return bD(n),i}function _D(e,t){const r=kie();t.premultipliedAlpha&&Rie(e),r.width=e.width,r.height=e.height;const n=r.getContext("2d",{willReadFrequently:!0});return n.putImageData(e,0,0),t.flipY&&Aie(n),{ctx:n,canvas:r}}function bD(e){e.width=0,e.height=0}function kie(){return gw==null&&(gw=document.createElement("canvas")),gw}let gw=null;function Pie(e,t){const r=Lie[t.format],n=t.quality/100;return e.toDataURL(r,n)}function Cie(e,t){const r=Iie(e),n=Die[r];return{format:r,quality:Ri(t??n,0,100)}}function Oie(e,t){return t/Math.max(e[0],e[1])}function Rme(e,t,r,n=0,i=0,s=e.width-n,o=e.height-i,a=!1){const{data:l}=e,{width:d,height:p,data:f}=t,m=s/d,y=o/p,g=Math.ceil(m/2),v=Math.ceil(y/2),S=e.width;for(let w=0;w<p;w++)for(let _=0;_<d;_++){const $=4*(_+(a?p-w-1:w)*d);let x=0,T=0,E=0,P=0,O=0,A=0;const R=(w+.5)*y;for(let G=Math.floor(w*y);G<(w+1)*y;G++){const Z=Math.abs(R-(G+.5))/v,le=(_+.5)*m,W=Z*Z;for(let pe=Math.floor(_*m);pe<(_+1)*m;pe++){const Dt=Math.abs(le-(pe+.5))/g,nt=Math.sqrt(W+Dt*Dt);if(nt>=1)continue;let N=2*nt*nt*nt-3*nt*nt+1;const te=4*(n+pe+(i+G)*S);A+=N*l[te+3],T+=N,E+=N*l[te],P+=N*l[te+1],O+=N*l[te+2],x+=N}}f[$]=E/x,f[$+1]=P/x,f[$+2]=O/x,f[$+3]=A/T}return t}function Iie(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return Nie}}function Aie(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function Rie(e){const t=e.data,r=t.length;for(let n=0;n<r;n+=4){const i=t[n+3];if(i!==255&&i>0){const s=255/i;t[n]=t[n]*s,t[n+1]=t[n+1]*s,t[n+2]=t[n+2]*s}}}const Lie={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},EP=98,Nie="png",Die={png:100,jpg:EP,jpeg:EP},SD={flipY:!0,premultipliedAlpha:!0};async function Fie(e,t){const r=await $D(e,t),{format:n,quality:i}=Cie(t==null?void 0:t.format,t==null?void 0:t.quality);return Mie(r,{format:n,quality:i,rotation:0,disableDecorations:!1},SD)}async function jie(e,t){const r=await $D(e,t);return Eie(r,SD)}function $D(e,t){const r=Vie(t||{},Uie(e.stage,e.size),e.size,e.padding),n=zie(t,e.allLayerViews);return e.stage.takeScreenshot(r,n,e.backgroundColor,t==null?void 0:t.rotation)}function zie(e={},t){if(!e.layers)return;const r=[];return e.layers.forEach(n=>{const i=t.find(s=>s.layer.id===n.id);i!=null&&i.container&&r.push(i.container)}),r}function Uie(e,t){return Math.min(4,Oie(t,Math.min(4096,e.context.parameters.maxTextureSize)))}function Vie(e,t,r,n){e.ignorePadding&&(n={left:0,right:0,top:0,bottom:0});let i=null;e.width!=null&&e.height!=null?i=[e.width,e.height]:e.width==null&&e.height!=null?i=[e.height,e.height]:e.width!=null&&e.height==null?i=[e.width,e.width]:e.width==null&&e.height==null&&(i=null);const s=r[0]-(n.left+n.right),o=r[1]-(n.top+n.bottom);let a,l,d=e.area||{x:0,y:0,width:s,height:o};if(i){const p=s/o,f=i[0]/i[1];if(f>p){const m=d.width/f;d={x:d.x,y:Math.round(d.y+(d.height-m)/2),width:d.width,height:Math.round(m)}}else{const m=d.height*f;d={x:Math.round(d.x+(d.width-m)/2),y:d.y,width:Math.round(m),height:d.height}}}else i=[d.width,d.height];return i[0]>d.width?(a=Math.min(i[0]/d.width,t),l=i[0]/d.width/a):(a=1,l=i[0]/d.width),{cropArea:{x:Math.round((d.x+n.left)*a),y:Math.round((d.y+n.top)*a),width:Math.round(d.width*a),height:Math.round(d.height*a)},outputScale:l,resolutionScale:a}}const kP=160;let xh=class extends ee{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=kP&&this.clear()},kP))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};c([h()],xh.prototype,"_timer",void 0),c([h()],xh.prototype,"stationary",null),xh=c([M("esri.views.2d.support.StationaryManager")],xh);const Gie=e=>e.includes("Brush");let xD=class{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),Gie(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}};function PP(e,t={}){return e.getContext("webgl2",t)||null}let vw;function Wie(){return vw||(vw=qie()),vw}let Bie=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}};function Hie(e){if(typeof WebGL2RenderingContext>"u")return null;const t=document.createElement("canvas");if(!t)return null;let r=PP(t,{failIfMajorPerformanceCaveat:!0});if(r==null&&(r=PP(t),r!=null&&(e.majorPerformanceCaveat=!0)),r==null)return r;e.available=!0,e.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const n=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);return n&&(e.supportsHighPrecisionFragment=n.precision>0),r}function qie(){const e=new Bie,t=Hie(e);return t==null||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null),e}function Zie(e){const t=Wie();return t.available?e==="3d"&&t.majorPerformanceCaveat?new j("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist."):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new j("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new j("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new j("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function Jie(e){return e&&"nodeType"in e}function Kie(e){return e&&typeof e.render=="function"}const CP={component:"esri-component"};let tl=class extends ee{constructor(){super(...arguments),this.widget=null}destroy(){var t;this.node=null,(t=this.widget)==null||t.destroy()}get id(){var t,r;return this._get("id")??((t=this.widget)==null?void 0:t.id)??((r=this.node)==null?void 0:r.id)}set id(t){this._set("id",t)}set node(t){const r=this._get("node");t!==r&&(t&&t.classList.add(CP.component),r&&r.classList.remove(CP.component),this._set("node",t))}castNode(t){var r;return(r=this.widget)==null||r.destroy(),t?typeof t=="string"||Jie(t)?(this._set("widget",null),Cx(t)):(Kie(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};c([h()],tl.prototype,"id",null),c([h()],tl.prototype,"node",null),c([Lt("node")],tl.prototype,"castNode",null),c([h({readOnly:!0})],tl.prototype,"widget",void 0),tl=c([M("esri.views.ui.Component")],tl);const Ny=tl,TD="calcite-mode-";function Yie(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}function Qie(){return Yie().startsWith("dark")}function Xie(){return`${TD}${Qie()?"dark":"light"}`}function ese(e){tse(e),e.classList.add(Xie())}function tse(e){Array.from(e.classList).forEach(t=>{t.startsWith(TD)&&e.classList.remove(t)})}const rse={left:0,top:0,bottom:0,right:0},MD={bottom:30,top:15,right:15,left:15},Ji="esri-ui",wr={ui:Ji,corner:`${Ji}-corner`,innerContainer:`${Ji}-inner-container`,manualContainer:`${Ji}-manual-container`,cornerContainer:`${Ji}-corner-container`,topLeft:`${Ji}-top-left`,topRight:`${Ji}-top-right`,bottomLeft:`${Ji}-bottom-left`,bottomRight:`${Ji}-bottom-right`};function nse(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function Pm(e){return e===0?"0":`${e}px`}function ww(e){const t=typeof e=="object"&&e!==null&&Object.getPrototypeOf(e);return(t===null||t===Object.prototype)&&("component"in e||"index"in e||"position"in e)?e:null}function _w(e,{top:t,bottom:r,left:n,right:i}){e.style.top=t,e.style.bottom=r,e.style.left=n,e.style.right=i}let $i=class extends Ns.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=Zr(),this.view=null,this._applyViewPadding=()=>{const r=this.container;r&&_w(r,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const r=this._innerContainer;r&&_w(r,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([re(()=>{var t;return[(t=this.view)==null?void 0:t.padding,this.container]},this._applyViewPadding,Rt),re(()=>this.padding,this._applyUIPadding,Rt),re(()=>[this.container,this._locale],([t,r])=>{t&&t.setAttribute("lang",r)},Rt),px(t=>{this._locale=t})])}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentMap.clear()}set container(t){const r=this._get("container");t!==r&&(t&&(t.classList.add(wr.ui),ese(t),this._attachContainers(t)),r&&(r.classList.remove(wr.ui),_w(r,{top:"",bottom:"",left:"",right:""}),uL(r)),this._set("container",t))}get height(){var s;const t=((s=this.view)==null?void 0:s.height)??0;if(t===0)return t;const r=this._getViewPadding(),{top:n,bottom:i}=r;return Math.max(t-n-i,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:{...MD,...t}}get width(){var s;const t=((s=this.view)==null?void 0:s.width)??0;if(t===0)return t;const r=this._getViewPadding(),{left:n,right:i}=r;return Math.max(t-n-i,0)}add(t,r){let n,i,s;if(Array.isArray(t))return void t.forEach(a=>this.add(a,r));const o=ww(t);o&&({index:n,position:r,component:t,key:i}=o),r&&typeof r=="object"&&({index:n,key:i,position:r,internal:s}=r),!t||r&&!this._isValidPosition(r)||this._add(t,r,n,i,s)}remove(t,r){var i,s;if(!t)return;if(Array.isArray(t))return t.map(o=>this.remove(o,r));const n=this._find(t);if(n){if(this._componentMap.has(n)&&((i=this._componentMap.get(n))==null?void 0:i.key)!==r)return;const o=this._components.indexOf(n),a=n.node.parentNode;return a==null||a.removeChild(n.node),this._componentMap.delete(n),(s=n.widget)==null||s.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(o,1)[0]}}empty(t,r={removeInternal:!1}){if(Array.isArray(t)){for(const s of t)this.empty(s,r);return}const n=this._positionNameToContainerLookup[t??"manual"],i=Array.prototype.slice.call(n.children).map(s=>this._findByNode(s)).filter(s=>{var o;return s==null?!1:!(((o=this._componentMap.get(s))==null?void 0:o.internal)??!1)||r.removeInternal});for(const s of i)this.remove(s)}move(t,r){if(Array.isArray(t)&&t.forEach(o=>this.move(o,r)),!t)return;let n;const i=ww(t)||ww(r);if(i&&(n=i.index,r=i.position,t=i.component||t),r&&!this._isValidPosition(r))return;const s=this.remove(t);s&&this.add(s,{position:r,index:n})}find(t){if(!t)return null;const r=this._findById(t);return r&&(r.widget||r.node)}getComponents(t,r={includeInternal:!1}){return t?Array.isArray(t)?t.flatMap(n=>this._getComponentsAtPosition(n,r)):this._getComponentsAtPosition(t,r):this._components.filter(n=>{var i;return r.includeInternal||!((i=this._componentMap.get(n))!=null&&i.internal)}).map(({widget:n,node:i})=>n??i)}getPosition(t){for(const r in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[r].contains(t))return r;return null}_add(t,r,n,i,s){t instanceof Ny||(t=new Ny({node:t}));const{widget:o}=t;o!=null&&o instanceof ee&&o.addHandles(ke(()=>{queueMicrotask(()=>this.remove(t))}),this._removeWidgetHandleKey),this._place({component:t,position:r,index:n}),this._components.push(t),this._componentMap.set(t,{key:i,internal:s})}_find(t){return t?t instanceof Ny?this._findByComponent(t):typeof t=="string"?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){var t;return((t=this.view)==null?void 0:t.padding)??rse}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add(wr.innerContainer,wr.cornerContainer);const r=document.createElement("div");r.classList.add(wr.innerContainer,wr.manualContainer);const n=document.createElement("div");n.classList.add(wr.topLeft,wr.corner),t.appendChild(n);const i=document.createElement("div");i.classList.add(wr.topRight,wr.corner),t.appendChild(i);const s=document.createElement("div");s.classList.add(wr.bottomLeft,wr.corner),t.appendChild(s);const o=document.createElement("div");o.classList.add(wr.bottomRight,wr.corner),t.appendChild(o),this._innerContainer=t,this._manualContainer=r;const a=nJ();this._cornerNameToContainerLookup={"top-left":n,"top-right":i,"bottom-left":s,"bottom-right":o,"top-leading":a?i:n,"top-trailing":a?n:i,"bottom-leading":a?o:s,"bottom-trailing":a?s:o},this._positionNameToContainerLookup={manual:r,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){const r=t.position??"manual",{component:n,index:i}=t,s=this._positionNameToContainerLookup[r],o=i!=null&&i>-1;if(nse(n.widget)&&n.widget.startup(),!o)return void s.appendChild(n.node);const a=Array.from(s.children);if(i===0)return void(s.firstChild?XE(n.node,s.firstChild):s.appendChild(n.node));i>=a.length?s.appendChild(n.node):XE(n.node,a[i])}_toPixelPosition(t){return{top:Pm(t.top),left:Pm(t.left),right:Pm(t.right),bottom:Pm(t.bottom)}}_findByComponent(t){return this._components.find(r=>r===t)??null}_findById(t){return this._components.find(({id:r})=>r===t)??null}_findByNode(t){return this._components.find(({node:r})=>r===t)??null}_getComponentsAtPosition(t,r){const n=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(n.children).map(i=>this._findByNode(i)).filter(Wo).filter(i=>{var s;return r.includeInternal||!((s=this._componentMap.get(i))!=null&&s.internal)}).map(({widget:i,node:s})=>i??s)}};c([h()],$i.prototype,"_locale",void 0),c([h()],$i.prototype,"container",null),c([h()],$i.prototype,"height",null),c([h({value:MD})],$i.prototype,"padding",null),c([Lt("padding")],$i.prototype,"castPadding",null),c([h()],$i.prototype,"view",void 0),c([h()],$i.prototype,"width",null),$i=c([M("esri.views.ui.UI")],$i);const ise=$i,sse="randomUUID"in crypto;function _T(){if(sse)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function zme(){return`{${_T().toUpperCase()}}`}function Ume(){return`{${_T()}}`}const ose={handleInterceptedEvent:(e,t,r,n)=>(e.scheduleRender(),t.properties[`on${n.type}`].apply(t.properties.bind||r,[n]))},ase={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}},lse=e=>({...ase,...e}),use=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},cse=(e,t)=>e.find(t),OP=(e,t,r=!1)=>{let n=e;return t.forEach((i,s)=>{const o=n!=null&&n.children?cse(n.children,a=>a.domNode===i):void 0;r&&!o&&s!==t.length-1||(n=o)}),n},dse=e=>{let t;const r={...ose,...e},n=lse(r),i=n.performanceLogger;let s,o=!0,a=!1;const l=[],d=[],p=(m,y,g)=>{var w;let v;n.eventHandlerInterceptor=(_,$,x,T)=>function(E){let P;i("domEvent",E);const O=use(E.currentTarget,v.domNode),A=O.some(G=>{var Z;return customElements.get((Z=G==null?void 0:G.tagName)==null?void 0:Z.toLowerCase())});if(E.eventPhase===Event.CAPTURING_PHASE||!A)O.reverse(),P=OP(v.getLastRender(),O);else{const G=E.composedPath(),Z=G.slice(G.indexOf(E.currentTarget),G.indexOf(v.domNode)).reverse();P=OP(v.getLastRender(),Z,!0)}let R;return P&&(R=r.handleInterceptedEvent(t,P,this,E)),i("domEventProcessed",E),R},(w=r.postProcessProjectionOptions)==null||w.call(r,n);const S=g();v=m(y,S,n),n.eventHandlerInterceptor=void 0,l.push(v),d.push(g),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(v,S)};let f=()=>{if(s=void 0,o){o=!1,i("renderStart",void 0);for(let m=0;m<l.length;m++){const y=d[m]();i("rendered",void 0),l[m].update(y),i("patched",void 0)}i("renderDone",void 0),o=!0}};return r.modifyDoRenderImplementation&&(f=r.modifyDoRenderImplementation(f,l,d)),t={renderNow:f,scheduleRender:()=>{s||a||(s=requestAnimationFrame(f))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),a=!0},resume:()=>{a=!1,o=!0,t.scheduleRender()},append:(m,y)=>{p(Lo.append,m,y)},insertBefore:(m,y)=>{p(Lo.insertBefore,m,y)},merge:(m,y)=>{p(Lo.merge,m,y)},replace:(m,y)=>{p(Lo.replace,m,y)},detach:m=>{for(let y=0;y<d.length;y++)if(d[y]===m)return d.splice(y,1),l.splice(y,1)[0];throw new Error("renderFunction was not found")}},t};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.11.1
 */const ED="calcite-mode-auto",kD="calcite-mode-dark",hse="calcite-mode-light",Vme={autoMode:ED,darkMode:kD,lightMode:hse,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"},Gme={filter:250,nextTick:0,resize:150,reposition:100};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.11.1
 */const $s=globalThis.calciteConfig,Wme=($s==null?void 0:$s.focusTrapStack)||[],Bme=($s==null?void 0:$s.logLevel)||"info",IP="2.11.1",pse="2024-08-02",fse="dff26357be7ecaa7cefeb1bc2522fd54177aea87";function mse(){if($s&&$s.version)return;console.info(`Using Calcite Components ${IP} [Date: ${pse}, Revision: ${fse}]`);const e=$s||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:IP,writable:!1}),globalThis.calciteConfig=e}var ki={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},yse=Object.defineProperty,gse=(e,t)=>{for(var r in t)yse(e,r,{get:t[r],enumerable:!0})},PD=new WeakMap,ru=e=>PD.get(e),vse=(e,t)=>{const r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return PD.set(e,r)},AP=(e,t)=>t in e,_f=(e,t)=>(0,console.error)(e,t),h0=new Map,wse=[],_se="slot-fb{display:contents}slot-fb[hidden]{display:none}",RP="http://www.w3.org/1999/xlink",bf=typeof window<"u"?window:{},ei=bf.document||{head:{}},Hme=bf.HTMLElement||class{},Nt={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,r,n)=>e.addEventListener(t,r,n),rel:(e,t,r,n)=>e.removeEventListener(t,r,n),ce:(e,t)=>new CustomEvent(e,t)},bse=(()=>{let e=!1;try{ei.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),Sse=e=>Promise.resolve(e),$se=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),cS=!1,dS=[],CD=[],OD=(e,t)=>r=>{e.push(r),cS||(cS=!0,t&&Nt.$flags$&4?xse(hS):Nt.raf(hS))},LP=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(r){_f(r)}e.length=0},hS=()=>{LP(dS),LP(CD),(cS=dS.length>0)&&Nt.raf(hS)},xse=e=>Sse().then(e),qme=OD(dS,!1),Tse=OD(CD,!0),Mse=e=>{const t=new URL(e,Nt.$resourcesUrl$);return t.origin!==bf.location.origin?t.href:t.pathname},Ese=e=>Nt.$resourcesUrl$=e,NP={},kse="http://www.w3.org/2000/svg",Pse="http://www.w3.org/1999/xhtml",Cse=e=>e!=null,bT=e=>(e=typeof e,e==="object"||e==="function");function Ose(e){var t,r,n;return(n=(r=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:r.getAttribute("content"))!=null?n:void 0}var Ise={};gse(Ise,{err:()=>ID,map:()=>Ase,ok:()=>pS,unwrap:()=>Rse,unwrapErr:()=>Lse});var pS=e=>({isOk:!0,isErr:!1,value:e}),ID=e=>({isOk:!1,isErr:!0,value:e});function Ase(e,t){if(e.isOk){const r=t(e.value);return r instanceof Promise?r.then(n=>pS(n)):pS(r)}if(e.isErr){const r=e.value;return ID(r)}throw"should never get here"}var Rse=e=>{if(e.isOk)return e.value;throw e.value},Lse=e=>{if(e.isErr)return e.value;throw e.value},Wl=(e,t="")=>()=>{},AD=(e,t,...r)=>{let n=null,i=null,s=null,o=!1,a=!1;const l=[],d=f=>{for(let m=0;m<f.length;m++)n=f[m],Array.isArray(n)?d(n):n!=null&&typeof n!="boolean"&&((o=typeof e!="function"&&!bT(n))&&(n=String(n)),o&&a?l[l.length-1].$text$+=n:l.push(o?p0(null,n):n),a=o)};if(d(r),t){t.key&&(i=t.key),t.name&&(s=t.name);{const f=t.className||t.class;f&&(t.class=typeof f!="object"?f:Object.keys(f).filter(m=>f[m]).join(" "))}}if(typeof e=="function")return e(t===null?{}:t,l,Fse);const p=p0(e,null);return p.$attrs$=t,l.length>0&&(p.$children$=l),p.$key$=i,p.$name$=s,p},p0=(e,t)=>{const r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return r.$attrs$=null,r.$key$=null,r.$name$=null,r},Nse={},Dse=e=>e&&e.$tag$===Nse,Fse={forEach:(e,t)=>e.map(DP).forEach(t),map:(e,t)=>e.map(DP).map(t).map(jse)},DP=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),jse=e=>{if(typeof e.vtag=="function"){const r={...e.vattrs};return e.vkey&&(r.key=e.vkey),e.vname&&(r.name=e.vname),AD(e.vtag,r,...e.vchildren||[])}const t=p0(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},zse=e=>wse.map(t=>t(e)).find(t=>!!t),Use=(e,t)=>e!=null&&!bT(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,Vse=e=>e,Zme=(e,t,r)=>{const n=Vse(e);return{emit:i=>Gse(n,t,{bubbles:!!(r&4),composed:!!(r&2),cancelable:!!(r&1),detail:i})}},Gse=(e,t,r)=>{const n=Nt.ce(t,r);return e.dispatchEvent(n),n},FP=new WeakMap,Wse=(e,t,r)=>{let n=h0.get(e);$se&&r?(n=n||new CSSStyleSheet,typeof n=="string"?n=t:n.replaceSync(t)):n=t,h0.set(e,n)},Bse=(e,t,r)=>{var n;const i=RD(t,r),s=h0.get(i);if(e=e.nodeType===11?e:ei,s)if(typeof s=="string"){e=e.head||e;let o=FP.get(e),a;if(o||FP.set(e,o=new Set),!o.has(i)){{a=ei.createElement("style"),a.innerHTML=s;const l=(n=Nt.$nonce$)!=null?n:Ose(ei);l!=null&&a.setAttribute("nonce",l),e.insertBefore(a,e.querySelector("link"))}t.$flags$&4&&(a.innerHTML+=_se),o&&o.add(i)}}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s]);return i},Hse=e=>{const t=e.$cmpMeta$,r=e.$hostElement$,n=t.$flags$,i=Wl("attachStyles",t.$tagName$),s=Bse(r.shadowRoot?r.shadowRoot:r.getRootNode(),t,e.$modeName$);n&10&&(r["s-sc"]=s,r.classList.add(s+"-h"),n&2&&r.classList.add(s+"-s")),i()},RD=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),jP=(e,t,r,n,i,s)=>{if(r!==n){let o=AP(e,t),a=t.toLowerCase();if(t==="class"){const l=e.classList,d=zP(r),p=zP(n);l.remove(...d.filter(f=>f&&!p.includes(f))),l.add(...p.filter(f=>f&&!d.includes(f)))}else if(t==="style"){for(const l in r)(!n||n[l]==null)&&(l.includes("-")?e.style.removeProperty(l):e.style[l]="");for(const l in n)(!r||n[l]!==r[l])&&(l.includes("-")?e.style.setProperty(l,n[l]):e.style[l]=n[l])}else if(t!=="key")if(t==="ref")n&&n(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):AP(bf,a)?t=a.slice(2):t=a[2]+t.slice(3),r||n){const l=t.endsWith(LD);t=t.replace(Zse,""),r&&Nt.rel(e,t,r,l),n&&Nt.ael(e,t,n,l)}}else{const l=bT(n);if((o||l&&n!==null)&&!i)try{if(e.tagName.includes("-"))e[t]=n;else{const p=n??"";t==="list"?o=!1:(r==null||e[t]!=p)&&(e[t]=p)}}catch{}let d=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,d=!0),n==null||n===!1?(n!==!1||e.getAttribute(t)==="")&&(d?e.removeAttributeNS(RP,t):e.removeAttribute(t)):(!o||s&4||i)&&!l&&(n=n===!0?"":n,d?e.setAttributeNS(RP,t,n):e.setAttribute(t,n))}}},qse=/\s/,zP=e=>e?e.split(qse):[],LD="Capture",Zse=new RegExp(LD+"$"),ND=(e,t,r)=>{const n=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||NP,s=t.$attrs$||NP;for(const o of UP(Object.keys(i)))o in s||jP(n,o,i[o],void 0,r,t.$flags$);for(const o of UP(Object.keys(s)))jP(n,o,i[o],s[o],r,t.$flags$)};function UP(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var Iu,fS,Hc,f0=!1,m0=!1,ST=!1,Vr=!1,y0=(e,t,r,n)=>{var i;const s=t.$children$[r];let o=0,a,l,d;if(f0||(ST=!0,s.$tag$==="slot"&&(Iu&&n.classList.add(Iu+"-s"),s.$flags$|=s.$children$?2:1)),s.$text$!==null)a=s.$elm$=ei.createTextNode(s.$text$);else if(s.$flags$&1)a=s.$elm$=ei.createTextNode("");else{if(Vr||(Vr=s.$tag$==="svg"),a=s.$elm$=ei.createElementNS(Vr?kse:Pse,!f0&&ki.slotRelocation&&s.$flags$&2?"slot-fb":s.$tag$),Vr&&s.$tag$==="foreignObject"&&(Vr=!1),ND(null,s,Vr),Cse(Iu)&&a["s-si"]!==Iu&&a.classList.add(a["s-si"]=Iu),xT(a,n),s.$children$)for(o=0;o<s.$children$.length;++o)l=y0(e,s,o,a),l&&a.appendChild(l);s.$tag$==="svg"?Vr=!1:a.tagName==="foreignObject"&&(Vr=!0)}return a["s-hn"]=Hc,s.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=fS,a["s-sn"]=s.$name$||"",a["s-rf"]=(i=s.$attrs$)==null?void 0:i.ref,d=e&&e.$children$&&e.$children$[r],d&&d.$tag$===s.$tag$&&e.$elm$&&Dp(e.$elm$,!1)),a},Dp=(e,t)=>{Nt.$flags$|=1;const r=Array.from(e.childNodes);if(e["s-sr"]&&ki.experimentalSlotFixes){let n=e;for(;n=n.nextSibling;)n&&n["s-sn"]===e["s-sn"]&&n["s-sh"]===Hc&&r.push(n)}for(let n=r.length-1;n>=0;n--){const i=r[n];i["s-hn"]!==Hc&&i["s-ol"]&&(Zo(jD(i),i,$T(i)),i["s-ol"].remove(),i["s-ol"]=void 0,i["s-sh"]=void 0,ST=!0),t&&Dp(i,t)}Nt.$flags$&=-2},DD=(e,t,r,n,i,s)=>{let o=e["s-cr"]&&e["s-cr"].parentNode||e,a;for(o.shadowRoot&&o.tagName===Hc&&(o=o.shadowRoot);i<=s;++i)n[i]&&(a=y0(null,r,i,e),a&&(n[i].$elm$=a,Zo(o,a,$T(t))))},FD=(e,t,r)=>{for(let n=t;n<=r;++n){const i=e[n];if(i){const s=i.$elm$;VD(i),s&&(m0=!0,s["s-ol"]?s["s-ol"].remove():Dp(s,!0),s.remove())}}},Jse=(e,t,r,n,i=!1)=>{let s=0,o=0,a=0,l=0,d=t.length-1,p=t[0],f=t[d],m=n.length-1,y=n[0],g=n[m],v,S;for(;s<=d&&o<=m;)if(p==null)p=t[++s];else if(f==null)f=t[--d];else if(y==null)y=n[++o];else if(g==null)g=n[--m];else if(Cm(p,y,i))Au(p,y,i),p=t[++s],y=n[++o];else if(Cm(f,g,i))Au(f,g,i),f=t[--d],g=n[--m];else if(Cm(p,g,i))(p.$tag$==="slot"||g.$tag$==="slot")&&Dp(p.$elm$.parentNode,!1),Au(p,g,i),Zo(e,p.$elm$,f.$elm$.nextSibling),p=t[++s],g=n[--m];else if(Cm(f,y,i))(p.$tag$==="slot"||g.$tag$==="slot")&&Dp(f.$elm$.parentNode,!1),Au(f,y,i),Zo(e,f.$elm$,p.$elm$),f=t[--d],y=n[++o];else{for(a=-1,l=s;l<=d;++l)if(t[l]&&t[l].$key$!==null&&t[l].$key$===y.$key$){a=l;break}a>=0?(S=t[a],S.$tag$!==y.$tag$?v=y0(t&&t[o],r,a,e):(Au(S,y,i),t[a]=void 0,v=S.$elm$),y=n[++o]):(v=y0(t&&t[o],r,o,e),y=n[++o]),v&&Zo(jD(p.$elm$),v,$T(p.$elm$))}s>d?DD(e,n[m+1]==null?null:n[m+1].$elm$,r,n,o,m):o>m&&FD(t,s,d)},Cm=(e,t,r=!1)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:r?!0:e.$key$===t.$key$:!1,$T=e=>e&&e["s-ol"]||e,jD=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,Au=(e,t,r=!1)=>{const n=t.$elm$=e.$elm$,i=e.$children$,s=t.$children$,o=t.$tag$,a=t.$text$;let l;a===null?(Vr=o==="svg"?!0:o==="foreignObject"?!1:Vr,o==="slot"&&!f0||ND(e,t,Vr),i!==null&&s!==null?Jse(n,i,t,s,r):s!==null?(e.$text$!==null&&(n.textContent=""),DD(n,null,t,s,0,s.length-1)):i!==null&&FD(i,0,i.length-1),Vr&&o==="svg"&&(Vr=!1)):(l=n["s-cr"])?l.parentNode.textContent=a:e.$text$!==a&&(n.data=a)},zD=e=>{const t=e.childNodes;for(const r of t)if(r.nodeType===1){if(r["s-sr"]){const n=r["s-sn"];r.hidden=!1;for(const i of t)if(i!==r){if(i["s-hn"]!==r["s-hn"]||n!==""){if(i.nodeType===1&&(n===i.getAttribute("slot")||n===i["s-sn"])||i.nodeType===3&&n===i["s-sn"]){r.hidden=!0;break}}else if(i.nodeType===1||i.nodeType===3&&i.textContent.trim()!==""){r.hidden=!0;break}}}zD(r)}},ys=[],UD=e=>{let t,r,n;for(const i of e.childNodes){if(i["s-sr"]&&(t=i["s-cr"])&&t.parentNode){r=t.parentNode.childNodes;const s=i["s-sn"];for(n=r.length-1;n>=0;n--)if(t=r[n],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==i["s-hn"]&&!ki.experimentalSlotFixes)if(VP(t,s)){let o=ys.find(a=>a.$nodeToRelocate$===t);m0=!0,t["s-sn"]=t["s-sn"]||s,o?(o.$nodeToRelocate$["s-sh"]=i["s-hn"],o.$slotRefNode$=i):(t["s-sh"]=i["s-hn"],ys.push({$slotRefNode$:i,$nodeToRelocate$:t})),t["s-sr"]&&ys.map(a=>{VP(a.$nodeToRelocate$,t["s-sn"])&&(o=ys.find(l=>l.$nodeToRelocate$===t),o&&!a.$slotRefNode$&&(a.$slotRefNode$=o.$slotRefNode$))})}else ys.some(o=>o.$nodeToRelocate$===t)||ys.push({$nodeToRelocate$:t})}i.nodeType===1&&UD(i)}},VP=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",VD=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(VD)},Zo=(e,t,r)=>{const n=e==null?void 0:e.insertBefore(t,r);return xT(t,e),n},GD=e=>{const t=[];return e&&t.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...GD(e.parentElement)),t},xT=(e,t,r=!1)=>{var n;if(e&&t&&e.nodeType===1){const i=new Set(GD(t).filter(Boolean));if(i.size&&((n=e.classList)==null||n.add(...e["s-scs"]=[...i]),e["s-ol"]||r))for(const s of Array.from(e.childNodes))xT(s,e,!0)}},Kse=(e,t,r=!1)=>{var n,i,s,o,a;const l=e.$hostElement$,d=e.$cmpMeta$,p=e.$vnode$||p0(null,null),f=Dse(t)?t:AD(null,null,t);if(Hc=l.tagName,d.$attrsToReflect$&&(f.$attrs$=f.$attrs$||{},d.$attrsToReflect$.map(([m,y])=>f.$attrs$[y]=l[m])),r&&f.$attrs$)for(const m of Object.keys(f.$attrs$))l.hasAttribute(m)&&!["key","ref","style","class"].includes(m)&&(f.$attrs$[m]=l[m]);f.$tag$=null,f.$flags$|=4,e.$vnode$=f,f.$elm$=p.$elm$=l.shadowRoot||l,Iu=l["s-sc"],f0=(d.$flags$&1)!==0,fS=l["s-cr"],m0=!1,Au(p,f,r);{if(Nt.$flags$|=1,ST){UD(f.$elm$);for(const m of ys){const y=m.$nodeToRelocate$;if(!y["s-ol"]){const g=ei.createTextNode("");g["s-nr"]=y,Zo(y.parentNode,y["s-ol"]=g,y)}}for(const m of ys){const y=m.$nodeToRelocate$,g=m.$slotRefNode$;if(g){const v=g.parentNode;let S=g.nextSibling;{let w=(n=y["s-ol"])==null?void 0:n.previousSibling;for(;w;){let _=(i=w["s-nr"])!=null?i:null;if(_&&_["s-sn"]===y["s-sn"]&&v===_.parentNode){for(_=_.nextSibling;_===y||_!=null&&_["s-sr"];)_=_==null?void 0:_.nextSibling;if(!_||!_["s-nr"]){S=_;break}}w=w.previousSibling}}(!S&&v!==y.parentNode||y.nextSibling!==S)&&y!==S&&(!y["s-hn"]&&y["s-ol"]&&(y["s-hn"]=y["s-ol"].parentNode.nodeName),Zo(v,y,S),y.nodeType===1&&(y.hidden=(s=y["s-ih"])!=null?s:!1)),y&&typeof g["s-rf"]=="function"&&g["s-rf"](y)}else y.nodeType===1&&(r&&(y["s-ih"]=(o=y.hidden)!=null?o:!1),y.hidden=!0)}}m0&&zD(f.$elm$),Nt.$flags$&=-2,ys.length=0}if(ki.experimentalScopedSlotChanges&&d.$flags$&2)for(const m of f.$elm$.childNodes)m["s-hn"]!==Hc&&!m["s-sh"]&&(r&&m["s-ih"]==null&&(m["s-ih"]=(a=m.hidden)!=null?a:!1),m.hidden=!0);fS=void 0},Yse=(e,t)=>{},TT=(e,t)=>(e.$flags$|=16,Yse(e,e.$ancestorComponent$),Tse(()=>Qse(e,t))),Qse=(e,t)=>{const r=e.$hostElement$,n=Wl("scheduleUpdate",e.$cmpMeta$.$tagName$),i=r;if(!i)throw new Error(`Can't render component <${r.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let s;return t?s=xc(i,"componentWillLoad"):s=xc(i,"componentWillUpdate"),s=GP(s,()=>xc(i,"componentWillRender")),n(),GP(s,()=>eoe(e,i,t))},GP=(e,t)=>Xse(e)?e.then(t).catch(r=>{console.error(r),t()}):t(),Xse=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",eoe=async(e,t,r)=>{const n=e.$hostElement$,i=Wl("update",e.$cmpMeta$.$tagName$);n["s-rc"],r&&Hse(e);const s=Wl("render",e.$cmpMeta$.$tagName$);toe(e,t,n,r),s(),i(),roe(e)},WP=null,toe=(e,t,r,n)=>{try{WP=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(ki.hasRenderFn||ki.reflect)&&(ki.vdomRender||ki.reflect)&&(ki.hydrateServerSide||Kse(e,t,n))}catch(l){_f(l,e.$hostElement$)}return WP=null,null},roe=e=>{const t=e.$cmpMeta$.$tagName$,r=e.$hostElement$,n=Wl("postUpdate",t),i=r;e.$ancestorComponent$,xc(i,"componentDidRender"),e.$flags$&64?(xc(i,"componentDidUpdate"),n()):(e.$flags$|=64,xc(i,"componentDidLoad"),n())},Jme=e=>{{const t=ru(e),r=t.$hostElement$.isConnected;return r&&(t.$flags$&18)===2&&TT(t,!1),r}},xc=(e,t,r)=>{if(e&&e[t])try{return e[t](r)}catch(n){_f(n)}},noe=(e,t)=>ru(e).$instanceValues$.get(t),ioe=(e,t,r,n)=>{const i=ru(e),s=e,o=i.$instanceValues$.get(t),a=i.$flags$,l=s;r=Use(r,n.$members$[t][0]);const d=Number.isNaN(o)&&Number.isNaN(r);if(r!==o&&!d){i.$instanceValues$.set(t,r);{if(n.$watchers$&&a&128){const f=n.$watchers$[t];f&&f.map(m=>{try{l[m](r,o,t)}catch(y){_f(y,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(r,o,t)===!1)return;TT(i,!1)}}}},soe=(e,t,r)=>{var n,i;const s=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const o=Object.entries((n=t.$members$)!=null?n:{});o.map(([a,[l]])=>{(l&31||l&32)&&Object.defineProperty(s,a,{get(){return noe(this,a)},set(d){ioe(this,a,d,t)},configurable:!0,enumerable:!0})});{const a=new Map;s.attributeChangedCallback=function(l,d,p){Nt.jmp(()=>{var f;const m=a.get(l);if(this.hasOwnProperty(m))p=this[m],delete this[m];else{if(s.hasOwnProperty(m)&&typeof this[m]=="number"&&this[m]==p)return;if(m==null){const y=ru(this),g=y==null?void 0:y.$flags$;if(g&&!(g&8)&&g&128&&p!==d){const S=this,w=(f=t.$watchers$)==null?void 0:f[l];w==null||w.forEach(_=>{S[_]!=null&&S[_].call(S,p,d,l)})}return}}this[m]=p===null&&typeof this[m]=="boolean"?!1:p})},e.observedAttributes=Array.from(new Set([...Object.keys((i=t.$watchers$)!=null?i:{}),...o.filter(([l,d])=>d[0]&15).map(([l,d])=>{var p;const f=d[1]||l;return a.set(f,l),d[0]&512&&((p=t.$attrsToReflect$)==null||p.push([l,f])),f})]))}}return e},ooe=async(e,t,r,n)=>{let i;if(!(t.$flags$&32)){t.$flags$|=32,r.$lazyBundleId$;{i=e.constructor;const o=e.localName;customElements.whenDefined(o).then(()=>t.$flags$|=128)}if(i&&i.style){let o;typeof i.style=="string"?o=i.style:typeof i.style!="string"&&(t.$modeName$=zse(e),t.$modeName$&&(o=i.style[t.$modeName$]));const a=RD(r,t.$modeName$);if(!h0.has(a)){const l=Wl("registerStyles",r.$tagName$);Wse(a,o,!!(r.$flags$&1)),l()}}}t.$ancestorComponent$,TT(t,!0)},BP=e=>{},aoe=e=>{if(!(Nt.$flags$&1)){const t=ru(e),r=t.$cmpMeta$,n=Wl("connectedCallback",r.$tagName$);t.$flags$&1?(WD(e,t,r.$listeners$),t!=null&&t.$lazyInstance$?BP(t.$lazyInstance$):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>BP(t.$lazyInstance$))):(t.$flags$|=1,r.$flags$&12&&loe(e),r.$members$&&Object.entries(r.$members$).map(([i,[s]])=>{if(s&31&&e.hasOwnProperty(i)){const o=e[i];delete e[i],e[i]=o}}),ooe(e,t,r)),n()}},loe=e=>{const t=e["s-cr"]=ei.createComment("");t["s-cn"]=!0,Zo(e,t,e.firstChild)},uoe=async e=>{if(!(Nt.$flags$&1)){const t=ru(e);t.$rmListeners$&&(t.$rmListeners$.map(r=>r()),t.$rmListeners$=void 0)}},Kme=(e,t)=>{const r={$flags$:t[0],$tagName$:t[1]};r.$members$=t[2],r.$listeners$=t[3],r.$watchers$=e.$watchers$,r.$attrsToReflect$=[];const n=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){vse(this,r)},connectedCallback(){const s=ru(this);WD(this,s,r.$listeners$),aoe(this),n&&n.call(this)},disconnectedCallback(){uoe(this),i&&i.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(r.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${r.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),e.is=r.$tagName$,soe(e,r)},Yme=(e,t)=>t,WD=(e,t,r,n)=>{r&&r.map(([i,s,o])=>{const a=doe(e,i),l=coe(t,o),d=hoe(i);Nt.ael(a,s,l,d),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>Nt.rel(a,s,l,d))})},coe=(e,t)=>r=>{var n;try{ki.lazyLoad||e.$hostElement$[t](r)}catch(i){_f(i)}},doe=(e,t)=>t&4?ei:t&8?bf:t&16?ei.body:e,hoe=e=>bse?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.11.1
 */const BD=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;function poe(){return navigator.userAgentData}function Qme(){if(!BD())return"";const e=poe();return e!=null&&e.brands?e.brands.map(({brand:t,version:r})=>`${t}/${r}`).join(" "):navigator.userAgent}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.11.1
 */function HP(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,r=()=>e.contains(kD)||e.contains(ED)&&t?"dark":"light",n=o=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:o}})),i=o=>{s!==o&&n(o),s=o};let s=r();n(s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>i(o.matches?"dark":"light")),new MutationObserver(()=>i(r())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function foe(){BD()&&(document.readyState==="interactive"?HP():document.addEventListener("DOMContentLoaded",()=>HP(),{once:!0})),mse()}const moe=foe;moe();let HD;function yoe(){try{Mse(".")}catch{Ese(mn(be(HD)))}}function MT(e){var r;const t=[];for(const n of Object.keys(e))customElements.get(`calcite-${n}`)||t.push((r=e[n])==null?void 0:r.call(e));return t.length>0?Promise.all(t):null}HD="components/assets";const qD=Symbol("widget"),ZD=Symbol("widget-test-data"),goe=[],voe={},g0=new WeakMap;function JD(e,t){let r=t.children;if(r!=null&&r.length)for(let i=0;i<r.length;++i)r[i]=JD(e,r[i]);else r=goe;const n=t.vnodeSelector;if(v0(n)){const i=t.properties||voe,s=i.key||n;return{vnodeSelector:"div",properties:{key:s,afterCreate:woe,afterUpdate:_oe,afterRemoved:KD,parentWidget:e,widgetConstructor:n,widgetProperties:{...i,key:s,children:r}},children:void 0,text:void 0,domNode:null}}return t}function woe(e,t,r,{parentWidget:n,widgetConstructor:i,widgetProperties:s}){var a;const o=new i(s);o.container=e,g0.set(e,o),(a=o.afterCreate)==null||a.call(o,o,e),n.addHandles(ke(()=>KD(e))),queueMicrotask(()=>{o[ZD].projector.renderNow()})}function _oe(e,t,r,{widgetProperties:n}){var s;const i=g0.get(e);i&&(i.set(n),(s=i.afterUpdate)==null||s.call(i,i,e))}function KD(e){var r;const t=g0.get(e);t&&((r=t.afterRemoved)==null||r.call(t,t,e),t.destroy(),g0.delete(e))}function v0(e){return typeof e=="function"&&e[qD]}const qP=new Set;function boe(e){qP.add(e),e.finally(()=>qP.delete(e))}var YD;const Soe="esri.widgets.Widget";let $oe=0;function QD(e,t){const r=Object.prototype.hasOwnProperty;for(const n in t)r.call(t,n)&&r.call(e,n)&&(e[n]!=null&&t[n]!=null&&typeof e[n]=="object"&&typeof t[n]=="object"?QD(e[n],t[n]):e[n]=t[n]);return e}const xoe=dse({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(n,i,s,o)=>{const a=t==null?void 0:t(n,i,s,o),l=r.test(n);if(!((n=n.replace(r,"")).toLowerCase()in s)||l){const d=n[2].toLowerCase()+n.slice(3),p=y=>a==null?void 0:a.call(s,y);s.addEventListener(d,p,l);const f=()=>s.removeEventListener(d,p,l),m=o.afterRemoved;o.afterRemoved=y=>{m==null||m(y),f()}}return a}},handleInterceptedEvent(e,t,r,n){const{eventPhase:i,type:s}=n,o=i===Event.CAPTURING_PHASE;let a=`on${s}${o?"capture":""}`;const l=t.properties;(l&&a in l||(a=`on${s[0].toUpperCase()}${s.slice(1)}${o?"Capture":""}`,l&&a in l))&&(xL(),e.scheduleRender(),l[a].call(l.bind||r,n))}});let bw=!1,$t=class extends Lx(Ns.EventedAccessor){constructor(t,r){super(t,r),this._attached=!1,this._projector=xoe,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=A7(async()=>{var l;if((l=this._messageBundleProps)!=null&&l.length){const d=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:p,propertyName:f})=>{if(this.destroyed)return;let m=await Mx(p);this.uiStrings&&Object.keys(this.uiStrings)&&(m=QD(L(m),this.uiStrings)),this[f]=m}));if(this.destroyed)return;for(const p of d)p.status==="rejected"&&z.getLogger(this).error("widget-intl:locale-error",this.declaredClass,p.reason)}await this.loadLocale()}),yoe();const n="esri-widget-uid-"+_T(),i=this.render.bind(this);this._trackingTarget=new q0(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const s=()=>({vnodeSelector:"div",properties:{key:`${n}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),o=()=>{var f,m;if(!this._readyForTrueRender||this.destroyed)return null;const l=i()??s(),d=l.properties??(l.properties={});if(d.key??(d.key=n),v0(l.vnodeSelector)){if(!this.visible)return s()}else this.visible?d.styles||(d.styles={}):(d.class="",d.styles={display:"none"}),(f=d.styles).display??(f.display="");let p=0;return(m=l.children)==null||m.forEach(y=>{var g;v0(y.vnodeSelector)||(y.properties??(y.properties={}),(g=y.properties).key??(g.key=`${this.id}--${p++}`))}),JD(this,l)};this.render=()=>{if(bw)return o();let l=eJ(this)??null;if(l)return l;this._trackingTarget.clear(),bw=!0;try{l=ks(this._trackingTarget,o)}catch(d){throw z.getLogger(this).error(d),d}finally{bw=!1}return l&&tJ(this,l),l};const a=this.beforeFirstRender();a?this._resourcesFetch=a.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),boe(this._resourcesFetch)}normalizeCtorArgs(t,r){const n={...t};return r&&(n.container=r),n}postInitialize(){}beforeFirstRender(){var r;const t=this.loadDependencies();return(r=this._messageBundleProps)!=null&&r.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch(u3):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(He(this._trackingTarget),He(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,V1(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return Cx(t)}get domNode(){return this.container}set domNode(t){this.container=t}get icon(){return null}set icon(t){this._overrideIfSome("icon",t)}get id(){var t;return this._get("id")||((t=this.container)==null?void 0:t.id)||Date.now().toString(16)+"-widget-"+$oe++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(YD=qD,ZD)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(V1(this),this._projector.scheduleRender())}own(t){GI(z.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(t)}classes(...t){return rJ.apply(this,t)}renderNow(){V1(this),this._projector.renderNow()}_postInitialize(){var r;if(this.destroyed)return;this.scheduleRender(),(r=this._delegatedEventNames)!=null&&r.length&&this.addHandles(re(()=>this.viewModel,(n,i)=>{i&&this.removeHandles("delegated-events"),n&&B0(n)&&this.addHandles(this._delegatedEventNames.map(s=>Kp(n,s,o=>{this.emit(s,o)})),"delegated-events")},fn)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(u3),this.scheduleRender()};this.addHandles([px(t),re(()=>this.uiStrings,t),Is(()=>this.container,n=>{this.destroyed||this._attach(n)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){var r;this._attached&&(this._projector.detach(this.render),this._attached=!1),(r=t==null?void 0:t.parentNode)==null||r.removeChild(t)}};$t[YD]=!0,c([h()],$t.prototype,"_readyForTrueRender",void 0),c([h({value:null})],$t.prototype,"container",null),c([Lt("container")],$t.prototype,"castContainer",null),c([h()],$t.prototype,"icon",null),c([h()],$t.prototype,"id",null),c([h()],$t.prototype,"label",null),c([h()],$t.prototype,"renderable",null),c([h()],$t.prototype,"uiStrings",void 0),c([h()],$t.prototype,"viewModel",void 0),c([h({value:!0})],$t.prototype,"visible",null),c([h()],$t.prototype,"key",void 0),c([h()],$t.prototype,"children",void 0),c([h()],$t.prototype,"afterCreate",void 0),c([h()],$t.prototype,"afterUpdate",void 0),c([h()],$t.prototype,"afterRemoved",void 0),$t=c([M(Soe)],$t);const od=$t,Toe=new Map;function Moe(e){return Toe.get(e)}function ZP(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function Eoe(e,t){return e.length!==t.length||e.some((r,n)=>r.text!==t[n].text)}function Ad(e,t,r){!r||!t||e.find(n=>n.layerView===t&&n.text===r)||e.push({text:r,layerView:t})}function koe(e){return e.type==="bing-maps"}const Ki=[];let Ru=class extends ee{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new X,this.view=null,this._allLayerViewsChange=t=>{var n;this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const r=(n=this.view)==null?void 0:n.allLayerViews;r&&(this.addHandles(r.map(i=>re(()=>{var s;return[i.suspended,(s=i.layer)==null?void 0:s.attributionVisible]},()=>this._updateAttributionItems())).toArray(),"suspension"),r.forEach(i=>{i.declaredClass==="esri.views.3d.layers.Tiles3DLayerView3D"&&this.addHandles(i.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),t!=null&&t.removed&&t.removed.forEach(i=>{this._pendingAttributions.delete(i),this._fetchedAttributionData.delete(i)}),this._updateAttributionItems()},this.addHandles([ea(()=>{var t;return(t=this.view)==null?void 0:t.allLayerViews},"change",t=>this._allLayerViewsChange(t),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),Is(()=>{var t;return((t=this.view)==null?void 0:t.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){var e;return(e=this.view)!=null&&e.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const e=this.view,t=e==null?void 0:e.allLayerViews;if(Ki.length=0,!e||!t)return void this._clear();t.forEach(n=>{var o,a;if(n.suspended||!((o=n.layer)!=null&&o.attributionVisible))return;const i=n.layer;if(ZP(i,"user"))return void Ad(Ki,n,i.copyright);if(i.hasAttributionData){if(this._fetchedAttributionData.has(n)){const l=this._fetchedAttributionData.get(n);return void(l?Ad(Ki,n,this._getDynamicAttribution(l,e,i)):ZP(i)&&Ad(Ki,n,i.copyright))}return void this._fetchAttributionData(n)}const s="portalItem"in i?(a=i.portalItem)==null?void 0:a.accessInformation:void 0;Ad(Ki,n,s||i.copyright)});const r=t.find(n=>{var i;return((i=n.layer)==null?void 0:i.type)==="integrated-mesh-3dtiles"});if(this.view&&r){const n=Moe(this.view);if(n){const i=n.getAttributionText();for(let s=0;s<i.length;++s)Ad(Ki,r,i[s])}}Eoe(this.items,Ki)&&(this.items.removeAll(),this.items.addMany(Ki)),Ki.length=0,this.notifyChange("state")}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);const t=await OR(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){const r=t.ok?this._createContributionIndex(t.value,koe(e.layer)):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,r)}this._updateAttributionItems()}_createContributionIndex(e,t){const r=e.contributors,n={};if(!r)return n;for(let i=0;i<r.length;i++){const s=r[i],o=s.coverageAreas;if(!o)return;for(const a of o){const l=a.bbox,d=a.zoomMin-(t&&a.zoomMin?1:0),p=a.zoomMax-(t&&a.zoomMax?1:0),f=new Le({xmin:l[1],ymin:l[0],xmax:l[3],ymax:l[2],spatialReference:he.WGS84}),m={extent:Ho(f),attribution:s.attribution||"",score:a.score!=null?a.score:100,id:i};for(let y=d;y<=p;y++)n[y]??(n[y]=[]),n[y].push(m)}}return n.maxKey=Math.max.apply(null,Object.keys(n)),n}_getDynamicAttribution(e,t,r){var d;const{extent:n,scale:i}=t;let s=((d=r.tileInfo)==null?void 0:d.scaleToZoom(i))??0;if(s=Math.min(e.maxKey??0,Math.round(s)),!n||s==null||s<=-1)return"";const o=e[s],a=rv(n.center.clone().normalize(),t.spatialReference),l=new Set;return o?o.filter(p=>{const f=p.id,m=!l.has(f)&&a&&p.extent&&tf(p.extent,a);return m&&l.add(f),m}).sort((p,f)=>f.score-p.score||p.objectId-f.objectId).map(p=>p.attribution).join(", "):""}};c([h({readOnly:!0,type:X})],Ru.prototype,"items",void 0),c([h({readOnly:!0})],Ru.prototype,"state",null),c([h()],Ru.prototype,"view",void 0),Ru=c([M("esri.widgets.Attribution.AttributionViewModel")],Ru);const XD=Ru,fe={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};function mS(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:Coe(e[t])}}}function Poe(e){const t=e==null?void 0:e.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function Coe(e){return function(t,...r){Poe(t)?ML(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...r)}}function Bl(e){return(t,r)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}var Ooe=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},e8=function(e,t){for(var r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?e8(i,t):i!=null&&i!==!1&&(i.hasOwnProperty("vnodeSelector")||(i=Ooe(i)),t.push(i))}},Ioe=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var i=[];return e8(r,i),{vnodeSelector:e,properties:t||void 0,children:i,text:void 0,domNode:null}};function q(e,t,...r){return typeof e!="function"||v0(e)?Ioe(e,t,...r):e(t,...r)}function eye(...e){return e}const pu="esri-attribution",fu={base:pu,poweredBy:`${pu}__powered-by`,sources:`${pu}__sources`,open:`${pu}--open`,sourcesOpen:`${pu}__sources--open`,link:`${pu}__link`};let dr=class extends od{constructor(t,r){super(t,r),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(n=>n.forEach(({target:i})=>this._checkSourceTextOverflow(i))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new XD}initialize(){this.addHandles(ea(()=>{var t;return(t=this.viewModel)==null?void 0:t.items},"change",()=>this.scheduleRender()))}destroy(){var t;(t=this._resizeObserver)==null||t.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,r)=>(t.includes(r.text)||t.push(r.text),t),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t={[fu.open]:this._isOpen};return q("div",{bind:this,class:this.classes(fu.base,fe.widget,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return q("div",{class:fu.poweredBy},"Powered by"," ",q("a",{class:fu.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const t=this._isOpen,r=this._isInteractive,n=r?0:void 0,{attributionText:i}=this,s={[fu.sourcesOpen]:t,[fe.interactive]:r};return q("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(fu.sources,s),innerHTML:i,tabIndex:n})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let r=!1;const{clientHeight:n,clientWidth:i,scrollWidth:s}=t,o=s>i,a=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,a&&(r=!0),this._isOpen){const l=n<this._prevSourceNodeHeight;this._prevSourceNodeHeight=n,l&&(this._isOpen=!1,r=!0)}r&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};c([h()],dr.prototype,"_isOpen",void 0),c([h()],dr.prototype,"_isInteractive",null),c([h()],dr.prototype,"_attributionTextOverflowed",void 0),c([h()],dr.prototype,"_prevSourceNodeHeight",void 0),c([h({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],dr.prototype,"attributionText",null),c([h()],dr.prototype,"icon",null),c([h()],dr.prototype,"itemDelimiter",void 0),c([h()],dr.prototype,"label",null),c([h(),Bl("esri/widgets/Attribution/t9n/Attribution")],dr.prototype,"messages",void 0),c([h()],dr.prototype,"view",null),c([h({type:XD})],dr.prototype,"viewModel",void 0),c([mS()],dr.prototype,"_toggleState",null),dr=c([M("esri.widgets.Attribution")],dr);const Aoe=dr;function Roe(e){var t,r;return((t=e==null?void 0:e.spatialReference)==null?void 0:t.isWebMercator)||((r=e==null?void 0:e.spatialReference)==null?void 0:r.isGeographic)||!1}const t8=e=>{let t=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:n}=this;return a4(n),this.goToOverride?this.goToOverride(n,r):n.goTo(r.target,r.options)}};return c([h()],t.prototype,"goToOverride",void 0),c([h()],t.prototype,"view",void 0),t=c([M("esri.widgets.support.GoTo")],t),t};let rl=class extends t8(ee){constructor(t){super(t),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this.addHandles(re(()=>this.view,this._updateRotationWatcher,Rt))}destroy(){this.view=null}get canShowNorth(){return Roe(this.view)}get state(){var t;return!((t=this.view)!=null&&t.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var t,r;(t=this.view)!=null&&t.ready&&(((r=this.view)==null?void 0:r.type)==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:I("mapview-essential-goto-duration")}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(t){t!=null&&this._set("orientation",{z:t})}_updateForCamera(t){if(!t)return;const r=-t.heading;this._set("orientation",{x:0,y:0,z:r})}_updateRotationWatcher(t){this.removeAllHandles(),t&&this.addHandles(t.type==="2d"?re(()=>t==null?void 0:t.rotation,this._updateForRotation,Rt):re(()=>t==null?void 0:t.camera,this._updateForCamera,Rt))}};c([h({readOnly:!0})],rl.prototype,"canShowNorth",null),c([h({readOnly:!0})],rl.prototype,"orientation",void 0),c([h({readOnly:!0})],rl.prototype,"state",null),c([h()],rl.prototype,"view",void 0),rl=c([M("esri.widgets.Compass.CompassViewModel")],rl);const r8=rl,JP="esri-compass",KP={base:JP,iconContainer:`${JP}__icon-container`};let os=class extends od{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new r8,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=n=>({transform:`rotateZ(${n.z}deg)`})}loadDependencies(){return MT({button:()=>U(()=>import("./calcite-button-DUJNxL4h.js"),__vite__mapDeps([267,268,269,270,271,272,273,274,275,276,277,278])),icon:()=>U(()=>import("./calcite-icon-Cy6VElA2.js"),__vite__mapDeps([279,277,269,270,276]))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:r}=this.viewModel,{messages:n}=this;return q("div",{class:this.classes(KP.base,fe.widget)},q("calcite-button",{class:fe.widgetButton,disabled:r==="disabled",kind:"neutral",label:n.reset,onclick:this._reset,round:!0,scale:"s",title:n.reset},q("div",{"aria-hidden":"true",class:KP.iconContainer,title:n.reset},q("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(t)}))))}};c([h()],os.prototype,"goToOverride",null),c([h()],os.prototype,"icon",null),c([h()],os.prototype,"label",null),c([h(),Bl("esri/widgets/Compass/t9n/Compass")],os.prototype,"messages",void 0),c([h()],os.prototype,"view",null),c([h({type:r8})],os.prototype,"viewModel",void 0),os=c([M("esri.widgets.Compass")],os);const Loe=os,YP="esri-navigation-toggle",QP={base:YP,isLayoutHorizontal:`${YP}--horizontal`};let Lu=class extends ee{constructor(t){super(t),this._navigationMode="pan",this.view=null}initialize(){this.addHandles(Is(()=>{var t;return(t=this.view)==null?void 0:t.inputManager},()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){var t,r;return(t=this.view)!=null&&t.ready&&((r=this.view)==null?void 0:r.type)==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(t){this._navigationMode=t,this._setNavigationMode()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_setNavigationMode(){var r;const t=(r=this.view)==null?void 0:r.inputManager;t&&(t.primaryDragAction=this._navigationMode==="pan"?"pan":"rotate")}};c([h({readOnly:!0})],Lu.prototype,"state",null),c([h()],Lu.prototype,"_navigationMode",void 0),c([h()],Lu.prototype,"view",void 0),Lu=c([M("esri.widgets.NavigationToggle.NavigationToggleViewModel")],Lu);const n8=Lu;let as=class extends od{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new n8,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{var i;const n=((i=this.viewModel)==null?void 0:i.navigationMode)==="pan"?this._rotateButton:this._panButton;n==null||n.setFocus(),this.toggle()}}loadDependencies(){return MT({button:()=>U(()=>import("./calcite-button-DUJNxL4h.js"),__vite__mapDeps([267,268,269,270,271,272,273,274,275,276,277,278]))})}get icon(){return"move"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){var i,s;const t=((i=this.viewModel)==null?void 0:i.state)==="disabled",r=((s=this.viewModel)==null?void 0:s.navigationMode)==="pan",n=this.messages.toggle;return q("div",{class:this.classes(QP.base,fe.widget,{[QP.isLayoutHorizontal]:this.layout==="horizontal"})},q("calcite-button",{afterCreate:o=>{this._panButton=o},appearance:r?"outline-fill":"solid",class:fe.widgetButton,disabled:t,iconStart:"move",kind:"neutral",label:n,onclick:this._toggle,tabIndex:r?void 0:-1,title:n}),q("calcite-button",{afterCreate:o=>{this._rotateButton=o},appearance:r?"solid":"outline-fill",class:fe.widgetButton,disabled:t,iconStart:"rotate",kind:"neutral",label:n,onclick:this._toggle,tabIndex:r?-1:void 0,title:n}))}};c([h()],as.prototype,"icon",null),c([h()],as.prototype,"label",null),c([h({value:"vertical"})],as.prototype,"layout",null),c([h(),Bl("esri/widgets/NavigationToggle/t9n/NavigationToggle")],as.prototype,"messages",void 0),c([h()],as.prototype,"view",null),c([h({type:n8})],as.prototype,"viewModel",void 0),as=c([M("esri.widgets.NavigationToggle")],as);const Noe=as;let nl=class extends ee{get canZoomIn(){var n,i,s;if(!((n=this.view)==null?void 0:n.ready))return!1;const r=(s=(i=this.view)==null?void 0:i.constraints)==null?void 0:s.effectiveMaxScale;return r===0||this._scale>r}get canZoomOut(){var i;const{view:t}=this;if(!(t==null?void 0:t.ready))return!1;const n=(i=t.constraints)==null?void 0:i.effectiveMinScale;return n===0||this._scale<n}get _scale(){var r,n,i;const t=(n=(r=this.view)==null?void 0:r.animation)==null?void 0:n.target;return(t&&"then"in t||t==null?void 0:t.scale)??((i=this.view)==null?void 0:i.scale)??0}};c([h({readOnly:!0})],nl.prototype,"canZoomIn",null),c([h({readOnly:!0})],nl.prototype,"canZoomOut",null),c([h()],nl.prototype,"view",void 0),c([h()],nl.prototype,"_scale",null),nl=c([M("esri.widgets.Zoom.ZoomConditions2D")],nl);const Doe=nl;let Nu=class extends ee{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};c([h({readOnly:!0})],Nu.prototype,"canZoomIn",null),c([h({readOnly:!0})],Nu.prototype,"canZoomOut",null),c([h()],Nu.prototype,"view",void 0),Nu=c([M("esri.widgets.Zoom.ZoomConditions3D")],Nu);const Foe=Nu;let mo=class extends ee{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){var t;return this._zoomConditions!=null&&((t=this._zoomConditions)==null?void 0:t.canZoomOut)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new Doe({view:t}):t.type==="3d"&&(this._zoomConditions=new Foe({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){if(!this.canZoomIn)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomIn():c3(t.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomOut():c3(t.goTo({zoomFactor:.5}))}};c([h()],mo.prototype,"_zoomConditions",void 0),c([h()],mo.prototype,"canZoomIn",null),c([h()],mo.prototype,"canZoomOut",null),c([h({readOnly:!0})],mo.prototype,"state",null),c([h()],mo.prototype,"view",null),mo=c([M("esri.widgets.Zoom.ZoomViewModel")],mo);const i8=mo,XP={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let ls=class extends od{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new i8,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return MT({button:()=>U(()=>import("./calcite-button-DUJNxL4h.js"),__vite__mapDeps([267,268,269,270,271,272,273,274,275,276,277,278]))})}get icon(){return"magnifying-glass-plus"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t={[XP.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:r,canZoomOut:n}=this.viewModel,{zoomIn:i,zoomOut:s}=this.messages;return q("div",{class:this.classes(XP.base,fe.widget,t)},q("calcite-button",{class:fe.widgetButton,disabled:!r,iconStart:"plus",kind:"neutral",label:i,onclick:this.zoomIn,title:i}),q("calcite-button",{class:fe.widgetButton,disabled:!n,iconStart:"minus",kind:"neutral",label:s,onclick:this.zoomOut,title:s}))}};c([h()],ls.prototype,"icon",null),c([h()],ls.prototype,"label",null),c([h({value:"vertical"})],ls.prototype,"layout",null),c([h(),Bl("esri/widgets/Zoom/t9n/Zoom")],ls.prototype,"messages",void 0),c([h()],ls.prototype,"view",null),c([h({type:i8})],ls.prototype,"viewModel",void 0),ls=c([M("esri.widgets.Zoom")],ls);const joe=ls;function zoe(e){return(e==null?void 0:e.view)!==void 0}let Dy=class extends ise{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=r=>{this.components.forEach(n=>{const i=this._find(n),s=i==null?void 0:i.widget;zoe(s)&&(s.view=r)})},this._componentsWatcher=(r,n)=>{this._removeComponents(n),this._addComponents(r),this._adjustPadding(r)}}initialize(){this.addHandles([re(()=>this.components,this._componentsWatcher,Rt),re(()=>this.view,this._updateViewAwareWidgets,Rt)])}_add(t,r,n,i,s){let o=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;o=this._createComponent(t)}super._add(o,r,n,i,s)}_removeComponents(t){t.forEach(r=>{const n=this._find(r);n&&(this.remove(n),n.destroy())})}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:r}=this.padding;this.padding=r}}_addComponents(t){this.constructed&&t.forEach(r=>this.add(this._createComponent(r),this._defaultPositionLookup[r]))}_createComponent(t){const r=this._createWidget(t);return new Ny({id:t,node:r})}_createWidget(t){const r=this.view;switch(t){case"attribution":return new Aoe({view:r});case"compass":return new Loe({view:r});case"navigation-toggle":return new Noe({view:r});case"zoom":return new joe({view:r})}}};c([h()],Dy.prototype,"components",void 0),Dy=c([M("esri.views.ui.DefaultUI")],Dy);const s8=Dy;let Fy=class extends s8{constructor(t){super(t),this.components=["attribution","zoom"]}};c([h()],Fy.prototype,"components",void 0),Fy=c([M("esri.views.ui.2d.DefaultUI2D")],Fy);const o8=Fy;function eC(e){return e!=null&&typeof e=="object"&&"declaredClass"in e&&e.declaredClass==="esri.WebMap"}var yS;let jy=yS=class extends B{constructor(e){super(e),this.color=new ve([0,0,0,1])}clone(){return new yS(L({color:this.color}))}};c([h({type:ve,json:{write:!0}})],jy.prototype,"color",void 0),jy=yS=c([M("esri.webmap.background.ColorBackground")],jy);const Uoe=jy;let a8,l8,u8,c8,d8,h8;async function Voe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:r,MapViewNavigation:n,MagnifierView2D:i,Stage:s}]=await Promise.all([U(()=>import("./webglDeps-B_C5xfWq.js"),__vite__mapDeps([194,76,75,41,195,196])),U(()=>import("./mapViewDeps-7qaFlL9c.js"),__vite__mapDeps([197,108,4,5,77,78,15,79,74,80,70,81,73,75,41,76,42,82,31,83,36,84,140,2,198,117,88,89,90,91,199,133,200,196,99,126,125,17,18,124,194,195,201,94,202,72,85,28,26,25,21,12,71,203,204,205,119,206,207,208,59,209,92,210,57,87,211,212,213,214,215,216,217]))]);l8=e,u8=t,c8=r,d8=n,h8=i,a8=s}let ie=class extends aZ(NJ(SJ(Eee))){constructor(t){super(t),this._magnifierView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new $p({getCollections:()=>{var r,n;return[(r=this.basemapView)==null?void 0:r.baseLayerViews,this.layerViews,(n=this.basemapView)==null?void 0:n.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.goToManager=new Ry({view:this}),this.graphicsView=null,this.stateManager=new cr({constraints:new cD({view:this})}),this.stationaryManager=new xh,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.frameTask=new _ne(this),this.floors=new X,this.highlightOptions=new wD,this.inputManager=new fie({view:this}),this.map=null,this.spatialReferenceLocked=!1,this.timeline=new xD,this.type="2d",this.ui=new o8,this.test={takeScreenshot:async r=>jie(this._getScreenshotView(r),r)},this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([re(()=>this.viewpoint,()=>this.stationaryManager.flip(),zl),this.on("resize",r=>this.stateManager.resize(r.width,r.height))]),_q()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=He(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new Sie(this.featuresTilingScheme)}get constraintsInfo(){var n,i;const t=(n=this.defaultsFromMap)==null?void 0:n.tileInfo,r=this.spatialReference;return{lods:(i=t==null?void 0:t.spatialReference)!=null&&i.equals(r)?t.lods:null,spatialReference:r}}get state(){return this.stateManager.state}get initialExtentRequired(){var a;if(!this.stateManager)return!1;const{scale:t,constraints:r,center:n,viewpoint:i,extent:s}=this;let o=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((a=this.map.initialViewProperties)!=null&&a.viewpoint))&&!s&&(r!=null&&r.effectiveLODs||(o=-1),(!n||t===0&&o===-1)&&((i==null?void 0:i.targetGeometry)==null||i.targetGeometry.type!=="extent"&&!i.scale))}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get typeSpecificPreconditionsReady(){const t=this._getDefaultViewpoint();if(!t)return!1;const r=t.targetGeometry,n=this.spatialReference;return X5(r.spatialReference,n)}set animation(t){const r=this._get("animation");if(t===r)return;if(r&&r.stop(),t!==this.animationManager.animation&&this.animationManager.stop(),!t||t.isFulfilled())return this._set("animation",null),void(this.frameTask.animationInProgress=!1);this._set("animation",t),this.frameTask.animationInProgress=!0;const n=()=>{var i;this.destroyed||(t===this._get("animation")&&(this._set("animation",null),(i=this.frameTask)==null||i.requestFrame()),this.frameTask.animationInProgress=!1)};t.when(n,n)}get background(){return eC(this.map)?this.map.initialViewProperties.background:null}set background(t){this._override("background",t)}get center(){var t;return((t=this.stateManager)==null?void 0:t.center)??null}set center(t){this.stateManager.center=t}get constraints(){var t;return(t=this.stateManager)==null?void 0:t.constraints}set constraints(t){t.view=this;const r=this.stateManager.constraints;this.stateManager.constraints=t,r==null||r.destroy()}get extent(){var t;return((t=this.stateManager)==null?void 0:t.extent)??null}set extent(t){this.stateManager.extent=t}get padding(){var t;return(t=this.stateManager)==null?void 0:t.padding}set padding(t){this.stateManager&&(this.stateManager.padding=t)}get rendering(){var t;return((t=this.stage)==null?void 0:t.renderRequested)??!1}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(t){this.stateManager.resizeAlign=t}get resolution(){return this.stateManager.resolution??0}get rotation(){return this.stateManager.rotation??0}set rotation(t){const{rotationEnabled:r}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=t,this.constraints.rotationEnabled=r}get scale(){var t;return((t=this.stateManager)==null?void 0:t.scale)??0}set scale(t){this.stateManager&&(this.stateManager.scale=t)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}get tileInfo(){var t;return(t=this.featuresTilingScheme)==null?void 0:t.tileInfo}get updating(){var n,i,s,o;const t=!(!this.magnifier.visible||this.magnifier.position===null||!((n=this._magnifierView)!=null&&n.updatingHandles.updating)),r=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(a=>!a.destroyed&&!("layerViews"in a)&&a.updating===!0)||t);if(I("esri-2d-log-updating")){const a=this.allLayerViews.reduce((l,d)=>({...l,[`${d.layer.id}(${d.layer.type})`]:!d.destroyed&&!("layerViews"in d)&&d.updating}),{});console.log(`Updating MapView: ${r}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(i=this.layerViewManager)==null?void 0:i.updating}
-> labelManager.updating: ${(s=this.labelManager)==null?void 0:s.updating}
-> graphicsView.updating: ${(o=this.graphicsView)==null?void 0:o.updating}
-> allLayerViews: ${JSON.stringify(a)}
-> updatingMagnifier: ${t}
`)}return r}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(t){this.stateManager.viewpoint=t,this.frameTask.requestFrame()}get zoom(){return this.stateManager.zoom??-1}set zoom(t){this.stateManager.zoom=t}get navigating(){var t;return((t=this.mapViewNavigation)==null?void 0:t.interacting)??!1}goTo(t,r){return this.goToManager.goTo(t,r)}async hitTest(t,r){return Tie(this,t,r)}async takeScreenshot(t){return Fie(this._getScreenshotView(t),t)}toMap(t){if(!this.ready)return null;const r=l6(t)?a6(this,t):t;return this.stateManager.toMap(r)}toScreen(t,r){return this.stateManager.toScreen(t,r)}on(t,r,n,i){return this.inputManager&&this.viewEvents.on(t,r,n,i)||super.on(t,r)}hasEventListener(t){return super.hasEventListener(t)||this.viewEvents.hasHandler(t)}whenLayerView(t){return super.whenLayerView(t)}graphicChanged(t){this.graphicsView&&this.graphicsView.graphicUpdateHandler(t)}whenReady(){return new Promise(t=>{this.ready?t(this):this._resolveWhenReady.push(t)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var t,r,n;return this.map&&"initialViewProperties"in this.map&&((r=(t=this.map)==null?void 0:t.initialViewProperties)==null?void 0:r.spatialReference)||((n=this.defaultsFromMap)==null?void 0:n.spatialReference)||null}getDefaultTimeZone(){return eC(this.map)?this.map.initialViewProperties.timeZone:null}hasLayerViewModule(t){return uP.hasLayerViewModule(t)}importLayerView(t){return uP.importLayerView(t)}pixelSizeAt(){return this.ready?this.resolution:(z.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(t){var d;const r=this.toMap(t),n=await this.hitTest(t),i=this.allLayerViews.toArray().reverse(),s=new globalThis.Map(i.map(p=>[p.layer.uid,p])),o=[];let a=0,l=0;for(;a<n.results.length||l<i.length;){const p=n.results.at(a);if(p&&p.type!=="graphic"){++a;continue}const f=s.get((d=(p==null?void 0:p.layer)??(p==null?void 0:p.graphic.layer))==null?void 0:d.uid);if((!p||f)&&l<i.length&&i.at(l)!==f){const m=i.at(l);"fetchPopupFeaturesAtLocation"in m&&o.push({mapPoint:r,layerView:m}),++l}else p&&(o.push({graphic:p.graphic,layerView:f}),++a)}return{hits:o,location:r}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let t=Zie(this.type);if(I("safari")&&I("safari")<9&&(t=new j("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:I("safari")})),t!=null)throw z.getLogger(this).warn("#validate()",t.message),t}loadAsyncDependencies(){return Voe()}_getDefaultViewpoint(){var S;const{constraints:t,initialExtent:r,map:n,padding:i,size:s}=this;if(!t)return null;const o=n&&"initialViewProperties"in n?n.initialViewProperties:void 0,a=this.stateManager.getUserStartupOptions(this.size),l=o==null?void 0:o.viewpoint,d=((S=l==null?void 0:l.targetGeometry)==null?void 0:S.extent)??r,p=d==null?void 0:d.center,f=(l==null?void 0:l.rotation)??0,m=(l==null?void 0:l.scale)||d&&Dv(d,[s[0]-i.left-i.right,s[1]-i.top-i.bottom]),y=a.center??p,g=a.rotation??f,v=a.scale??m;return y&&v?new Qn({targetGeometry:y,scale:v,rotation:g}):null}_startup(){var a;this.timeline.begin("MapView Startup");const t=this._getDefaultViewpoint();this.stateManager.startup(t,this.size,this.spatialReference,(a=this.defaultsFromMap.extent)==null?void 0:a.center),this.graphics.owner=this;const r=new a8(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=r,this._magnifierView=new h8,this._magnifierView.magnifier=this.magnifier;const n=new c8({view:this});this._set("labelManager",n);const i=new wne({view:this});this._set("animationManager",i);const s=new d8({view:this,animationManager:i});this._set("mapViewNavigation",s),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("webgl-error",l=>this.fatalError=l.error),re(()=>this.stationary,l=>r.stationary=l,fn),re(()=>this.background,l=>{r.backgroundColor=l==null?void 0:l.color,this._magnifierView.backgroundColor=l==null?void 0:l.color},fn),re(()=>this.magnifier,l=>this._magnifierView.magnifier=l,fn),re(()=>this.renderingOptions,l=>r.renderingOptions=l,fn),re(()=>this.highlightOptions,l=>r.highlightOptions=l,fn),re(()=>this.state.id,()=>r.state=this.state,fn)],"map-view"),this._updateStageChildren();const o=this._resolveWhenReady;this._resolveWhenReady=[],o.forEach(l=>l(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(r=>{this.stage.addChild(r.container)});const t=this.graphicsView;this.stage.addChild(t.container),this.stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const t=new kne(sZ.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",t);const r=new l8({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new u8(t)});this._set("graphicsView",r)}_destroySpatialReferenceDependentProperties(){const t=this.graphicsView;this._set("graphicsView",null),t.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(t){var o;const{allLayerViews:r,padding:n,size:i,stage:s}=this;return{allLayerViews:r,backgroundColor:t!=null&&t.ignoreBackground?null:(o=this.background)==null?void 0:o.color,padding:n,size:i,stage:s}}_spatialReferenceChanged(t){if(this.ready){this.frameTask.stop();for(const r of this.allLayerViews)r.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(t),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const r of this.allLayerViews)r.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};ie.type="2d",c([h({readOnly:!0})],ie.prototype,"animationManager",void 0),c([h({constructOnly:!0})],ie.prototype,"deactivatedWebGLExtensions",void 0),c([h({constructOnly:!0})],ie.prototype,"debugWebGLExtensions",void 0),c([h({readOnly:!0})],ie.prototype,"featuresTilingScheme",void 0),c([h({readOnly:!0})],ie.prototype,"fullOpacity",void 0),c([h()],ie.prototype,"goToManager",void 0),c([h({readOnly:!0})],ie.prototype,"graphicsTileStore",null),c([h()],ie.prototype,"graphicsView",void 0),c([h()],ie.prototype,"stateManager",void 0),c([h()],ie.prototype,"constraintsInfo",null),c([h({readOnly:!0})],ie.prototype,"state",null),c([h()],ie.prototype,"initialExtentRequired",null),c([h()],ie.prototype,"labelManager",void 0),c([h({readOnly:!0})],ie.prototype,"mapViewNavigation",void 0),c([h({constructOnly:!0})],ie.prototype,"renderCanvas",void 0),c([h()],ie.prototype,"renderingOptions",void 0),c([h({constructOnly:!0})],ie.prototype,"supersampleScreenshotsEnabled",void 0),c([h({readOnly:!0})],ie.prototype,"supportsGround",void 0),c([h()],ie.prototype,"_defaultsFromMapSettings",null),c([h({readOnly:!0})],ie.prototype,"typeSpecificPreconditionsReady",null),c([h()],ie.prototype,"animation",null),c([h({type:Uoe})],ie.prototype,"background",null),c([h()],ie.prototype,"center",null),c([h({type:cD})],ie.prototype,"constraints",null),c([h()],ie.prototype,"extent",null),c([h()],ie.prototype,"floors",void 0),c([h({type:wD})],ie.prototype,"highlightOptions",void 0),c([h({readOnly:!0})],ie.prototype,"inputManager",void 0),c([h()],ie.prototype,"map",void 0),c([h()],ie.prototype,"padding",null),c([h({readOnly:!0})],ie.prototype,"rendering",null),c([h()],ie.prototype,"resizeAlign",null),c([h({readOnly:!0})],ie.prototype,"resolution",null),c([h()],ie.prototype,"rotation",null),c([h()],ie.prototype,"scale",null),c([h({constructOnly:!0})],ie.prototype,"spatialReferenceLocked",void 0),c([h()],ie.prototype,"stationary",null),c([h({readOnly:!0})],ie.prototype,"tileInfo",null),c([h({type:xD,readOnly:!0})],ie.prototype,"timeline",void 0),c([h({readOnly:!0})],ie.prototype,"type",void 0),c([h({readOnly:!0})],ie.prototype,"updating",null),c([h()],ie.prototype,"viewpoint",null),c([h()],ie.prototype,"zoom",null),c([h({readOnly:!0})],ie.prototype,"navigating",null),c([h(),Lt(e=>e instanceof s8?e:J0(o8,e))],ie.prototype,"ui",void 0),ie=c([M("esri.views.MapView")],ie);const Goe=ie,Ne="esri-search",Ce={base:Ne,hasMultipleSources:`${Ne}--multiple-sources`,isLoading:`${Ne}--loading`,isSearching:`${Ne}--searching`,showSuggestions:`${Ne}--show-suggestions`,showSources:`${Ne}--sources`,showWarning:`${Ne}--warning`,container:`${Ne}__container`,input:`${Ne}__input`,inputContainer:`${Ne}__input-container`,form:`${Ne}__form`,submitButton:`${Ne}__submit-button`,sourcesButton:`${Ne}__sources-button`,sourcesButtonDown:`${Ne}__sources-button--down`,sourcesButtonUp:`${Ne}__sources-button--up`,clearButton:`${Ne}__clear-button`,sourceName:`${Ne}__source-name`,suggestionsMenu:`${Ne}__suggestions-menu`,suggestionList:`${Ne}__suggestions-list`,suggestionListCurrentLocation:`${Ne}__suggestions-list--current-location`,sourcesMenu:`${Ne}__sources-menu`,source:`${Ne}__source`,warningMenu:`${Ne}__warning-menu`,warningMenuBody:`${Ne}__warning-body`,warningMenuHeader:`${Ne}__warning-header`,warningMenuText:`${Ne}__warning-text`,noValueText:`${Ne}__no-value-text`},Ma="esri-search-result-renderer",Ea={base:Ma,showMoreResults:`${Ma}__more-results--show-more-results`,moreResults:`${Ma}__more-results`,moreResultsList:`${Ma}__more-results-list`,moreResultsHeader:`${Ma}__more-results-header`,moreResultsItem:`${Ma}__more-results-item`,moreResultsListHeader:`${Ma}__more-results-list-header`},p8=96;function pye(e,t){const r=e.extent,n=e.width,i=Vi(r==null?void 0:r.spatialReference);return r&&n?r.width/n*i*WA*p8:0}function Woe(e,t){return e/(Vi(t)*WA*p8)}function Boe(e,t){const r=e.extent,n=e.width-(e.padding?e.padding.left+e.padding.right:0),i=Woe(t,r.spatialReference);return r.clone().expand(i*n/r.width)}function fye(e,t,r){return Hoe(e,t)&&qoe(e,r)}function Hoe(e,t){return t===0||Fh(e,t)||e<t}function qoe(e,t){return t===0||Fh(e,t)||e>t}function tC(e){var t;switch(e==null?void 0:e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":case"polyline":return(t=e.extent)==null?void 0:t.center;default:return null}}async function Zoe(e,t){var i,s;if(e.hasZ||t.type==="2d")return e;const r=(i=t.map)==null?void 0:i.ground;if(!(r!=null&&r.layers.length))return e;const{geometry:n}=await r.queryElevation(e,{cache:(s=t.basemapTerrain)==null?void 0:s.elevationQueryCache});return n}function gS(e,t,r){return f8(e.center,t,r)}function ET(e,t,r){switch(e==null?void 0:e.type){case"extent":return e;case"multipoint":case"polygon":case"polyline":return e.extent;case"point":return f8(e,t,r);default:return null}}function f8(e,t,r){const n=e.hasZ?e.z:void 0;if(t!=null&&t.map)return(r!=null?Boe(t,r):t.extent).clone().centerAt(e).set({zmax:n,zmin:n});const{x:i,y:s,spatialReference:o}=e;return new Le({xmin:i-.25,ymin:s-.25,xmax:i+.25,ymax:s+.25,spatialReference:o,zmin:n,zmax:n})}function Joe(e){return e&&typeof e.highlight=="function"}function Koe(e,t,r){return e==null||e>=r&&(t===0||e<=t)}function mye(e,t){if(t&&e){const{minScale:r,maxScale:n}=e;if(Yoe(r,n))return Koe(t,r,n)}return!0}function Yoe(e,t){return e!=null&&e>0||t!=null&&t>0}function yye(e){return!(e!=null&&e.minScale)||!e.maxScale||e.minScale>=e.maxScale}let ht=class extends bv(B){constructor(t){super(t),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};c([h()],ht.prototype,"autoNavigate",void 0),c([h()],ht.prototype,"filter",void 0),c([h()],ht.prototype,"getResults",void 0),c([h()],ht.prototype,"getSuggestions",void 0),c([h()],ht.prototype,"maxResults",void 0),c([h()],ht.prototype,"maxSuggestions",void 0),c([h()],ht.prototype,"minSuggestCharacters",void 0),c([h()],ht.prototype,"outFields",void 0),c([h()],ht.prototype,"placeholder",void 0),c([h()],ht.prototype,"popupEnabled",void 0),c([h()],ht.prototype,"popupTemplate",void 0),c([h()],ht.prototype,"prefix",void 0),c([h()],ht.prototype,"resultGraphicEnabled",void 0),c([h()],ht.prototype,"resultSymbol",void 0),c([h()],ht.prototype,"suggestionsEnabled",void 0),c([h()],ht.prototype,"suffix",void 0),c([h()],ht.prototype,"withinViewEnabled",void 0),c([h()],ht.prototype,"zoomScale",void 0),ht=c([M("esri.widgets.Search.SearchSource")],ht);const kT=ht,Qoe=/https?:\/\/services.*\.arcgis\.com/i,Xoe=/(?:\{([^}]+)\})/g,Tc=()=>z.getLogger("esri.widgets.Search.support.layerSearchUtils");function eae(e,t){const{exactMatch:r=!1,location:n,maxResults:i,spatialReference:s,source:o,sourceIndex:a,suggestResult:l,view:d}=e,{layer:p,filter:f,zoomScale:m}=o,y=d==null?void 0:d.scale,g=m8(o,d),v=t==null?void 0:t.signal;return g8(p).then(()=>{const S=p.popupTemplate;return S?S.getRequiredFields(p.fieldsIndex):null}).then(S=>{var G,Z,le,W;const{objectIdField:w,returnZ:_}=p,$=$8(o);if(!PT(p,$))throw Tc().error("invalid-field: displayField is invalid."),new j("getResults():invalid-field","displayField is invalid.");const x=S!=null&&S.length?S:[$],T=o.outFields||x,E=y8(T);if(T.includes(w)||E||T.push(w),(G=p.floorInfo)!=null&&G.floorField&&T.push(p.floorInfo.floorField),!(E||w0(p,T)))throw Tc().error("invalid-field: outField is invalid."),new j("getResults():invalid-field","outField is invalid.");const P=p.createQuery(),{orderByFields:O}=o;if(O&&(P.orderByFields=O),s){P.outSpatialReference=s;const pe=1/Vi(s);pe&&(P.maxAllowableOffset=pe)}const A=p.geometryType==="mesh"||p.geometryType==="multipatch",R=((le=(Z=p.capabilities)==null?void 0:Z.data)==null?void 0:le.supportsZ)&&!A;if(P.returnZ=R&&_!==!1,P.returnGeometry=!0,P.multipatchOption=A?"xyFootprint":null,T&&(P.outFields=T),n)P.geometry=n;else if(l.key)P.objectIds=[l.key];else{const pe=o.searchFields||[$];if(!w0(p,pe))throw Tc().error("invalid-field: search field is invalid."),new j("getResults():invalid-field","search field is invalid.");if(S8(p)&&(P.num=i),g&&(P.geometry=g),!((W=l.text)==null?void 0:W.trim()))return[];const nt=l.text,{prefix:N="",suffix:te=""}=o,ce=x8(`${N}${nt}${te}`);b8(p)&&w8(p,pe)&&!r&&nt&&(P.fullText=_8({text:nt,searchFields:pe}));const ze=T8({searchTerm:ce,layer:p,searchFields:pe,filter:f,exactMatch:r,query:P,type:"search"});if(P.where=ze,!v8(P))return[]}return p.queryFeatures(P,{signal:v}).then(pe=>pae(pe,d,o,a,$,y,m))})}function tae(e,t){const{source:r,spatialReference:n,view:i,suggestTerm:s,maxSuggestions:o,sourceIndex:a,exactMatch:l}=e,{layer:d,filter:p}=r,f=t==null?void 0:t.signal,m=m8(r,i);return g8(d).then(()=>{if(!S8(d))return[];const y=$8(r),g=r.searchFields||[y],v=[];r.suggestionTemplate?r.suggestionTemplate.replaceAll(Xoe,(R,G)=>(v.push(G),R)):v.push(y);const S=y8(v);v.includes(d.objectIdField)||S||v.push(d.objectIdField);const w=PT(d,y),_=S||w0(d,v),$=w0(d,g);if(!w)throw Tc().error("invalid-field: displayField is invalid."),new j("getSuggestions():invalid-field","displayField is invalid.");if(!_)throw Tc().error("invalid-field: outField is invalid."),new j("getSuggestions():invalid-field","outField is invalid.");if(!$)throw Tc().error("invalid-field: search field is invalid."),new j("getSuggestions():invalid-field","search field is invalid.");const x=d.createQuery(),{orderByFields:T}=r;if(T&&(x.orderByFields=T),x.outSpatialReference=n,x.returnGeometry=!1,x.num=o,x.outFields=v,m&&(x.geometry=m),!s.trim())return[];const{prefix:E="",suffix:P=""}=r,O=x8(`${E}${s}${P}`);b8(d)&&w8(d,g)&&!l&&s&&(x.fullText=_8({text:s,searchFields:g}));const A=T8({searchTerm:O,layer:d,searchFields:g,filter:p,exactMatch:l,query:x,type:"suggest"});return x.where=A,v8(x)?d.queryFeatures(x,{signal:f}).then(R=>cae(R,r,a,y)):[]})}function m8(e,t){const{filter:r,withinViewEnabled:n}=e,i=t==null?void 0:t.extent;return(r==null?void 0:r.geometry)??(n&&i?i:void 0)}function y8(e){return e&&e.includes("*")}async function g8(e){e&&await e.load()}function v8(e){return!(!e.fullText&&!e.where)}function w8(e,t){const r=e==null?void 0:e.indexes;return!r||!(t!=null&&t.length)?!1:r.filter(n=>n.indexType==="FullText").some(n=>{var s;const i=((s=n.fields)==null?void 0:s.split(",").map(o=>o.trim().toLowerCase()))||[];return t.every(o=>i.includes(o.toLowerCase()))})}function _8({text:e,searchFields:t}){return e.trim().split(" ").filter(r=>!!r.trim()).map(r=>new t6({onFields:t,searchTerm:r,searchType:"prefix"}))}function b8(e){var t,r;return((r=(t=e==null?void 0:e.capabilities)==null?void 0:t.query)==null?void 0:r.supportsFullTextSearch)??!1}function S8(e){var t,r;return((r=(t=e==null?void 0:e.capabilities)==null?void 0:t.query)==null?void 0:r.supportsPagination)??!1}function rae(e){var t,r,n;return((n=(r=(t=e==null?void 0:e.fieldsIndex)==null?void 0:t.fields)==null?void 0:r.find(i=>i.type==="string"))==null?void 0:n.name)??""}function $8(e){return e.displayField||e.layer.displayField||rae(e.layer)}function w0(e,t){return!(!e||!(t!=null&&t.length))&&t.every(r=>PT(e,r))}function PT(e,t){return!!e.getField(t)}function nae(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}function iae({codedValues:e},t,r){return pg(e??[],n=>{const i=n.name,s=r?i:i.toLowerCase();return(r?t:t.toLowerCase())===s?n.code.toString():null})??null}function x8(e){return e.replaceAll("'","''")}function Rd(e,t){const r=t==null?void 0:t.where;return r?`(${e}) AND (${r})`:e}function sae({currentTerm:e,field:t,filter:r,exactMatch:n,url:i,type:s}){const o=t==null?void 0:t.type,a=t==null?void 0:t.name;if(o==="string"||o==="date"||o==="global-id"){const l=Qoe.test(i??""),d=l&&nae(e)?"N":"";return Rd(n&&s==="search"?`${a} = ${d}'${e}'`:l?`${a} LIKE ${d}${`'${e}%'`}`:`${`LOWER(${a})`} LIKE ${d}${`'${e.toLowerCase()}%'`}`,r)}if(o==="oid"||o==="small-integer"||o==="integer"||o==="single"||o==="double"){const l=Number(e);return isNaN(l)?null:Rd(`${a} = ${l}`,r)}return Rd(`${a} = ${e}`,r)}function oae(e,t){return e?` OR (${t})`:`(${t})`}function T8({searchTerm:e,layer:t,searchFields:r,filter:n,exactMatch:i,query:s,type:o}){const{definitionExpression:a,url:l}=t;let d="";return!s.fullText&&e&&r&&r.forEach(p=>{const f=t.getField(p),m=typeof t.getFieldDomain=="function"&&t.getFieldDomain(p),y=(m&&m.type==="coded-value"?iae(m,e,i):null)||e||null;if(y!==null){const g=sae({currentTerm:y,field:f,filter:n,exactMatch:i,url:l,type:o});g&&(d+=oae(d,g))}}),a&&d?`(${a}) AND (${d})`:a||d}function aae(e,t){let r=null;const{codedValues:n}=e;return n&&n.length&&n.some(i=>i.code===t&&(r=i.name,!0)),r}function lae(e,t){return e[t]??e[Object.keys(e).find(r=>r.toLowerCase()===t.toLowerCase())]}function M8(e,t,r){const n=e.sourceLayer,{attributes:i}=e,s=typeof n.getFieldDomain=="function"&&n.getFieldDomain(r);if(t)return W5(t,i);if(r&&i){const o=n.getField(r),a=lae(i,r);return a==null?"":s&&s.type==="coded-value"?aae(s,a)??"":(o==null?void 0:o.type)==="date"?ra(new Date(a)):typeof a=="number"?a.toString():typeof a!="string"?"":a.trim()}return""}function uae(e,t,r,n){const i=e.sourceLayer,{attributes:s}=e,{objectIdField:o}=i,a=o?s[o]:null;return{text:M8(e,t.suggestionTemplate,n),key:a,sourceIndex:r}}function cae(e,t,r,n){return e.features.map(i=>uae(i,t,r,n))}function dae(e){return e!=null&&e.minScale!=null&&e.maxScale!=null}function hae(e,t,r,n,i,s,o){const a=e.clone(),l=e.sourceLayer,d=l==null?void 0:l.objectIdField,p=d?e.attributes[d]:null,f=M8(e,r.searchTemplate,i);s!=null&&dae(l)&&(l.minScale&&l.minScale<s?s=l.minScale:l.maxScale&&l.maxScale>s&&(s=l.maxScale));const m=a.geometry?ET(a.geometry,t??void 0,s??void 0):void 0,y=typeof o=="number"&&m?gS(L(m),t??void 0,o):m,g=e.clone();return y!=null&&(g.geometry=Di.fromExtent(y)),{extent:y,target:g,feature:a,key:p,name:f,sourceIndex:n}}function pae(e,t,r,n,i,s,o){return e.features.map(a=>hae(a,t,r,n,i,s,o))}var vS;let Un=vS=class extends kT{constructor(e){super(e),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(t,r)=>eae({source:this,...t},r),this.getSuggestions=(t,r)=>tae({source:this,...t},r)}set layer(e){this._set("layer",e),e&&e.load().catch(()=>{})}get name(){return this._getLayerTitle()??""}set name(e){this._overrideIfSome("name",e)}clone(){return new vS({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?L(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?L(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var e,t;return((t=(e=this.layer.fieldsIndex)==null?void 0:e.fields.find(r=>r.type==="string"))==null?void 0:t.name)??""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:e,searchFields:t}=this;return e.loaded?`: ${(t||[this._getDisplayField()]).map(r=>{const n=e.getField(r);return(n==null?void 0:n.alias)||r}).join(", ")}`:""}_getLayerTitle(){const{layer:e}=this;if(!e)return;const{title:t}=e;return t?`${t}${this._getSearchFieldsString()}`:void 0}};c([h({json:{read:{source:"field.name"},write:{target:"field.name"}}})],Un.prototype,"displayField",void 0),c([h({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],Un.prototype,"exactMatch",void 0),c([h({value:null})],Un.prototype,"layer",null),c([h()],Un.prototype,"name",null),c([h({type:[String],json:{write:!0}})],Un.prototype,"orderByFields",void 0),c([h()],Un.prototype,"searchFields",void 0),c([h()],Un.prototype,"searchTemplate",void 0),c([h()],Un.prototype,"suggestionTemplate",void 0),Un=vS=c([M("esri.widgets.Search.LayerSearchSource")],Un);const Du=Un;function fae(e){return!!e&&typeof e.x=="number"&&typeof e.y=="number"}function mae(e){return e&&typeof e.xmin=="number"&&typeof e.ymin=="number"&&typeof e.xmax=="number"&&typeof e.ymax=="number"}let yo=class extends B{constructor(t){super(t),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};c([h({type:String,json:{write:!0}})],yo.prototype,"address",void 0),c([h({type:Object,json:{write:!0}})],yo.prototype,"attributes",void 0),c([h({type:Le,json:{write:!0}})],yo.prototype,"extent",void 0),c([h({type:Q,json:{write:!0}})],yo.prototype,"location",void 0),c([h({type:Number,json:{write:!0}})],yo.prototype,"score",void 0),yo=c([M("esri.rest.support.AddressCandidate")],yo);const E8=yo,CT={type:String,json:{read:{source:"token"},write:{target:"token"}}};let jt=class extends B{constructor(t){super(t),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};c([h({type:Object,json:{write:!0}})],jt.prototype,"address",void 0),c([h(CT)],jt.prototype,"apiKey",void 0),c([h({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],jt.prototype,"categories",void 0),c([h({type:String,json:{write:!0}})],jt.prototype,"countryCode",void 0),c([h({type:Boolean,json:{write:!0}})],jt.prototype,"forStorage",void 0),c([h({type:Q,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],jt.prototype,"location",void 0),c([h({type:String,json:{write:!0}})],jt.prototype,"locationType",void 0),c([h({type:String,json:{write:!0}})],jt.prototype,"magicKey",void 0),c([h({type:Number,json:{write:!0}})],jt.prototype,"maxLocations",void 0),c([h({type:[String],json:{write:{writer:(e,t)=>{t.outFields=e?e.join(","):null}}}})],jt.prototype,"outFields",void 0),c([h({type:he,json:{read:{source:"outSR"},write:{target:"outSR"}}})],jt.prototype,"outSpatialReference",void 0),c([h({type:Le,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=r}}}})],jt.prototype,"searchExtent",void 0),jt=c([M("esri.rest.support.AddressToLocationsParameters")],jt),jt.from=Mt(jt);const k8=jt;async function yae(e,t,r){t=k8.from(t);const n=wf(e),{address:i,...s}=t.toJSON(),o={...i,...s,f:"json"},a=Nv({...n.query,...o}),l=Lv(a,r),d=`${n.path}/findAddressCandidates`;return at(d,l).then(gae)}function gae({data:e}){if(!e)return[];const{candidates:t,spatialReference:r}=e;return t?t.map(n=>{if(!n)return;const{extent:i,location:s}=n,o=!i||mae(i);return fae(s)&&o?(i&&(i.spatialReference=r),s&&(s.spatialReference=r),E8.fromJSON(n)):void 0}):[]}let us=class extends B{constructor(t){super(t),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};c([h(CT)],us.prototype,"apiKey",void 0),c([h({type:Q,json:{write:{writer:(e,t)=>{const r=e?e.clone().normalize():null,n=r!==void 0;t.location=n?r:null}}}})],us.prototype,"location",void 0),c([h({type:String,json:{write:!0}})],us.prototype,"locationType",void 0),c([h({type:he,json:{read:{source:"outSR"},write:{target:"outSR"}}})],us.prototype,"outSpatialReference",void 0),us=c([M("esri.rest.support.LocationToAddressParameters")],us),us.from=Mt(us);const P8=us;async function vae(e,t,r){t=P8.from(t);const n=wf(e),i={...t.toJSON(),f:"json"},s=Nv({...n.query,...i}),o=Lv(s,r),a=`${n.path}/reverseGeocode`;return at(a,o).then(wae)}function wae({data:e}){if(!e)return;const{address:t,location:r}=e,n=(t==null?void 0:t.Match_addr)||"";return E8.fromJSON({address:n,attributes:t||{},location:r,score:100})}let Fu=class extends B{constructor(t){super(t),this.isCollection=null,this.magicKey=null,this.text=null}};c([h({type:Boolean,json:{write:!0}})],Fu.prototype,"isCollection",void 0),c([h({type:String,json:{write:!0}})],Fu.prototype,"magicKey",void 0),c([h({type:String,json:{write:!0}})],Fu.prototype,"text",void 0),Fu=c([M("esri.rest.support.SuggestionCandidate")],Fu);const _ae=Fu;let jr=class extends B{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};c([h(CT)],jr.prototype,"apiKey",void 0),c([h({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],jr.prototype,"categories",void 0),c([h({type:String,json:{write:!0}})],jr.prototype,"countryCode",void 0),c([h({type:Q,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],jr.prototype,"location",void 0),c([h({type:Number,json:{write:!0}})],jr.prototype,"maxSuggestions",void 0),c([h({type:he,json:{read:{source:"outSR"},write:{target:"outSR"}}})],jr.prototype,"outSpatialReference",void 0),c([h({type:Le,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=JSON.stringify(r)}}}})],jr.prototype,"searchExtent",void 0),c([h({type:String,json:{write:!0}})],jr.prototype,"text",void 0),jr=c([M("esri.rest.support.SuggestLocationsParameters")],jr),jr.from=Mt(jr);const C8=jr;async function bae(e,t,r){const n=wf(e),i={...(t=C8.from(t)).toJSON(),f:"json"},s=Nv({...n.query,...i}),o=Lv(s,r),a=`${n.path}/suggest`;return at(a,o).then(Sae)}function Sae(e){const{data:t}=e;if(!t)return[];const{suggestions:r}=t;return r?r.map(n=>new _ae(n)):[]}const $ae="Single Line Input",xae=3e5;function Tae(e,t){return e.location?Cae(e,t):Oae(e,t)}function O8(e,t){var n;if(t.localSearchDisabled)return null;const r=e==null?void 0:e.scale;return typeof r=="number"&&r<=xae?(n=e==null?void 0:e.extent)==null?void 0:n.center:null}async function Mae(e,t){const{source:r,spatialReference:n,view:i,suggestTerm:s,maxSuggestions:o,sourceIndex:a}=e,l=new C8,{apiKey:d,url:p}=r,f=I8(r,i),m=t==null?void 0:t.signal;if(!p)return null;d&&(l.apiKey=d),r.categories&&(l.categories=r.categories),n&&(l.outSpatialReference=n);const y=O8(i,r);if(y&&(l.location=y),!s.trim())return null;const{prefix:g="",suffix:v=""}=r,S=`${g}${s}${v}`;return l.text=S,f&&(l.searchExtent=f),l.maxSuggestions=o,r.countryCode&&(l.countryCode=r.countryCode),bae(p,l,{signal:m}).then(w=>Aae(w,a))}function Eae(e){return!!e&&/(?:geocode-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}function kae(e){return!!e&&/(?:\/servers\/[\da-z.-]+\/rest\/services\/world\/geocodeserver).*/i.test(e)}function rC(e){return!!e&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}const Pae="https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer";async function Cae(e,t){const{source:r,spatialReference:n,location:i,sourceIndex:s,view:o}=e,{apiKey:a,url:l,zoomScale:d,defaultZoomScale:p}=r;if(l==null)return[];const f=o==null?void 0:o.scale,m=t==null?void 0:t.signal,y=new P8({location:i});a&&(y.apiKey=a),n&&(y.outSpatialReference=n);try{return A8([await vae(l,y,{signal:m})],{sourceIndex:s,scale:f,view:o,zoomScale:d,defaultZoomScale:p})}catch{return[]}}function I8(e,t){const{filter:r,withinViewEnabled:n}=e,i=t==null?void 0:t.scale,s=t==null?void 0:t.extent,o=r==null?void 0:r.geometry;return(o?ET(o,t??void 0,i):void 0)||(n&&s?s:void 0)}async function Oae(e,t){var P;const{source:r,suggestResult:n,spatialReference:i,view:s,maxResults:o,sourceIndex:a}=e,l=r==null?void 0:r.zoomScale,d=r==null?void 0:r.defaultZoomScale;if(!((P=n.text)==null?void 0:P.trim()))return null;const f=!n.key&&r.prefix?r.prefix:"",m=!n.key&&r.suffix?r.suffix:"",y=`${f}${n.text}${m}`,g=new k8,{apiKey:v,url:S}=r,w=s==null?void 0:s.scale,_=I8(r,s),$=t==null?void 0:t.signal;if(v&&(g.apiKey=v),!S)return null;r.categories&&(g.categories=r.categories),r.locationType&&(g.locationType=r.locationType),i&&(g.outSpatialReference=i);const x=O8(s,r);x&&(g.location=x),g.maxLocations=o,_&&(g.searchExtent=_),r.countryCode&&(g.countryCode=r.countryCode);const{key:T}=n,E=`${T}`;return T&&(g.magicKey=E),g.address={},g.address[r.singleLineFieldName||$ae]=y,r.outFields&&(g.outFields=r.outFields),yae(S,g,{signal:$}).then(O=>A8(O,{key:E,scale:w,sourceIndex:a,view:s,zoomScale:l,defaultZoomScale:d}))}function Iae(e,t){return{text:e.text,key:e.magicKey,sourceIndex:t}}function Aae(e,t){return e.map(r=>Iae(r,t))}function Rae(e,t){const{key:r,scale:n,sourceIndex:i,view:s,zoomScale:o,defaultZoomScale:a}=t,{attributes:l,extent:d,location:p,address:f}=e,m=new Gl({geometry:p,attributes:l}),y=d||p,g=y?ET(y,s??void 0,n??void 0):void 0,v=g?typeof o=="number"?gS(g,s??void 0,o):typeof a=="number"&&(y==null?void 0:y.type)==="point"?gS(g,s??void 0,a):g:null,S=p?`${p.x},${p.y}`:"",w=f||S,_=m.clone();return v!=null&&(_.geometry=Di.fromExtent(v)),{extent:v,feature:m,target:_,key:r,name:w,sourceIndex:i}}function A8(e,t){return e.filter(Boolean).map(r=>Rae(r,t))}var wS;let Qt=wS=class extends kT{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(t,r)=>Tae({source:this,...t},r),this.getSuggestions=(t,r)=>Mae({source:this,...t},r)}clone(){return new wS({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?L(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?L(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};c([h()],Qt.prototype,"apiKey",void 0),c([h()],Qt.prototype,"categories",void 0),c([h()],Qt.prototype,"countryCode",void 0),c([h({json:{write:!0}})],Qt.prototype,"defaultZoomScale",void 0),c([h()],Qt.prototype,"localSearchDisabled",void 0),c([h()],Qt.prototype,"locationType",void 0),c([h({json:{write:!0}})],Qt.prototype,"name",void 0),c([h({json:{write:!0}})],Qt.prototype,"placeholder",void 0),c([h()],Qt.prototype,"searchTemplate",void 0),c([h({json:{write:!0}})],Qt.prototype,"singleLineFieldName",void 0),c([h({json:{read:{source:"suggest"},write:{target:"suggest"}}})],Qt.prototype,"suggestionsEnabled",void 0),c([h({json:{write:!0}})],Qt.prototype,"url",void 0),c([h({json:{write:!0}})],Qt.prototype,"zoomScale",void 0),Qt=wS=c([M("esri.widgets.Search.LocatorSearchSource")],Qt);const R8=Qt;let il=class extends B{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map(i=>i.toJSON()),r=this.geometries[0],n={};return n.outSR=Lg(this.outSpatialReference),n.inSR=Lg(r.spatialReference),n.geometries=JSON.stringify({geometryType:rf(r),geometries:t}),this.transformation&&(n.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(n.transformForward=this.transformForward),n}};c([h()],il.prototype,"geometries",void 0),c([h({json:{read:{source:"outSR"}}})],il.prototype,"outSpatialReference",void 0),c([h()],il.prototype,"transformation",void 0),c([h()],il.prototype,"transformForward",void 0),il=c([M("esri.rest.support.ProjectParameters")],il);const L8=il,Lae=Mt(L8);async function Nae(e,t,r){t=Lae(t);const n=wf(e),i={...n.query,f:"json",...t.toJSON()},s=t.outSpatialReference,o=rf(t.geometries[0]),a=Lv(i,r);return at(n.path+"/project",a).then(({data:{geometries:l}})=>N6(l,o,s))}const N8=()=>z.getLogger("esri.widgets.support.geolocationUtils"),Dae={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function Fae(){const e=I("esri-geolocation");return e||N8().warn("geolocation-unsupported","Geolocation unsupported."),e}function jae(){const e=window.isSecureContext;return e||N8().warn("insecure-context","Geolocation requires a secure origin."),e}function nC(){return Fae()&&jae()}function zae(e){return e||(e=Dae),new Promise((r,n)=>{setTimeout(()=>n(new j("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(r,n,e??void 0)})}function Uae(e,t){const{position:r,view:n}=e,i=Vae(r),s=i==null?void 0:i.coords;if(!s)throw new j("geometry-service:no-coords","Geolocation has no coordinates");return Wae(Gae(s),n,t)}function Vae(e){const t=e&&e.coords||{},r={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed};return e&&{coords:r,timestamp:e.timestamp}}function Gae({longitude:e,latitude:t,altitude:r}){return new Q({longitude:e,latitude:t,z:r||void 0,spatialReference:{wkid:4326}})}function Wae(e,t,r){if(!t)return Promise.resolve(e);const n=t.spatialReference;return n.isWGS84?Promise.resolve(e):n.isWebMercator?Promise.resolve(Ho(e)):Bae(r).then(i=>{if(!i)throw new j("geometry-service:missing-url","Geometry service URL is missing");const s=new L8({geometries:[e],outSpatialReference:n});return Nae(i,s,r).then(o=>o[0])})}function Bae(e){if(ye.geometryServiceUrl)return Promise.resolve(ye.geometryServiceUrl);const t=si.getDefault();return t.load(e).catch(()=>{}).then(()=>{var r,n;return(n=(r=t.helperServices)==null?void 0:r.geometry)==null?void 0:n.url})}function Jt(e,t){return e.hasOwnProperty(t)&&e[t]!=null&&e[t]!==""}const Hae=()=>Mx("esri/widgets/Search/t9n/Search"),iC="highlight",zy=X.ofType({key:e=>e.layer?"layer":"locator",base:kT,typeMap:{layer:Du,locator:R8}}),sC=he.WGS84,qae="esri/images/search/search-symbol-32.png",Zae=/<[\s\S]*?>/g,ju=-1;let ue=class extends t8(Ns.EventedMixin(ee)){constructor(e){super(e),this._gotoController=null,this._searching=null,this._updatingPromise=null,this._createdFeatureLayers=[],this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new zy,this.defaultSymbols={point:new ff({url:be(qae),size:24,width:24,height:24}),polyline:new ga({color:[130,130,130,1],width:2}),polygon:new Pv({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=si.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new zy,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){const e=async()=>{const t=await Hae();this.messages=t,this.defaultPopupTemplate=new Hx({title:t.searchResult,content:"{Match_addr}"})};e(),this.addHandles([re(()=>[this.includeDefaultSources,this.view,this.portal],()=>this._update(),Rt),px(e)])}destroy(){this._destroyFeatureLayers(),this._abortGoTo(),this.clearGraphics()}get activeSource(){return this.allSources.at(this.activeSourceIndex)??null}get activeSourceIndex(){return this.allSources.length===1||!this.searchAllEnabled?0:ju}set activeSourceIndex(e){this._overrideIfSome("activeSourceIndex",e)}get allPlaceholder(){var e;return(e=this.messages)==null?void 0:e.allPlaceholder}set allPlaceholder(e){this._overrideIfSome("allPlaceholder",e)}get allSources(){const{sources:e,defaultSources:t,includeDefaultSources:r}=this,n=typeof r=="function"?r.call(null,{sources:e,defaultSources:t}):r?t.concat(e):e,i=this._get("allSources")||new zy;return i.removeAll(),i.addMany(n.filter(Boolean)),i}get locationEnabled(){return this._get("locationEnabled")||nC()}set locationEnabled(e){if(e===void 0)return void this._clearOverride("locationEnabled");const t=nC();if(e&&!t){const r=new j("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});z.getLogger(this).error(r)}this._override("locationEnabled",!!e&&t)}get placeholder(){const{allSources:e,activeSourceIndex:t,allPlaceholder:r}=this;if(t===ju)return r??"";const n=e.at(t);return(n==null?void 0:n.placeholder)??""}set searchTerm(e){this._set("searchTerm",e||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==e&&this._set("selectedSuggestion",null),e===""&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":this.allSources.length===0?"disabled":"ready"}get updating(){return this._updatingPromise!=null}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup();const{view:e,resultGraphic:t}=this;e&&t&&e.graphics.remove(t),this._set("resultGraphic",null)}search(e,t){this.emit("search-start"),this.clearGraphics();const r=this._createSuggestionForSearch(e),n=(async()=>{var i;try{await this.when();const s=await this._getResultsFromSources(r,t);if((i=t==null?void 0:t.signal)!=null&&i.aborted)return null;const o={activeSourceIndex:this.activeSourceIndex,searchTerm:r.text??"",numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(o,s,r);const a=this._getFirstResult(o.results),l=r.location&&a?a.name:r.text,d=l==null?void 0:l.replace(Zae,"");return this._set("searchTerm",d),(r.key&&typeof r.sourceIndex=="number"||r.location)&&this._set("selectedSuggestion",r),this._set("results",o.results),this._set("resultCount",o.results.reduce((p,f)=>{var m;return p+(((m=f.results)==null?void 0:m.length)??0)},0)),this.emit("search-complete",o),await this._selectFirstResult(a),o}finally{this._clearSearching()}})();return this._searching=n,n}async searchNearby(e){if(!this.locationEnabled){const r=new j("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});throw z.getLogger(this).error(r),r}const t=(async()=>{try{const r=await zae(),n=await Uae({position:r,view:this.view},e);return await this.search(n,e)}finally{this._clearSearching()}})();return this._searching=t,t}async select(e){if(this.clearGraphics(),!e){const A=new j("select:missing-parameter","Cannot select without a searchResult.",{searchResult:e});throw z.getLogger(this).error(A),A}const{view:t}=this,r=Jt(e,"sourceIndex")?e.sourceIndex:this._getSourceIndexOfResult(e),n=r!=null?this.allSources.at(r):null;if(!n){const A=new j("select:missing-source","Cannot select without a source.",{source:n});throw z.getLogger(this).error(A),A}const i=n instanceof Du?this._getLayerSourcePopupTemplate(n):n.popupTemplate,s=n.resultSymbol||this._getDefaultSymbol(e),o=Jt(n,"resultGraphicEnabled")?n.resultGraphicEnabled:this.resultGraphicEnabled,a=Jt(n,"autoNavigate")?n.autoNavigate:this.autoNavigate,l=Jt(n,"popupEnabled")?n.popupEnabled:this.popupEnabled,d=l?i||this.popupTemplate||this.defaultPopupTemplate:null,{feature:p}=e;if(!p){const A=new j("select:missing-feature","Cannot select without a feature.",{feature:p});throw z.getLogger(this).error(A),A}const{attributes:f,geometry:m,layer:y,sourceLayer:g}=p,v=m?tC(m):null,S={layerViewQuery:this._getLayerView(p),elevationQuery:t&&v!=null?Zoe(v,t):Promise.resolve(v)},w=await pl(S),_=w.layerViewQuery.value,$=w.elevationQuery.value;s instanceof mf&&(s.text=e.name);const x=t&&a?e.target||e.extent:null;await(x!=null?this._goToSearchResult(x):Promise.resolve());const E=_?p:new Gl({geometry:m,symbol:s,attributes:f,layer:y,sourceLayer:g,popupTemplate:d}),P=t==null?void 0:t.popup,O=P&&l&&E.getEffectivePopupTemplate(P.defaultPopupTemplateEnabled);return O&&await t.openPopup({features:[E],location:$}),_&&Joe(_)&&!O&&this._highlightFeature({graphic:E,layerView:_}),!_&&o&&t&&t.graphics.push(E),this._setResultFloor(e),this._set("selectedResult",e),this._set("resultGraphic",E),this.emit("select-result",{result:e,source:n,sourceIndex:r}),e}async suggest(e,t,r){const n=e||this.searchTerm;this.emit("suggest-start",{searchTerm:n}),await this._suggestTimer(t,r);const i=await this._suggestImmediate(n,r);return this._set("suggestions",i==null?void 0:i.results),this._set("suggestionCount",(i==null?void 0:i.results.reduce((s,o)=>{var a;return s+(((a=o.results)==null?void 0:a.length)??0)},0))??null),this.emit("suggest-complete",i),i}async when(){await xp(()=>!this.updating)}async _update(){const{portal:e,view:t}=this;if(this.includeDefaultSources){const r=this._updatingPromise=pl([e==null?void 0:e.load(),t==null?void 0:t.when()]);if(this.destroyed||(await r,r!==this._updatingPromise))return}await xp(()=>this.messages),this.destroyed||this._updateDefaultSources(),this._updatingPromise=null}_clearSearching(){this._searching=null}_convertHelperServices(){var t,r;const e=(r=(t=this.portal)==null?void 0:t.helperServices)==null?void 0:r.geocode;return e?e.map(n=>{var a;if(n.placefinding===!1)return;const i=ye.apiKey&&rC(n.url)?{url:Pae}:null,s=R8.fromJSON({...n,...i}),o=s.url;if(rC(o)||kae(o)||Eae(o)){const l=s.outFields??["Addr_type","Match_addr","StAddr","City"],d=(s.placeholder||((a=this.messages)==null?void 0:a.placeholder))??"",p=typeof s.defaultZoomScale=="number"?s.defaultZoomScale:2500;s.singleLineFieldName="SingleLine",s.outFields=l,s.placeholder=d,s.defaultZoomScale=p}return s.singleLineFieldName?s:void 0}).filter(Wo):[]}_destroyFeatureLayers(){this._createdFeatureLayers.forEach(e=>e==null?void 0:e.destroy()),this._createdFeatureLayers=[]}_getLayerSources(e,t){var n;const r=(n=this.view)==null?void 0:n.map;return e.map(i=>{const s=r.findLayerById(i.id);if(!s)return;const o=this._getLayerJSON(i),a=Du.fromJSON(o);return a.placeholder=t,this._getLayer(s,o).then(l=>{a.layer=l}),a}).filter(Wo).toArray()}_getTableSources(e,t){var n;const r=(n=this.view)==null?void 0:n.map;return e.map(i=>{if(!i.id)return;const s=r.findTableById(i.id);if(!s)return;const o=this._getLayerJSON(i),a=Du.fromJSON(o);return a.placeholder=t,this._getLayer(s,o).then(l=>{a.layer=l}),a}).filter(Wo).toArray()}_convertApplicationProperties(){var o,a,l;const e=(o=this.view)==null?void 0:o.map,t=(l=(a=e==null?void 0:e.applicationProperties)==null?void 0:a.viewing)==null?void 0:l.search;if(!t)return[];const{enabled:r,hintText:n,layers:i,tables:s}=t;return r?[...this._getLayerSources(i,n),...this._getTableSources(s,n)]:[]}async _getSubLayer(e,t){var i;if(await e.load(),!e.allSublayers)throw new Error;const r=e.allSublayers.find(s=>s.id===t.subLayer);if(!r)throw new Error;const n=await((i=r.createFeatureLayer)==null?void 0:i.call(r));if(!n)throw new Error;return this._createdFeatureLayers.push(n),n}async _getBuildingSubLayer(e,t){await e.load();const r=e.allSublayers.find(n=>n.id===t.subLayer);if((r==null?void 0:r.type)!=="building-component")throw new Error;if(await r.load(),r.associatedLayer==null)throw new Error;return await r.associatedLayer.load(),r}async _getLayer(e,t){if(e.type==="feature"||e.type==="scene"||e.type==="csv"||e.type==="geojson"||e.type==="ogc-feature")return e;if(e.type==="map-image")try{return await this._getSubLayer(e,t)}catch{const n=new j("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:e});return z.getLogger(this).error(n),null}return e.type==="building-scene"?this._getBuildingSubLayer(e,t):null}_getLayerJSON(e){return typeof e.toJSON=="function"?e.toJSON():e}_updateDefaultSources(){const{defaultSources:e,includeDefaultSources:t}=this;this._destroyFeatureLayers(),e.removeAll(),t&&e.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var i;const e=(i=this.view)==null?void 0:i.popup,{resultGraphic:t}=this;if(!e||!t)return;const r="selectedFeature"in e,n=r?e.selectedFeature:null;r&&n&&n===t&&e.close()}_suggestTimer(e,t){const r=e??this.suggestionDelay;return k$(r,null,t==null?void 0:t.signal)}_createLocationForSearch(e){return e instanceof Gl&&e.geometry?tC(e.geometry):e instanceof Q?e:Array.isArray(e)&&e.length===2?new Q({longitude:e[0],latitude:e[1]}):null}_createSuggestionForSearch(e){if(e&&Jt(e,"key")&&Jt(e,"text")&&Jt(e,"sourceIndex"))return e;const t=this._createLocationForSearch(e),r=typeof e=="string"?e:this.searchTerm,{selectedSuggestion:n,selectedResult:i}=this,s=!e&&n&&i,o=s&&n.key===i.key&&n.sourceIndex===i.sourceIndex,a=s&&n.location;return o||a?n:{location:t,text:t?"":r,sourceIndex:null,key:null}}_getFirstResult(e){return pg(e,({results:t})=>t==null?void 0:t[0])??null}async _selectFirstResult(e){return this.autoSelect&&e?this.select(e):null}async _suggestImmediate(e,t){var i;await this.when();const r=await this._getSuggestionsFromSources(e,t);if((i=t==null?void 0:t.signal)!=null&&i.aborted)return null;const n={activeSourceIndex:this.activeSourceIndex,searchTerm:e??"",numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(n,r),n}_formatSourceResponse(e,t,r){const n=(t==null?void 0:t.value)||[],i=t==null?void 0:t.error,s=this.allSources.at(r);if(i){const o={sourceIndex:r,source:s,error:i};e.errors.push(o),z.getLogger(this).error(i),e.numErrors++}else{const o={sourceIndex:r,source:s,results:n};e.results.push(o),e.numResults+=n.length}}_formatResponse(e,t,r){if(t)if(e.activeSourceIndex===ju){const n=r&&Jt(r,"sourceIndex")&&r.sourceIndex!==-1?r.sourceIndex:void 0;t.forEach((i,s)=>{const o=n!==void 0?n:s;this._formatSourceResponse(e,i,o)})}else this._formatSourceResponse(e,t[0],e.activeSourceIndex)}async _getResultsFromSources(e,t){const{allSources:r}=this,n=!e.location&&Jt(e,"sourceIndex")?e.sourceIndex:this.activeSourceIndex,i=[];if(!r.length){const s=new j("search:no-sources-defined","At least one source is required.",{allSources:r});throw z.getLogger(this).error(s),s}return n===ju?r.forEach((s,o)=>{i.push(this._getResultsFromSource(e,o,t))}):i.push(this._getResultsFromSource(e,n,t)),pl(i)}async _getSuggestionsFromSources(e,t){const{allSources:r,activeSourceIndex:n}=this,i=[];if(!r.length){const s=new j("suggest:no-sources-defined","At least one source is required.",{allSources:r});throw z.getLogger(this).error(s),s}return n===ju?r.forEach((s,o)=>{i.push(this._getSuggestionsFromSource(e,o,t))}):i.push(this._getSuggestionsFromSource(e,n,t)),pl(i)}async _getResultsFromSource(e,t,r){var d,p;const n=t!=null?this.allSources.at(t):null;if(!n)return null;const{location:i=null}=e,s=((d=this.view)==null?void 0:d.spatialReference)||sC,o=Jt(n,"maxResults")?n.maxResults:this.maxResults,a=!!(n instanceof Du&&Jt(n,"exactMatch"))&&n.exactMatch,{view:l}=this;return(p=n.getResults)==null?void 0:p.call(n,{view:l,sourceIndex:t,location:i,suggestResult:e,spatialReference:s,exactMatch:a,maxResults:o},r)}async _getSuggestionsFromSource(e,t,r){var a,l;const n=this.allSources.at(t);if(!n)return null;e??(e="");const i=Jt(n,"suggestionsEnabled")?n.suggestionsEnabled:this.suggestionsEnabled,s=e==null?void 0:e.length,o=Jt(n,"minSuggestCharacters")?n.minSuggestCharacters:this.minSuggestCharacters;if(i&&e.trim()&&s>=o){const d=((a=this.view)==null?void 0:a.spatialReference)||sC,p=Jt(n,"maxSuggestions")?n.maxSuggestions:this.maxSuggestions,{view:f}=this,m=!!(n instanceof Du&&Jt(n,"exactMatch"))&&n.exactMatch;return(l=n.getSuggestions)==null?void 0:l.call(n,{view:f,sourceIndex:t,suggestTerm:e,spatialReference:d,maxSuggestions:p,exactMatch:m},r)}return null}_getLayerSourcePopupTemplate(e){const{layer:t}=e;if(t)return Jt(e,"popupTemplate")?e.popupTemplate:t.popupTemplate}_getSourceIndexOfResult(e){return pg(this.results??[],({results:t,sourceIndex:r})=>(t==null?void 0:t.includes(e))?r:null)??null}async _goToSearchResult(e){this._abortGoTo();const t=new AbortController;this._gotoController=t;const r={target:{target:e},options:{signal:t.signal}};e||(r.options.animate=!1),await this.callGoTo(r),this._gotoController=null}_getDefaultSymbol(e){var n;const{defaultSymbols:t}=this,r=(n=e.feature)==null?void 0:n.geometry;if(r==null)return null;switch(r.type){case"point":case"multipoint":return t.point;case"polyline":return t.polyline;case"extent":case"polygon":return t.polygon;default:return null}}_removeHighlight(){this.removeHandles(iC)}async _getLayerView(e){var n,i;const{view:t}=this;if(!e||!t||((n=e.layer)==null?void 0:n.type)==="building-component"||((i=e.layer)==null?void 0:i.type)==="subtype-sublayer")return null;const{layer:r}=e;return r?(await t.when(),t.whenLayerView(r)):null}_highlightFeature(e){const{graphic:t,layerView:r}=e,{attributes:n,layer:i}=t,{objectIdField:s}=i,o=(s&&(n==null?void 0:n[s]))??null,a=r.highlight(o??t);this.addHandles(a,iC)}_setResultFloor(e){var i,s,o;const{view:t}=this,r=(i=e.feature)==null?void 0:i.attributes,n=(s=e.feature)==null?void 0:s.sourceLayer;if(n&&"floorInfo"in n&&((o=n==null?void 0:n.floorInfo)!=null&&o.floorField)&&r){const a=r[n.floorInfo.floorField];t==null||t.emit("select-result-floor",a)}}};ue.ALL_INDEX=ju,c([h()],ue.prototype,"_searching",void 0),c([h()],ue.prototype,"_updatingPromise",void 0),c([h({readOnly:!0,value:null})],ue.prototype,"activeSource",null),c([h()],ue.prototype,"activeSourceIndex",null),c([h()],ue.prototype,"allPlaceholder",null),c([h({readOnly:!0})],ue.prototype,"allSources",null),c([h()],ue.prototype,"autoNavigate",void 0),c([h()],ue.prototype,"autoSelect",void 0),c([h()],ue.prototype,"defaultPopupTemplate",void 0),c([h({readOnly:!0})],ue.prototype,"defaultSources",void 0),c([h()],ue.prototype,"defaultSymbols",void 0),c([h()],ue.prototype,"includeDefaultSources",void 0),c([h()],ue.prototype,"locationEnabled",null),c([h()],ue.prototype,"maxInputLength",void 0),c([h()],ue.prototype,"maxResults",void 0),c([h()],ue.prototype,"maxSuggestions",void 0),c([h()],ue.prototype,"messages",void 0),c([h()],ue.prototype,"minSuggestCharacters",void 0),c([h({readOnly:!0})],ue.prototype,"placeholder",null),c([h()],ue.prototype,"popupEnabled",void 0),c([h({type:Hx})],ue.prototype,"popupTemplate",void 0),c([h({type:si})],ue.prototype,"portal",void 0),c([h()],ue.prototype,"resultCount",void 0),c([h()],ue.prototype,"resultGraphicEnabled",void 0),c([h({readOnly:!0})],ue.prototype,"resultGraphic",void 0),c([h({readOnly:!0})],ue.prototype,"results",void 0),c([h({readOnly:!0})],ue.prototype,"selectedSuggestion",void 0),c([h()],ue.prototype,"searchAllEnabled",void 0),c([h({readOnly:!0})],ue.prototype,"selectedResult",void 0),c([h()],ue.prototype,"searchTerm",null),c([h({type:zy})],ue.prototype,"sources",void 0),c([h({readOnly:!0})],ue.prototype,"state",null),c([h()],ue.prototype,"suggestionDelay",void 0),c([h()],ue.prototype,"suggestionCount",void 0),c([h({readOnly:!0})],ue.prototype,"suggestions",void 0),c([h()],ue.prototype,"suggestionsEnabled",void 0),c([h({readOnly:!0})],ue.prototype,"updating",null),c([h()],ue.prototype,"view",void 0),c([h()],ue.prototype,"clear",null),ue=c([M("esri.widgets.Search.SearchViewModel")],ue);const ic=ue;let go=class extends od{constructor(t,r){super(t,r),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}destroy(){this.viewModel=null}render(){const t={[Ea.showMoreResults]:this.showMoreResultsOpen};return q("div",{class:this.classes(Ea.base,fe.widget)},q("div",{class:this.classes(Ea.moreResults,t),key:"esri-search-renderer__container"},this._renderSearchResultName(),this._renderMoreResults()))}_renderMoreResults(){return q("div",{key:"esri-search-renderer__more-results"},this._renderMoreResultsButton(),this._renderMoreResultsLists())}_renderSearchResultName(){var n;const t=(n=this.viewModel)==null?void 0:n.selectedResult,r=(t==null?void 0:t.name)||"";return q("div",{class:Ea.moreResultsItem,key:"esri-search-renderer__result-name"},r)}_renderMoreResultsLists(){const{viewModel:t}=this;if(!t)return[];const r=t.results;if((t.resultCount??0)<2)return null;const n=r==null?void 0:r.map(i=>this._renderMoreResultsList(i));return q("div",{class:Ea.moreResultsList,key:"esri-search-renderer__more-results-container"},n)}_renderMoreResultsButton(){const{messages:t,viewModel:r}=this;return r?(r.resultCount??0)<2?null:q("div",{class:Ea.moreResultsItem,key:"esri-search-renderer__more-results-button"},q("a",{bind:this,class:fe.anchor,href:"#",onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?t.hideMoreResults:t.showMoreResults)):null}_renderMoreResultsHeader(t,r){return q("div",{class:Ea.moreResultsListHeader,key:`esri-search-result-renderer__header-${r}`},t)}_renderMoreResultsList(t){var f,m,y;const{results:r}=t,n=(r==null?void 0:r.length)??0,i=n>0,s=(f=this.viewModel)==null?void 0:f.selectedResult,o=n===1&&r[0]===s,a=this._getSourceName(t.source,t.sourceIndex),l=(((y=(m=this.viewModel)==null?void 0:m.results)==null?void 0:y.length)??0)>1&&!o?this._renderMoreResultsHeader(a,t.sourceIndex):null,d=i&&r.map((g,v)=>this._renderMoreResultsListItem(g,v)),p=i&&!o?q("ul",{key:`esri-search-result-renderer__list-${t.sourceIndex}`},d):null;return i?q("div",{key:`esri-search-result-renderer__results-${t.sourceIndex}`},l,p):null}_renderMoreResultsListItem(t,r){var i;const n=(i=this.viewModel)==null?void 0:i.selectedResult;return t!==n?q("li",{key:`esri-search-result-renderer__list-item-${r}`},q("a",{bind:this,class:fe.anchor,"data-result":t,href:"#",onclick:this._selectResultClick,onkeydown:this._selectResultClick,tabIndex:0},t.name)):null}_showMoreResultsClick(t){var n,i;t.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const r=(i=(n=this.viewModel)==null?void 0:n.view)==null?void 0:i.popup;r&&"reposition"in r&&r.reposition()}_selectResultClick(t){var n;t.preventDefault();const r=t.currentTarget["data-result"];(n=this.viewModel)==null||n.select(r)}_getSourceName(t,r){return r===ic.ALL_INDEX?this.messages.all:t.name}};c([h(),Bl("esri/widgets/Search/t9n/Search")],go.prototype,"messages",void 0),c([h()],go.prototype,"showMoreResultsOpen",void 0),c([h()],go.prototype,"viewModel",void 0),c([mS()],go.prototype,"_showMoreResultsClick",null),c([mS()],go.prototype,"_selectResultClick",null),go=c([M("esri.widgets.Search.SearchResultRenderer")],go);const Jae=go,qs={checkMark:"esri-icon-check-mark",close:"esri-icon-close",collapse:"esri-icon-collapse",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",handleVertical:"esri-icon-handle-vertical",icon:"esri-icon",left:"esri-icon-left",loadingIndicator:"esri-icon-loading-indicator",locateCircled:"esri-icon-locate-circled",minus:"esri-icon-minus",noticeTriangle:"esri-icon-notice-triangle",pause:"esri-icon-pause",play:"esri-icon-play",plus:"esri-icon-plus",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",search:"esri-icon-search",swap:"esri-icon-swap",table:"esri-icon-table",trash:"esri-icon-trash",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomToObject:"esri-icon-zoom-to-object"};function Kae(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const r=t._delegatedEventNames,n=Array.isArray(e)?e:Yae(e);r.push(...n)}}function Yae(e){return e.split(",").map(t=>t.trim())}const Qae=/<[a-z/][\s\S]*>/i,Xae=(e,t)=>{const r=Qj(t).split(/\s/),n=new RegExp(`(${r.join("|")})`,"gi");return e.replace(n,i=>`<strong>${i}</strong>`)};let de=class extends od{constructor(e,t){super(e,t),this._activeMenuItemIndex=-1,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new Jae,this._suggestController=null,this._searchController=null,this._locateFailed=!1,this._container=null,this.activeMenu="none",this.disabled=!1,this.messages=null,this.messagesCommon=null,this.viewModel=new ic,this._clearActiveMenu=()=>{this.activeMenu="none"},this._removeActiveMenu=r=>{var i;const n=r.relatedTarget;n&&((i=this._container)!=null&&i.contains(n))||this._clearActiveMenu()},this.addHandles([re(()=>this.searchTerm,r=>{var n,i;(r&&this.activeMenu==="warning"||!r&&!((i=(n=this.viewModel)==null?void 0:n.selectedSuggestion)!=null&&i.location))&&this._clearActiveMenu()}),ea(()=>{var r;return(r=this.viewModel)==null?void 0:r.allSources},"change",()=>this._watchSourceChanges()),re(()=>this.activeMenu,()=>this._resetActiveMenuItemIndex(),Rt),re(()=>{var r;return(r=this.viewModel)==null?void 0:r.defaultPopupTemplate},r=>{r&&(r.content=this._renderSearchResultsContent.bind(this))},Rt)])}destroy(){this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer=He(this._searchResultRenderer)}get displayedSearchTerm(){return`${this.viewModel.searchTerm}`.trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}get activeSource(){var e;return(e=this.viewModel)==null?void 0:e.activeSource}get activeSourceIndex(){return this.viewModel.activeSourceIndex}set activeSourceIndex(e){this.viewModel.activeSourceIndex=e}get allPlaceholder(){return this.viewModel.allPlaceholder}set allPlaceholder(e){this.viewModel.allPlaceholder=e}get allSources(){return this.viewModel.allSources}get autoNavigate(){return this.viewModel.autoNavigate}set autoNavigate(e){this.viewModel.autoNavigate=e}get autoSelect(){return this.viewModel.autoSelect}set autoSelect(e){this.viewModel.autoSelect=e}get defaultSources(){return this.viewModel.defaultSources}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return"search"}set icon(e){this._overrideIfSome("icon",e)}get includeDefaultSources(){return this.viewModel.includeDefaultSources}set includeDefaultSources(e){this.viewModel.includeDefaultSources=e}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get locationEnabled(){return this.viewModel.locationEnabled}set locationEnabled(e){this.viewModel.locationEnabled=e}get maxResults(){return this.viewModel.maxResults}set maxResults(e){this.viewModel.maxResults=e}get maxSuggestions(){return this.viewModel.maxSuggestions}set maxSuggestions(e){this.viewModel.maxSuggestions=e}get minSuggestCharacters(){return this.viewModel.minSuggestCharacters}set minSuggestCharacters(e){this.viewModel.minSuggestCharacters=e}get popupEnabled(){return this.viewModel.popupEnabled}set popupEnabled(e){this.viewModel.popupEnabled=e}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(e){this.viewModel.popupTemplate=e}get portal(){var e;return(e=this.viewModel)==null?void 0:e.portal}set portal(e){this.viewModel&&(this.viewModel.portal=e)}get resultGraphic(){return this.viewModel.resultGraphic}set resultGraphic(e){this.viewModel.resultGraphic=e}get resultGraphicEnabled(){return this.viewModel.resultGraphicEnabled}set resultGraphicEnabled(e){this.viewModel.resultGraphicEnabled=e}get results(){return this.viewModel.results}get searchAllEnabled(){return this.viewModel.searchAllEnabled}set searchAllEnabled(e){this.viewModel.searchAllEnabled=e}get searchTerm(){return this.viewModel.searchTerm}set searchTerm(e){this.viewModel.searchTerm=e}get selectedResult(){return this.viewModel.selectedResult}get sources(){return this.viewModel.sources}set sources(e){this.viewModel.sources=e}get suggestions(){return this.viewModel.suggestions}get suggestionsEnabled(){return this.viewModel.suggestionsEnabled}set suggestionsEnabled(e){this.viewModel.suggestionsEnabled=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}clear(){this.viewModel.clear()}focus(){var e;(e=this._inputNode)==null||e.focus(),this.emit("search-focus")}blur(){var e;(e=this._inputNode)==null||e.blur(),this.emit("search-blur")}async search(e){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const t=new AbortController,{signal:r}=t;this._searchController=t;try{const n=await this.viewModel.search(e,{signal:r});return this._searchController!==t?void 0:(this.activeMenu=n!=null&&n.numResults?"none":"warning",this._searchController=null,n)}catch{return this._searchController!==t?void 0:(this._clearActiveMenu(),void(this._searchController=null))}}async suggest(e){this._cancelSuggest();const t=new AbortController,{signal:r}=t;this._suggestController=t;try{const n=await this.viewModel.suggest(e,null,{signal:r});return this._suggestController!==t?void 0:(this._suggestController=null,n!=null&&n.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),n)}catch{return this._suggestController!==t||(this._suggestController=null),null}}render(){const{state:e}=this.viewModel,t={[fe.disabled]:e==="disabled",[fe.widgetDisabled]:this.disabled};return q("div",{class:this.classes(Ce.base,fe.widget,t)},e==="loading"?this._renderLoader():this._renderContainer())}_renderSubmitButton(){const{messages:e,disabled:t}=this;return q("button",{"aria-label":e.searchButtonTitle,bind:this,class:this.classes(Ce.submitButton,fe.widgetButton),disabled:t,key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:e.searchButtonTitle,type:"button"},q("span",{"aria-hidden":"true",class:qs.search}))}_renderWarningMenu(){return q("div",{class:this.classes(fe.menu,Ce.warningMenu),key:"esri-search__error-menu"},q("div",{class:Ce.warningMenuBody},this._renderWarning()))}_renderSourceMenuButton(){const{messages:e,activeMenu:t,sourceMenuId:r,sourceMenuButtonId:n,disabled:i}=this,{activeSourceIndex:s,allSources:o}=this.viewModel;return o.length>1?q("button",{afterCreate:hm,"aria-controls":r,"aria-expanded":(t==="source").toString(),"aria-haspopup":"true","aria-label":e.searchIn,bind:this,class:this.classes(Ce.sourcesButton,fe.widgetButton),"data-node-ref":"_sourceMenuButtonNode",disabled:i,id:n,key:"esri-search__source-menu-button",onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,title:e.searchIn,type:"button"},q("span",{"aria-hidden":"true",class:this.classes(qs.downArrow,Ce.sourcesButtonDown)}),q("span",{"aria-hidden":"true",class:this.classes(qs.upArrow,Ce.sourcesButtonUp)}),q("span",{class:Ce.sourceName},this._getSourceName(s))):null}_renderSourcesList(){const{allSources:e,searchAllEnabled:t}=this.viewModel,{_activeMenuItemIndex:r,activeMenu:n,sourceMenuId:i,sourceMenuButtonId:s}=this,o=n==="source"&&r>-1?this._buildId("source-item",r):null;return e.length>1?q("ul",{afterCreate:hm,"aria-activedescendant":o,"aria-labelledby":s,bind:this,class:fe.menuList,"data-node-ref":"_sourceListNode",id:i,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,role:"menu",tabIndex:-1},t?this._renderSource(ic.ALL_INDEX):null,e.map((a,l)=>this._renderSource(l)).toArray()):null}_renderSourcesMenu(){const{allSources:e}=this.viewModel;return e.length>1?q("div",{class:this.classes(fe.menu,Ce.sourcesMenu),key:"esri-search__source-menu"},this._renderSourcesList()):null}_renderLoader(){const{messages:e,messagesCommon:t,disabled:r}=this;return q("div",{class:fe.loader,key:"base-loader",tabIndex:r?-1:void 0},q("span",{"aria-hidden":"true",class:fe.loaderAnimation}),q("span",{class:qs.fontFallbackText},e.searchButtonTitle),q("span",{class:fe.loaderText},t.loading))}_renderContainer(){const{allSources:e,state:t}=this.viewModel,{activeMenu:r}=this,n={[Ce.hasMultipleSources]:e.length>1,[Ce.isLoading]:t==="loading",[Ce.isSearching]:t==="searching",[Ce.showWarning]:r==="warning",[Ce.showSources]:r==="source",[Ce.showSuggestions]:r==="suggestion"};return q("div",{afterCreate:i=>{this._container=i,i.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:i=>{i.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes(n,Ce.container),key:"base-container",tabIndex:-1},this._renderSourceMenuButton(),this._renderSourcesMenu(),this._renderInputContainer(),this._renderSubmitButton(),this._renderWarningMenu())}_renderClearButton(){return this.searchTerm?q("button",{bind:this,class:this.classes(Ce.clearButton,fe.widgetButton),disabled:this.disabled,key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},q("span",{"aria-hidden":"true",class:qs.close})):null}_renderLocationGroup(){const{messages:e,locationEnabled:t,displayedSearchTerm:r}=this,n=t&&!r,i=this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0;return n?q("ul",{class:this.classes(fe.menuList,Ce.suggestionList,Ce.suggestionListCurrentLocation),key:"esri-search__suggestion-list-current-location",role:"group"},q("li",{"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0).toString(),bind:this,class:this.classes(fe.menuItem,i?fe.menuItemFocus:null),"data-current-location-item":!0,id:this._buildId("suggestion-item",0),onclick:this._handleUseCurrentLocationClick,role:"option"},q("span",{"aria-hidden":"true",class:qs.locateCircled})," ",e.useCurrentLocation)):null}_renderInput(){const{activeMenu:e,locationEnabled:t,displayedSearchTerm:r,messages:n,suggestionsMenuId:i,inputId:s,_activeMenuItemIndex:o,disabled:a}=this,{maxInputLength:l,placeholder:d,searchTerm:p,suggestionCount:f}=this.viewModel,m=!(!(t&&!r)&&!f),y=e==="suggestion"&&o>-1?this._buildId("suggestion-item",o):null;return q("input",{afterCreate:hm,"aria-activedescendant":y,"aria-autocomplete":"list","aria-controls":m?i:null,"aria-expanded":(m&&e==="suggestion").toString(),"aria-haspopup":"listbox","aria-label":n.searchButtonTitle,autocomplete:"off",bind:this,class:this.classes(fe.input,Ce.input),"data-node-ref":"_inputNode",disabled:a,id:s,maxlength:l,onblur:this.blur,onclick:this._openSuggestionMenu,onfocus:this.focus,oninput:this._handleInputPaste,onkeyup:this._handleInputKeyup,onpaste:this._handleInputPaste,placeholder:d,role:"combobox",title:p?"":d,type:"text",value:p})}_renderForm(){return q("form",{bind:this,class:Ce.form,disabled:this.disabled,key:"esri-search__form",onsubmit:this._formSubmit,role:"search"},this._renderInput())}_renderSuggestList(e){const{sourceIndex:t}=e,{results:r}=e;return(r==null?void 0:r.length)?q("ul",{class:this.classes(fe.menuList,Ce.suggestionList),key:`esri-search__suggestion-list-${t}`,role:"group"},r==null?void 0:r.map(i=>this._renderSuggestion(i,this._menuItemCount++))):null}_renderSuggestionsGroup(){const{suggestions:e}=this.viewModel;return e?e.map(t=>[this._renderSuggestionHeader(t),this._renderSuggestList(t)]):[]}_renderSuggestionsMenu(){const{displayedSearchTerm:e,locationEnabled:t,suggestionsMenuId:r,inputId:n}=this,{suggestionCount:i}=this.viewModel,s=t&&!e||i;return this._menuItemCount=0,s?q("div",{afterCreate:hm,"aria-labelledby":n,bind:this,class:this.classes(fe.menu,Ce.suggestionsMenu),"data-node-ref":"_suggestionListNode",id:r,key:"esri-search__suggestions-menu",role:"listbox"},this._renderLocationGroup(),this._renderSuggestionsGroup()):null}_renderInputContainer(){return q("div",{class:Ce.inputContainer,key:"esri-search__input-container"},this._renderForm(),this._renderSuggestionsMenu(),this._renderClearButton())}_renderSuggestionHeader(e){var o;const{allSources:t,activeSourceIndex:r}=this.viewModel,{sourceIndex:n}=e,i=(o=e.results)==null?void 0:o.length,s=t.length>1&&r===ic.ALL_INDEX;return i&&s?q("div",{class:fe.menuHeader,key:`esri-search__suggestion-header-${n}`},this._getSourceName(n)):null}_renderSuggestion(e,t){const{_activeMenuItemIndex:r,viewModel:{searchTerm:n}}=this;if(!n)return;const i=this.activeMenu==="suggestion"&&r===t;return q("li",{"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===t).toString(),bind:this,class:this.classes(fe.menuItem,i?fe.menuItemFocus:null),"data-suggestion":e,id:this._buildId("suggestion-item",t),innerHTML:this._getSuggestResultHTML(e.text,n),key:`esri-search__suggestion_${t}`,onclick:this._handleSuggestionClick,role:"option"})}_renderSource(e){const{activeSourceIndex:t,searchAllEnabled:r}=this.viewModel,n={[fe.menuItemActive]:e===t,[fe.menuItemFocus]:this.activeMenu==="source"&&e===(r?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},i=r?e+1:e;return q("li",{"aria-checked":(e===t).toString(),bind:this,class:this.classes(Ce.source,fe.menuItem,n),"data-source-index":e,id:this._buildId("source-item",i),key:`esri-search__source-${e}`,onclick:this._handleSourceClick,role:"menuitemradio"},this._getSourceName(e))}_renderNoResultsWarning(e){const{messages:t}=this,r=e?W5(t.noResultsFoundForValue,{value:`"${e}"`}):t.noResultsFound;return q("div",{key:"esri-search__no_results"},q("div",{class:Ce.warningMenuHeader},t.noResults),q("div",{class:Ce.warningMenuText},r))}_renderEmptySearchWarning(){const{messages:e}=this;return q("div",{key:"esri-search__empty-search"},q("span",{"aria-hidden":"true",class:qs.noticeTriangle}),q("span",{class:Ce.noValueText},e.emptyValue))}_renderLocateWarning(){const{messages:e}=this;return q("div",{key:"esri-search__locate-error"},q("span",{"aria-hidden":"true",class:qs.noticeTriangle}),q("span",{class:Ce.noValueText},e.locateError))}_renderWarning(){var n;const{displayedSearchTerm:e,_locateFailed:t}=this,{viewModel:r}=this;return t?this._renderLocateWarning():(n=r.selectedSuggestion)!=null&&n.location||e?this._renderNoResultsWarning(e):this._renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(e,t){return`${this.id}-${e}${t===void 0?"":`-${t}`}`}_watchSourceChanges(){const{viewModel:{allSources:e}}=this,t="sources";this.removeHandles(t),e.forEach(r=>this.addHandles(re(()=>r.name,()=>this.scheduleRender()),t))}_handleSourcesMenuToggleFocus(){this.activeMenu!=="source"&&this._clearActiveMenu()}_handleSourcesMenuToggleClick(){var t;const e=this.activeMenu==="source";this.activeMenu=e?"none":"source",this.renderNow(),this.activeMenu==="source"&&((t=this._sourceListNode)==null||t.focus())}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(e){const t=oC(e.currentTarget);t&&(this._focus(),this.search(t))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const e=new AbortController,{signal:t}=e;this._searchController=e,(async()=>{try{const r=await this.viewModel.searchNearby({signal:t});this.activeMenu=r!=null&&r.numResults?"none":"warning"}catch{this._locateFailed=!0,this.activeMenu="warning"}finally{this._searchController=null}})()}_handleSourceClick(e){this._setSourceFromMenuItem(e.currentTarget)}_setSourceFromMenuItem(e){var r;if(!e)return;const t=ele(e);t!=null&&(this.viewModel.activeSourceIndex=t,this._clearActiveMenu(),(r=this._sourceMenuButtonNode)==null||r.focus())}_cancelSuggest(){this._suggestController=Il(this._suggestController)}_cancelSearch(){this._searchController=Il(this._searchController),this._locateFailed=!1}_handleInputKeyup(e){var i;const{key:t}=e;if(e.ctrlKey||e.metaKey||t==="Copy"||t==="ArrowLeft"||t==="ArrowRight"||t==="Shift")return;if(t==="Tab"||t==="Escape"||e.shiftKey&&t==="Tab")return this._cancelSuggest(),void(t==="Escape"&&this._clearActiveMenu());const r=t==="Home"||t==="End"||t==="ArrowUp"||t==="ArrowDown";if(t==="Enter"&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const n=(i=this._suggestionListNode)==null?void 0:i.getElementsByTagName("li");if(n!=null&&n.length){if(this.activeMenu!=="suggestion"&&this._openSuggestionMenu(),r)return e.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(t,n,this._suggestionListNode);const s=n[this._activeMenuItemIndex];if(t==="Enter"&&s){const o=oC(s);return void(o?(this._focus(),this.search(o)):tle(s)&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}_handleItemNavigation(e,t,r){const n=this._activeMenuItemIndex;e==="Home"&&(this._activeMenuItemIndex=0),e==="End"&&(this._activeMenuItemIndex=t.length-1),e==="ArrowUp"&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?t.length-1:this._activeMenuItemIndex-1),e==="ArrowDown"&&(this._activeMenuItemIndex=this._activeMenuItemIndex===t.length-1?0:this._activeMenuItemIndex+1),n!==this._activeMenuItemIndex&&r&&aJ(t[this._activeMenuItemIndex],r)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_openSuggestionMenu(){this.activeMenu="suggestion"}_handleInputPaste(e){const t=e.target;this.viewModel.searchTerm!==t.value&&(this.viewModel.searchTerm=t.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(e){var r;const{key:t}=e;if(ML(t)){e.preventDefault();const n=(r=this._sourceListNode)==null?void 0:r.getElementsByTagName("li"),i=n==null?void 0:n[this._activeMenuItemIndex];this._setSourceFromMenuItem(i)}else t!=="ArrowUp"&&t!=="ArrowDown"&&t!=="End"&&t!=="Home"||e.preventDefault()}_handleSourceMenuKeyup(e){var i,s,o;const{key:t}=e,r=t==="ArrowUp"||t==="ArrowDown"||t==="End"||t==="Home";if(r&&e.preventDefault(),t==="Escape")return this._clearActiveMenu(),void((i=this._sourceMenuButtonNode)==null?void 0:i.focus());const n=(s=this._sourceListNode)==null?void 0:s.getElementsByTagName("li");return n&&n.length!==0&&r?(this.activeMenu!=="source"&&(this.activeMenu="source"),void this._handleItemNavigation(t,n,(o=this._sourceListNode)==null?void 0:o.parentElement)):void 0}_focus(e){this.focus(),e&&(this.activeMenu=e)}_formSubmit(e){e.preventDefault(),this._activeMenuItemIndex===-1&&this.search()}_getSourceName(e){const{messages:t}=this,r=this.viewModel,{allSources:n}=r,i=n.at(e);return e===ic.ALL_INDEX?t.all:i&&i.name||t.untitledSource}_getSuggestResultHTML(e,t){return e?Qae.test(e)?e:Xae(e,t):this.messages.untitledResult}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};function oC(e){return e==null?void 0:e["data-suggestion"]}function ele(e){return e==null?void 0:e["data-source-index"]}function tle(e){return!!(e!=null&&e["data-current-location-item"])}c([h()],de.prototype,"_activeMenuItemIndex",void 0),c([h()],de.prototype,"displayedSearchTerm",null),c([h({readOnly:!0})],de.prototype,"inputId",null),c([h({readOnly:!0})],de.prototype,"suggestionsMenuId",null),c([h({readOnly:!0})],de.prototype,"sourceMenuId",null),c([h({readOnly:!0})],de.prototype,"sourceMenuButtonId",null),c([h()],de.prototype,"activeMenu",void 0),c([h({readOnly:!0})],de.prototype,"activeSource",null),c([h()],de.prototype,"activeSourceIndex",null),c([h()],de.prototype,"allPlaceholder",null),c([h({readOnly:!0})],de.prototype,"allSources",null),c([h()],de.prototype,"autoNavigate",null),c([h()],de.prototype,"autoSelect",null),c([h({readOnly:!0})],de.prototype,"defaultSources",null),c([h()],de.prototype,"disabled",void 0),c([h()],de.prototype,"goToOverride",null),c([h()],de.prototype,"icon",null),c([h()],de.prototype,"includeDefaultSources",null),c([h()],de.prototype,"label",null),c([h()],de.prototype,"locationEnabled",null),c([h()],de.prototype,"maxResults",null),c([h()],de.prototype,"maxSuggestions",null),c([h(),Bl("esri/widgets/Search/t9n/Search")],de.prototype,"messages",void 0),c([h(),Bl("esri/t9n/common")],de.prototype,"messagesCommon",void 0),c([h()],de.prototype,"minSuggestCharacters",null),c([h()],de.prototype,"popupEnabled",null),c([h()],de.prototype,"popupTemplate",null),c([h()],de.prototype,"portal",null),c([h()],de.prototype,"resultGraphic",null),c([h()],de.prototype,"resultGraphicEnabled",null),c([h({readOnly:!0})],de.prototype,"results",null),c([h()],de.prototype,"searchAllEnabled",null),c([h()],de.prototype,"searchTerm",null),c([h({readOnly:!0})],de.prototype,"selectedResult",null),c([h()],de.prototype,"sources",null),c([h({readOnly:!0})],de.prototype,"suggestions",null),c([h()],de.prototype,"suggestionsEnabled",null),c([h()],de.prototype,"view",null),c([Kae(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),h({type:ic})],de.prototype,"viewModel",void 0),de=c([M("esri.widgets.Search")],de);const rle=de;var D8={exports:{}},F8={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sf=vt;function nle(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ile=typeof Object.is=="function"?Object.is:nle,sle=Sf.useSyncExternalStore,ole=Sf.useRef,ale=Sf.useEffect,lle=Sf.useMemo,ule=Sf.useDebugValue;F8.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=ole(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=lle(function(){function l(y){if(!d){if(d=!0,p=y,y=n(y),i!==void 0&&o.hasValue){var g=o.value;if(i(g,y))return f=g}return f=y}if(g=f,ile(p,y))return g;var v=n(y);return i!==void 0&&i(g,v)?g:(p=y,f=v)}var d=!1,p,f,m=r===void 0?null:r;return[function(){return l(t())},m===null?void 0:function(){return l(m())}]},[t,r,n,i]);var a=sle(e,s[0],s[1]);return ale(function(){o.hasValue=!0,o.value=a},[a]),ule(a),a};D8.exports=F8;var cle=D8.exports,Br="default"in FT?jC:FT,aC=Symbol.for("react-redux-context"),lC=typeof globalThis<"u"?globalThis:{};function dle(){if(!Br.createContext)return{};const e=lC[aC]??(lC[aC]=new Map);let t=e.get(Br.createContext);return t||(t=Br.createContext(null),e.set(Br.createContext,t)),t}var la=dle(),hle=()=>{throw new Error("uSES not initialized!")};function OT(e=la){return function(){return Br.useContext(e)}}var j8=OT(),z8=hle,ple=e=>{z8=e},fle=(e,t)=>e===t;function mle(e=la){const t=e===la?j8:OT(e),r=(n,i={})=>{const{equalityFn:s=fle,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:d,stabilityCheck:p,identityFunctionCheck:f}=t();Br.useRef(!0);const m=Br.useCallback({[n.name](g){return n(g)}}[n.name],[n,p,o.stabilityCheck]),y=z8(l.addNestedSub,a.getState,d||a.getState,m,s);return Br.useDebugValue(y),y};return Object.assign(r,{withTypes:()=>r}),r}var yle=mle();function gle(e){e()}function vle(){let e=null,t=null;return{clear(){e=null,t=null},notify(){gle(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var uC={notify(){},get:()=>[]};function wle(e,t){let r,n=uC,i=0,s=!1;function o(v){p();const S=n.subscribe(v);let w=!1;return()=>{w||(w=!0,S(),f())}}function a(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function d(){return s}function p(){i++,r||(r=e.subscribe(l),n=vle())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=uC)}function m(){s||(s=!0,p())}function y(){s&&(s=!1,f())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:d,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>n};return g}var _le=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ble=typeof navigator<"u"&&navigator.product==="ReactNative",Sle=_le||ble?Br.useLayoutEffect:Br.useEffect;function $le({store:e,context:t,children:r,serverState:n,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Br.useMemo(()=>{const d=wle(e);return{store:e,subscription:d,getServerState:n?()=>n:void 0,stabilityCheck:i,identityFunctionCheck:s}},[e,n,i,s]),a=Br.useMemo(()=>e.getState(),[e]);Sle(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),a!==e.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,a]);const l=t||la;return Br.createElement(l.Provider,{value:o},r)}var xle=$le;function U8(e=la){const t=e===la?j8:OT(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var Tle=U8();function Mle(e=la){const t=e===la?Tle:U8(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Ele=Mle();ple(cle.useSyncExternalStoreWithSelector);function zt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kle=typeof Symbol=="function"&&Symbol.observable||"@@observable",cC=kle,Sw=()=>Math.random().toString(36).substring(7).split("").join("."),Ple={INIT:`@@redux/INIT${Sw()}`,REPLACE:`@@redux/REPLACE${Sw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sw()}`},_0=Ple;function IT(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function V8(e,t,r){if(typeof e!="function")throw new Error(zt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(zt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(zt(1));return r(V8)(e,t)}let n=e,i=t,s=new Map,o=s,a=0,l=!1;function d(){o===s&&(o=new Map,s.forEach((S,w)=>{o.set(w,S)}))}function p(){if(l)throw new Error(zt(3));return i}function f(S){if(typeof S!="function")throw new Error(zt(4));if(l)throw new Error(zt(5));let w=!0;d();const _=a++;return o.set(_,S),function(){if(w){if(l)throw new Error(zt(6));w=!1,d(),o.delete(_),s=null}}}function m(S){if(!IT(S))throw new Error(zt(7));if(typeof S.type>"u")throw new Error(zt(8));if(typeof S.type!="string")throw new Error(zt(17));if(l)throw new Error(zt(9));try{l=!0,i=n(i,S)}finally{l=!1}return(s=o).forEach(_=>{_()}),S}function y(S){if(typeof S!="function")throw new Error(zt(10));n=S,m({type:_0.REPLACE})}function g(){const S=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(zt(11));function _(){const x=w;x.next&&x.next(p())}return _(),{unsubscribe:S(_)}},[cC](){return this}}}return m({type:_0.INIT}),{dispatch:m,subscribe:f,getState:p,replaceReducer:y,[cC]:g}}function Cle(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:_0.INIT})>"u")throw new Error(zt(12));if(typeof r(void 0,{type:_0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zt(13))})}function Ole(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{Cle(r)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const d={};for(let p=0;p<n.length;p++){const f=n[p],m=r[f],y=o[f],g=m(y,a);if(typeof g>"u")throw a&&a.type,new Error(zt(14));d[f]=g,l=l||g!==y}return l=l||n.length!==Object.keys(o).length,l?d:o}}function b0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Ile(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(zt(15))};const o={getState:i.getState,dispatch:(l,...d)=>s(l,...d)},a=e.map(l=>l(o));return s=b0(...a)(i.dispatch),{...i,dispatch:s}}}function Ale(e){return IT(e)&&"type"in e&&typeof e.type=="string"}var G8=Symbol.for("immer-nothing"),dC=Symbol.for("immer-draftable"),Yr=Symbol.for("immer-state");function qn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qc=Object.getPrototypeOf;function Hl(e){return!!e&&!!e[Yr]}function As(e){var t;return e?W8(e)||Array.isArray(e)||!!e[dC]||!!((t=e.constructor)!=null&&t[dC])||Uv(e)||Vv(e):!1}var Rle=Object.prototype.constructor.toString();function W8(e){if(!e||typeof e!="object")return!1;const t=qc(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Rle}function S0(e,t){zv(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function zv(e){const t=e[Yr];return t?t.type_:Array.isArray(e)?1:Uv(e)?2:Vv(e)?3:0}function _S(e,t){return zv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function B8(e,t,r){const n=zv(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Lle(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Uv(e){return e instanceof Map}function Vv(e){return e instanceof Set}function sl(e){return e.copy_||e.base_}function bS(e,t){if(Uv(e))return new Map(e);if(Vv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=W8(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Yr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const o=i[s],a=n[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(qc(e),n)}else{const n=qc(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function AT(e,t=!1){return Gv(e)||Hl(e)||!As(e)||(zv(e)>1&&(e.set=e.add=e.clear=e.delete=Nle),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>AT(n,!0))),e}function Nle(){qn(2)}function Gv(e){return Object.isFrozen(e)}var Dle={};function ql(e){const t=Dle[e];return t||qn(0,e),t}var Fp;function H8(){return Fp}function Fle(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hC(e,t){t&&(ql("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function SS(e){$S(e),e.drafts_.forEach(jle),e.drafts_=null}function $S(e){e===Fp&&(Fp=e.parent_)}function pC(e){return Fp=Fle(Fp,e)}function jle(e){const t=e[Yr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function fC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Yr].modified_&&(SS(t),qn(4)),As(e)&&(e=$0(t,e),t.parent_||x0(t,e)),t.patches_&&ql("Patches").generateReplacementPatches_(r[Yr].base_,e,t.patches_,t.inversePatches_)):e=$0(t,r,[]),SS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==G8?e:void 0}function $0(e,t,r){if(Gv(t))return t;const n=t[Yr];if(!n)return S0(t,(i,s)=>mC(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return x0(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,o=!1;n.type_===3&&(s=new Set(i),i.clear(),o=!0),S0(s,(a,l)=>mC(e,n,i,a,l,r,o)),x0(e,i,!1),r&&e.patches_&&ql("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function mC(e,t,r,n,i,s,o){if(Hl(i)){const a=s&&t&&t.type_!==3&&!_S(t.assigned_,n)?s.concat(n):void 0,l=$0(e,i,a);if(B8(r,n,l),Hl(l))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(As(i)&&!Gv(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;$0(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&x0(e,i)}}function x0(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&AT(t,r)}function zle(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:H8(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=RT;r&&(i=[n],s=jp);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return n.draft_=a,n.revoke_=o,a}var RT={get(e,t){if(t===Yr)return e;const r=sl(e);if(!_S(r,t))return Ule(e,r,t);const n=r[t];return e.finalized_||!As(n)?n:n===$w(e.base_,t)?(xw(e),e.copy_[t]=TS(n,e)):n},has(e,t){return t in sl(e)},ownKeys(e){return Reflect.ownKeys(sl(e))},set(e,t,r){const n=q8(sl(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=$w(sl(e),t),s=i==null?void 0:i[Yr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Lle(r,i)&&(r!==void 0||_S(e.base_,t)))return!0;xw(e),xS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return $w(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,xw(e),xS(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=sl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){qn(11)},getPrototypeOf(e){return qc(e.base_)},setPrototypeOf(){qn(12)}},jp={};S0(RT,(e,t)=>{jp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});jp.deleteProperty=function(e,t){return jp.set.call(this,e,t,void 0)};jp.set=function(e,t,r){return RT.set.call(this,e[0],t,r,e[0])};function $w(e,t){const r=e[Yr];return(r?sl(r):e)[t]}function Ule(e,t,r){var i;const n=q8(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function q8(e,t){if(!(t in e))return;let r=qc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=qc(r)}}function xS(e){e.modified_||(e.modified_=!0,e.parent_&&xS(e.parent_))}function xw(e){e.copy_||(e.copy_=bS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Vle=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const o=this;return function(l=s,...d){return o.produce(l,p=>r.call(this,p,...d))}}typeof r!="function"&&qn(6),n!==void 0&&typeof n!="function"&&qn(7);let i;if(As(t)){const s=pC(this),o=TS(t,void 0);let a=!0;try{i=r(o),a=!1}finally{a?SS(s):$S(s)}return hC(s,n),fC(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===G8&&(i=void 0),this.autoFreeze_&&AT(i,!0),n){const s=[],o=[];ql("Patches").generateReplacementPatches_(t,i,s,o),n(s,o)}return i}else qn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let n,i;return[this.produce(t,r,(o,a)=>{n=o,i=a}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){As(e)||qn(8),Hl(e)&&(e=Gle(e));const t=pC(this),r=TS(e,void 0);return r[Yr].isManual_=!0,$S(t),r}finishDraft(e,t){const r=e&&e[Yr];(!r||!r.isManual_)&&qn(9);const{scope_:n}=r;return hC(n,t),fC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ql("Patches").applyPatches_;return Hl(e)?n(e,t):this.produce(e,i=>n(i,t))}};function TS(e,t){const r=Uv(e)?ql("MapSet").proxyMap_(e,t):Vv(e)?ql("MapSet").proxySet_(e,t):zle(e,t);return(t?t.scope_:H8()).drafts_.push(r),r}function Gle(e){return Hl(e)||qn(10,e),Z8(e)}function Z8(e){if(!As(e)||Gv(e))return e;const t=e[Yr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=bS(e,t.scope_.immer_.useStrictShallowCopy_)}else r=bS(e,!0);return S0(r,(n,i)=>{B8(r,n,Z8(i))}),t&&(t.finalized_=!1),r}var Qr=new Vle,J8=Qr.produce;Qr.produceWithPatches.bind(Qr);Qr.setAutoFreeze.bind(Qr);Qr.setUseStrictShallowCopy.bind(Qr);Qr.applyPatches.bind(Qr);Qr.createDraft.bind(Qr);Qr.finishDraft.bind(Qr);function K8(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var Wle=K8(),Ble=K8,Hle=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?b0:b0.apply(null,arguments)};function yC(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(ti(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>Ale(n)&&n.type===e,r}var Y8=class Th extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Th.prototype)}static get[Symbol.species](){return Th}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Th(...t[0].concat(this)):new Th(...t.concat(this))}};function gC(e){return As(e)?J8(e,()=>{}):e}function vC(e,t,r){if(e.has(t)){let i=e.get(t);return r.update&&(i=r.update(i,t,e),e.set(t,i)),i}if(!r.insert)throw new Error(ti(10));const n=r.insert(t,e);return e.set(t,n),n}function qle(e){return typeof e=="boolean"}var Zle=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new Y8;return r&&(qle(r)?o.push(Wle):o.push(Ble(r.extraArgument))),o},Jle="RTK_autoBatch",Q8=e=>t=>{setTimeout(t,e)},Kle=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Q8(10),Yle=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,o=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?Kle:e.type==="callback"?e.queueNotification:Q8(e.timeout),d=()=>{o=!1,s&&(s=!1,a.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const f=()=>i&&p(),m=n.subscribe(f);return a.add(p),()=>{m(),a.delete(p)}},dispatch(p){var f;try{return i=!((f=p==null?void 0:p.meta)!=null&&f[Jle]),s=!i,s&&(o||(o=!0,l(d))),n.dispatch(p)}finally{i=!0}}})},Qle=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new Y8(e);return n&&i.push(Yle(typeof n=="object"?n:void 0)),i};function Xle(e){const t=Zle(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let a;if(typeof r=="function")a=r;else if(IT(r))a=Ole(r);else throw new Error(ti(1));let l;typeof n=="function"?l=n(t):l=t();let d=b0;i&&(d=Hle({trace:!1,...typeof i=="object"&&i}));const p=Ile(...l),f=Qle(p);let m=typeof o=="function"?o(f):f();const y=d(...m);return V8(a,s,y)}function X8(e){const t={},r=[];let n;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(ti(28));if(a in t)throw new Error(ti(29));return t[a]=o,i},addMatcher(s,o){return r.push({matcher:s,reducer:o}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function eue(e){return typeof e=="function"}function tue(e,t){let[r,n,i]=X8(t),s;if(eue(e))s=()=>gC(e());else{const a=gC(e);s=()=>a}function o(a=s(),l){let d=[r[l.type],...n.filter(({matcher:p})=>p(l)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[i]),d.reduce((p,f)=>{if(f)if(Hl(p)){const y=f(p,l);return y===void 0?p:y}else{if(As(p))return J8(p,m=>f(m,l));{const m=f(p,l);if(m===void 0){if(p===null)return p;throw new Error(ti(9))}return m}}return p},a)}return o.getInitialState=s,o}var rue=Symbol.for("rtk-slice-createasyncthunk");function nue(e,t){return`${e}/${t}`}function iue({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[rue];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(ti(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(aue()):i.reducers)||{},l=Object.keys(a),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase($,x){const T=typeof $=="string"?$:$.type;if(!T)throw new Error(ti(12));if(T in d.sliceCaseReducersByType)throw new Error(ti(13));return d.sliceCaseReducersByType[T]=x,p},addMatcher($,x){return d.sliceMatchers.push({matcher:$,reducer:x}),p},exposeAction($,x){return d.actionCreators[$]=x,p},exposeCaseReducer($,x){return d.sliceCaseReducersByName[$]=x,p}};l.forEach($=>{const x=a[$],T={reducerName:$,type:nue(s,$),createNotation:typeof i.reducers=="function"};uue(x)?due(T,x,p,t):lue(T,x,p)});function f(){const[$={},x=[],T=void 0]=typeof i.extraReducers=="function"?X8(i.extraReducers):[i.extraReducers],E={...$,...d.sliceCaseReducersByType};return tue(i.initialState,P=>{for(let O in E)P.addCase(O,E[O]);for(let O of d.sliceMatchers)P.addMatcher(O.matcher,O.reducer);for(let O of x)P.addMatcher(O.matcher,O.reducer);T&&P.addDefaultCase(T)})}const m=$=>$,y=new Map;let g;function v($,x){return g||(g=f()),g($,x)}function S(){return g||(g=f()),g.getInitialState()}function w($,x=!1){function T(P){let O=P[$];return typeof O>"u"&&x&&(O=S()),O}function E(P=m){const O=vC(y,x,{insert:()=>new WeakMap});return vC(O,P,{insert:()=>{const A={};for(const[R,G]of Object.entries(i.selectors??{}))A[R]=sue(G,P,S,x);return A}})}return{reducerPath:$,getSelectors:E,get selectors(){return E(T)},selectSlice:T}}const _={name:s,reducer:v,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...w(o),injectInto($,{reducerPath:x,...T}={}){const E=x??o;return $.inject({reducerPath:E,reducer:v},T),{..._,...w(E,!0)}}};return _}}function sue(e,t,r,n){function i(s,...o){let a=t(s);return typeof a>"u"&&n&&(a=r()),e(a,...o)}return i.unwrapped=e,i}var oue=iue();function aue(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function lue({type:e,reducerName:t,createNotation:r},n,i){let s,o;if("reducer"in n){if(r&&!cue(n))throw new Error(ti(17));s=n.reducer,o=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?yC(e,o):yC(e))}function uue(e){return e._reducerDefinitionType==="asyncThunk"}function cue(e){return e._reducerDefinitionType==="reducerWithPrepare"}function due({type:e,reducerName:t},r,n,i){if(!i)throw new Error(ti(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:d,options:p}=r,f=i(e,s,p);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),a&&n.addCase(f.pending,a),l&&n.addCase(f.rejected,l),d&&n.addMatcher(f.settled,d),n.exposeCaseReducer(t,{fulfilled:o||Om,pending:a||Om,rejected:l||Om,settled:d||Om})}function Om(){}function ti(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const hue={point1:{latitude:0,longitude:0},point2:{latitude:0,longitude:0},distance:0},eF=oue({name:"map",initialState:hue,reducers:{setMapData(e,t){const{point1:r,point2:n,distance:i}=t.payload;e.point1=r,e.point2=n,e.distance=i}}}),{setMapData:pue}=eF.actions,fue=eF.reducer;function tF(e){if(!e)return null;if(ef(e)&&e.wkid){const r=$q[e.wkid];if(r)return r}const t=e.wkt2||e.wkt;if(t){const r=mue(t);if(r)return r}return null}function mue(e){const t=bq.exec(e);if(!t||t.length!==2)return null;const r=t[1].split(",");if(!r||r.length<3)return null;const n=parseFloat(r[1]),i=parseFloat(r[2]);return isNaN(n)||isNaN(i)?null:{a:n,f:i===0?0:1/i}}function yue(e){const t=tF(e);if(gue(t))return t;const r=t.a*(1-t.f);return Object.assign(t,{b:r,eSq:1-(r/t.a)**2,radius:(2*t.a+r)/3,densificationRatio:1e4/((2*t.a+r)/3)})}function gue(e){return e!=null&&"b"in e&&"eSq"in e&&"radius"in e}function wC(e){return e!=null&&e<0?e+360:e}function vue(e){return tF(e)!==null}class _C{constructor(t=0,r=void 0,n=void 0){this.distance=t,this.azimuth=r,this.reverseAzimuth=n}}function wue(e,t,r,n){const i=t[0]*ba,s=t[1]*ba,o=r[0]*ba,a=r[1]*ba,{a:l,b:d,f:p,radius:f}=yue(n),m=o-i,y=Math.atan((1-p)*Math.tan(s)),g=Math.atan((1-p)*Math.tan(a)),v=Math.sin(y),S=Math.cos(y),w=Math.sin(g),_=Math.cos(g);let $,x,T,E,P,O,A,R,G,Z,le=1e3,W=m;do{if(A=Math.sin(W),R=Math.cos(W),T=Math.sqrt(_*A*(_*A)+(S*w-v*_*R)*(S*w-v*_*R)),T===0)return e.distance=0,e.azimuth=void 0,e.reverseAzimuth=void 0,e;P=v*w+S*_*R,O=Math.atan2(T,P),G=S*_*A/T,x=1-G*G,E=P-2*v*w/x,isNaN(E)&&(E=0),Z=p/16*x*(4+p*(4-3*x)),$=W,W=m+(1-Z)*p*G*(O+Z*T*(E+Z*P*(2*E*E-1)))}while(Math.abs(W-$)>1e-12&&--le>0);if(le===0){const ce=f,ze=Math.acos(Math.sin(s)*Math.sin(a)+Math.cos(s)*Math.cos(a)*Math.cos(o-i))*ce,ct=o-i,nu=Math.sin(ct)*Math.cos(a),Wi=Math.cos(s)*Math.sin(a)-Math.sin(s)*Math.cos(a)*Math.cos(ct),ad=Math.atan2(nu,Wi);return e.azimuth=ad/ba,e.distance=ze,e.reverseAzimuth=void 0,e}const pe=x*(l*l-d*d)/(d*d),Dt=pe/1024*(256+pe*(pe*(74-47*pe)-128)),nt=d*(1+pe/16384*(4096+pe*(pe*(320-175*pe)-768)))*(O-Dt*T*(E+Dt/4*(P*(2*E*E-1)-Dt/6*E*(4*T*T-3)*(4*E*E-3)))),N=Math.atan2(_*Math.sin(W),S*w-v*_*Math.cos(W)),te=Math.atan2(S*Math.sin(W),S*w*Math.cos(W)-v*_);return e.azimuth=N/ba,e.distance=nt,e.reverseAzimuth=te/ba,e}function _ue(e,t,r="meters"){if(!e||!t)throw new j("geodesic-distance:missing-parameters","one or both input parameters are missing");if(!e.spatialReference||!t.spatialReference)throw new j("geodesic-distance:invalid-parameters","one or both input points do not have a spatial reference");if(!Et(e.spatialReference,t.spatialReference))throw new j("geodesic-distance:invalid-parameters","spatial references of input parameters do not match");const{spatialReference:n}=e;if(!vue(n))throw new j("geodesic-distance:not-supported","input geometry spatial reference is not supported");if(e.x===t.x&&e.y===t.y)return new _C(0,0,0);const i=new _C;return wue(i,[e.x,e.y],[t.x,t.y],n),i.distance=qA(i.distance,"meters",r),i.azimuth=wC(i.azimuth),i.reverseAzimuth=wC(i.reverseAzimuth),i}const bue=()=>{const e=Ele(),[t,r]=vt.useState(),[n,i]=vt.useState([]),s=vt.useRef(null),o=vt.useRef([]);return vt.useEffect(()=>{if(s.current){const a=new eN({basemap:"dark-gray-vector"}),l=new Goe({container:s.current,map:a,center:[139.58,-2.296],zoom:2}),d=new rle({view:l});l.ui.add(d,{position:"top-right",index:2}),l.on("click",p=>{if(o.current.length>=2){alert("You can only place up to two markers on the map.");return}const f=p.mapPoint,m=new Gl({geometry:new Q({x:f.longitude,y:f.latitude,spatialReference:{wkid:4326}})});l.graphics.add(m),o.current.push(m),i(y=>[...y,{latitude:f.latitude,longitude:f.longitude}]),l.openPopup({title:"Coordinates",content:`Longitude: ${f.longitude.toFixed(4)}, Latitude: ${f.latitude.toFixed(4)}`,location:f})})}},[]),vt.useEffect(()=>{var a,l,d,p;if(n.length===2){const f=_ue(new Q({x:(a=n[0])==null?void 0:a.longitude,y:(l=n[0])==null?void 0:l.latitude}),new Q({x:(d=n[1])==null?void 0:d.longitude,y:(p=n[1])==null?void 0:p.latitude}),"kilometers"),{distance:m}=f;r(Number(m))}else return},[n]),vt.useEffect(()=>{n.length===2&&e(pue({point1:n[0],point2:n[1],distance:t??0}))},[n,e,t]),Te.jsx("div",{ref:s,style:{height:"110vh",width:"100%",margin:0,padding:0}})},Sue=()=>{const[e,t]=vt.useState("kms"),[r,n]=vt.useState(0),[i,s]=vt.useState(0),o=()=>{n(y=>y+1)},{point1:a,point2:l,distance:d}=yle(y=>y.map);vt.useEffect(()=>{f(!0)},[d]),vt.useEffect(()=>{e==="mi"?s(d*.621371):e==="ms"?s(d*1e3):e==="kms"&&s(d)},[d,e]);const[p,f]=vt.useState(!1),m=()=>{f(!p)};return Te.jsx(Te.Fragment,{children:Te.jsxs("main",{className:"hero",children:[Te.jsxs("article",{className:"cont",children:[Te.jsx("aside",{className:"side",style:{width:p?"auto":"10px"},children:Te.jsxs("section",{className:"info",children:[Te.jsx("h1",{className:"head",children:"Point 1"}),Te.jsxs("h1",{children:["Latitude: ",a.latitude.toFixed(4)]}),Te.jsxs("h1",{children:["Longitude: ",a.longitude.toFixed(4)]}),Te.jsx("h1",{className:"head",children:"Point 2"}),Te.jsxs("h1",{children:["Latitude: ",l.latitude.toFixed(4)]}),Te.jsxs("h1",{children:["Longitude: ",l.longitude.toFixed(4)]}),Te.jsxs("h1",{className:"head",children:["Distance: ",i.toFixed(4)," ",e]}),Te.jsxs("section",{className:"conv",children:[Te.jsx("button",{className:e==="ms"?"active":"inactive",onClick:()=>{t("ms")},children:"Meters"}),Te.jsx("button",{className:e==="kms"?"active":"inactive",onClick:()=>{t("kms")},children:"Kilometers"}),Te.jsx("button",{className:e==="mi"?"active":"inactive",onClick:()=>{t("mi")},children:"Miles"})]})]})}),Te.jsx("section",{className:"expand",onClick:m,children:Te.jsx("img",{src:p?Ij:Oj,alt:""})})]}),Te.jsx("article",{className:"map",children:Te.jsx(bue,{},r)}),Te.jsx("button",{className:"reset",onClick:o,children:"Reset"})]})})},$ue=()=>{const[e,t]=vt.useState(!0);return vt.useEffect(()=>{setTimeout(()=>{t(!1)},2e3)},[]),Te.jsx(Te.Fragment,{children:e?Te.jsx(Cj,{}):Te.jsx(Sue,{})})},xue=Xle({reducer:{map:fue}});VI(document.getElementById("root")).render(Te.jsx(xle,{store:xue,children:Te.jsx($ue,{})}));export{fpe as $,gT as A,Bc as B,ore as C,Q6 as D,Or as E,W6 as F,Et as G,bp as H,iV as I,j as J,dpe as K,zfe as L,rS as M,yQ as N,Wo as O,Rt as P,mpe as Q,ype as R,upe as S,kp as T,at as U,X as V,$x as W,nr as X,L4 as Y,ii as Z,U as _,aa as a,Yc as a$,F_ as a0,Jhe as a1,VH as a2,Cv as a3,ga as a4,Pv as a5,mf as a6,sf as a7,Yo as a8,ee as a9,mie as aA,Q as aB,Di as aC,Zn as aD,iv as aE,Le as aF,hpe as aG,ppe as aH,Wde as aI,Bde as aJ,ra as aK,Zde as aL,qde as aM,Hde as aN,wf as aO,Uk as aP,Ht as aQ,Me as aR,jX as aS,ge as aT,sv as aU,he as aV,B as aW,jc as aX,L as aY,aT as aZ,Afe as a_,wD as aa,ve as ab,MR as ac,ax as ad,ER as ae,TR as af,Rk as ag,Wpe as ah,gde as ai,a4 as aj,Cr as ak,D$ as al,Ri as am,o4 as an,qA as ao,tde as ap,ut as aq,T$ as ar,Mr as as,Ni as at,bm as au,Ede as av,L6 as aw,HG as ax,gl as ay,Kl as az,Mn as b,BD as b$,zL as b0,lt as b1,E4 as b2,ye as b3,Ahe as b4,Uce as b5,Ie as b6,si as b7,Bo as b8,OR as b9,_e as bA,fa as bB,ia as bC,Vi as bD,ji as bE,B_ as bF,Be as bG,W_ as bH,q_ as bI,Rg as bJ,tL as bK,b1 as bL,Jx as bM,Lk as bN,Pde as bO,Npe as bP,Bpe as bQ,Bhe as bR,fye as bS,x4 as bT,g_ as bU,yie as bV,WI as bW,Mk as bX,OY as bY,AD as bZ,Qme as b_,DL as ba,vV as bb,Fx as bc,Yhe as bd,Ui as be,NX as bf,Vx as bg,Ife as bh,Os as bi,mN as bj,ope as bk,bpe as bl,PQ as bm,n0 as bn,r0 as bo,epe as bp,ape as bq,Ul as br,Dhe as bs,U3 as bt,zq as bu,Ud as bv,rL as bw,Xl as bx,Nhe as by,spe as bz,Qh as c,Wr as c$,Jme as c0,Kme as c1,Hme as c2,Nse as c3,Mse as c4,sZ as c5,h3 as c6,X0 as c7,Zce as c8,wee as c9,Ol as cA,xU as cB,uf as cC,fre as cD,Cce as cE,ere as cF,gU as cG,ade as cH,L_ as cI,Gz as cJ,JL as cK,gY as cL,j3 as cM,zA as cN,UA as cO,pa as cP,ZL as cQ,VA as cR,DX as cS,cpe as cT,cx as cU,rf as cV,Ll as cW,vQ as cX,wpe as cY,gQ as cZ,vpe as c_,Hce as ca,yr as cb,Che as cc,cf as cd,Bce as ce,efe as cf,Yh as cg,xb as ch,rG as ci,Sk as cj,sN as ck,ne as cl,Ns as cm,Gpe as cn,Tde as co,Zr as cp,Qj as cq,$ce as cr,Wj as cs,Due as ct,iG as cu,X$ as cv,ex as cw,sG as cx,ev as cy,tv as cz,c as d,XJ as d$,kce as d0,mn as d1,rv as d2,pA as d3,dU as d4,IU as d5,Qp as d6,zz as d7,Xz as d8,oA as d9,lK as dA,zme as dB,Ote as dC,gpe as dD,ef as dE,Lv as dF,Nv as dG,J0 as dH,_T as dI,nce as dJ,pl as dK,Xp as dL,bv as dM,or as dN,ff as dO,fA as dP,yU as dQ,sU as dR,oU as dS,EU as dT,U4 as dU,W0 as dV,Nx as dW,gv as dX,Cp as dY,f4 as dZ,qr as d_,hA as da,uA as db,eU as dc,kue as dd,SV as de,Rc as df,J$ as dg,Dj as dh,pW as di,Cfe as dj,L8 as dk,Nae as dl,Wme as dm,qme as dn,Zme as dp,Xde as dq,Mue as dr,jpe as ds,Hpe as dt,U0 as du,JM as dv,Ihe as dw,OA as dx,Tn as dy,cK as dz,ke as e,wce as e$,q$ as e0,eK as e1,Gce as e2,khe as e3,__ as e4,pye as e5,Lg as e6,NL as e7,Gde as e8,Qe as e9,Kp as eA,Ct as eB,rx as eC,LG as eD,Bp as eE,Gt as eF,Z1 as eG,E$ as eH,are as eI,u3 as eJ,qhe as eK,dde as eL,be as eM,Mt as eN,hs as eO,gs as eP,WL as eQ,Gc as eR,Ume as eS,O$ as eT,Rce as eU,Ace as eV,K7 as eW,LY as eX,I$ as eY,ofe as eZ,Nde as e_,bde as ea,qq as eb,Mde as ec,wde as ed,Z3 as ee,So as ef,Lt as eg,_p as eh,Yp as ei,Ome as ej,Ls as ek,ha as el,Ho as em,zce as en,Yce as eo,A7 as ep,qp as eq,c3 as er,zl as es,PP as et,Il as eu,AV as ev,G$ as ew,et as ex,Gue as ey,Is as ez,M as f,pf as f$,vde as f0,sA as f1,rre as f2,ire as f3,K6 as f4,Qu as f5,p2 as f6,Pp as f7,yY as f8,Ece as f9,TY as fA,vk as fB,fn as fC,xp as fD,Uue as fE,Ode as fF,pc as fG,EV as fH,Li as fI,Ofe as fJ,Bme as fK,Bj as fL,Xpe as fM,Lde as fN,Wz as fO,Sn as fP,Ev as fQ,Mv as fR,kv as fS,nT as fT,df as fU,HQ as fV,hf as fW,Ov as fX,rT as fY,sfe as fZ,Ohe as f_,uU as fa,zK as fb,rde as fc,LK as fd,WE as fe,ehe as ff,the as fg,C as fh,BK as fi,xq as fj,_v as fk,Y0 as fl,Lue as fm,vU as fn,Gme as fo,Qq as fp,ay as fq,Jce as fr,oa as fs,zj as ft,k$ as fu,C7 as fv,iZ as fw,Khe as fx,AY as fy,IY as fz,re as g,GL as g$,Zue as g0,zU as g1,BU as g2,ZU as g3,Oi as g4,Je as g5,afe as g6,ufe as g7,Ir as g8,EY as g9,Uz as gA,rY as gB,zx as gC,m6 as gD,Rfe as gE,Lfe as gF,Py as gG,Z0 as gH,AL as gI,bA as gJ,rZ as gK,C$ as gL,Mu as gM,se as gN,Nfe as gO,$de as gP,rW as gQ,RK as gR,qL as gS,VL as gT,Lhe as gU,bK as gV,Rhe as gW,SK as gX,Lx as gY,PR as gZ,sT as g_,Vl as ga,Bue as gb,Nue as gc,uce as gd,Ps as ge,_n as gf,mt as gg,Nh as gh,nU as gi,OU as gj,AU as gk,hre as gl,tG as gm,Z5 as gn,lG as go,a0 as gp,j$ as gq,lU as gr,iU as gs,aA as gt,qz as gu,gg as gv,Bg as gw,tY as gx,Bz as gy,Hz as gz,kne as h,IG as h$,Wue as h0,Mce as h1,cA as h2,qK as h3,Fg as h4,Pce as h5,dA as h6,hU as h7,R7 as h8,sce as h9,yye as hA,y1 as hB,Bl as hC,od as hD,MT as hE,q as hF,W5 as hG,Xie as hH,Hj as hI,Vce as hJ,nV as hK,Q0 as hL,Kce as hM,Yme as hN,Woe as hO,Op as hP,ife as hQ,S$ as hR,$$ as hS,ta as hT,QI as hU,XI as hV,Iue as hW,nv as hX,Jm as hY,Cde as hZ,KA as h_,I6 as ha,Z6 as hb,Rp as hc,lT as hd,eS as he,x6 as hf,vf as hg,yce as hh,Vme as hi,R_ as hj,DU as hk,Hn as hl,eL as hm,Kx as hn,Dpe as ho,Lpe as hp,b as hq,ede as hr,Hp as hs,JG as ht,ZG as hu,pde as hv,xde as hw,d0 as hx,mye as hy,xl as hz,Gl as i,Cne as i$,jG as i0,tf as i1,ude as i2,MU as i3,RQ as i4,Qhe as i5,eD as i6,C4 as i7,hce as i8,dce as i9,SR as iA,fde as iB,$4 as iC,Ke as iD,d3 as iE,H0 as iF,sX as iG,GX as iH,lre as iI,ll as iJ,fr as iK,jue as iL,zue as iM,Fue as iN,_V as iO,ZK as iP,jK as iQ,UK as iR,O7 as iS,KI as iT,Zhe as iU,tu as iV,cz as iW,Eue as iX,Sv as iY,WJ as iZ,$N as i_,B7 as ia,W7 as ib,Rue as ic,Gj as id,Sde as ie,YI as ig,MA as ih,jce as ii,GA as ij,C3 as ik,FL as il,Wie as im,Qce as io,nre as ip,Zee as iq,Gee as ir,gf as is,Tce as it,F$ as iu,jx as iv,Yl as iw,Wce as ix,M4 as iy,Hhe as iz,Iee as j,cT as j$,DW as j0,Xce as j1,sR as j2,oX as j3,Fpe as j4,H$ as j5,nY as j6,eY as j7,cU as j8,XK as j9,Mi as jA,ate as jB,Rv as jC,lfe as jD,Kj as jE,cfe as jF,LX as jG,SN as jH,Cs as jI,cce as jJ,p3 as jK,MQ as jL,nde as jM,ide as jN,Fh as jO,lpe as jP,tpe as jQ,npe as jR,rpe as jS,ipe as jT,_pe as jU,YM as jV,Xhe as jW,lte as jX,O6 as jY,$ie as jZ,X_ as j_,GI as ja,qo as jb,Qn as jc,Fv as jd,Fhe as je,V6 as jf,B6 as jg,Nte as jh,Ufe as ji,Bte as jj,$c as jk,Vfe as jl,Np as jm,Mre as jn,tfe as jo,rfe as jp,nfe as jq,CT as jr,Yz as js,zd as jt,jhe as ju,lA as jv,VY as jw,Wg as jx,Fi as jy,cde as jz,Hx as k,Vpe as k$,Ss as k0,xD as k1,Ac as k2,Rme as k3,qce as k4,Tue as k5,sde as k6,VX as k7,_z as k8,Y_ as k9,E3 as kA,zde as kB,WA as kC,RW as kD,xP as kE,VG as kF,hde as kG,kde as kH,iW as kI,mde as kJ,BG as kK,yde as kL,qpe as kM,Xte as kN,Tv as kO,_de as kP,Ore as kQ,Ire as kR,CU as kS,LV as kT,Oue as kU,zpe as kV,Upe as kW,wY as kX,vY as kY,Aee as kZ,Uj as k_,Jde as ka,fe as kb,hm as kc,ahe as kd,nJ as ke,qs as kf,rJ as kg,Cue as kh,CQ as ki,u6 as kj,Qie as kk,kQ as kl,i0 as km,o0 as kn,Vue as ko,eye as kp,nf as kq,K as kr,uk as ks,Bx as kt,DQ as ku,FQ as kv,t8 as kw,tC as kx,Joe as ky,Kae as kz,sa as l,rhe as l0,ihe as l1,ame as m,z as n,ice as o,$p as p,I as q,ume as r,xR as s,RL as t,He as u,ea as v,xce as w,Ay as x,h as y,Y6 as z};
